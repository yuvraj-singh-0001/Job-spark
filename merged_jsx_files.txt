=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\eslint.config.js ===
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs['recommended-latest'],
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\postcss.config.js ===
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\App.jsx ===
import { RouterProvider } from "react-router-dom";
import router from "./routes/router.jsx";

export default function App() {
  return <RouterProvider router={router} />;
}

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\apiconfig\apiconfig.jsx ===
import axios from "axios";

/**
 * Axios Instance
 * --------------
 * Purpose:
 *   - Centralize API configuration.
 *   - Automatically include credentials (cookies) for authentication.
 *   - Use baseURL so all requests start from /api without repeating the address.
 *
 * baseURL:
 *   - Uses Vite environment variable VITE_API_BASE.
 *   - Falls back to localhost backend for development.
 *
 * withCredentials:
 *   - Ensures JWT HttpOnly cookies are sent automatically with every request.
 *   - Required for protected routes and auth middleware.
 */
const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE || "http://localhost:5000/api",
  withCredentials: true, // allow sending cookies
});

/**
 * Axios Response Interceptor
 * ---------------------------
 * Purpose:
 *   - Catch errors globally (e.g., 401 Unauthorized).
 *   - You can auto-logout or redirect based on server responses.
 *
 * Current behavior:
 *   - Simply rethrows the error (but gives a clean place to handle auth failures later).
 */
api.interceptors.response.use(
  (response) => response,
  (error) => {
    // Example (optional):
    // if (error.response?.status === 401) {
    //   localStorage.removeItem("user");
    //   window.location.href = "/login";
    // }

    return Promise.reject(error);
  }
);

export default api;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\admin-layout\AdminLayout.jsx ===
import React from "react";
import { Outlet } from "react-router-dom";
import AdminSidebar from "./AdminSidebar.jsx";

/**
 * Admin Layout - For admin dashboard pages
 * Includes Sidebar for navigation
 */
const AdminLayout = () => {
  return (
    <div className="min-h-screen bg-gray-50 flex">
      <AdminSidebar />

      <main className="flex-1 ml-64 p-6 transition-all duration-300">
        <Outlet />
      </main>
    </div>
  );
};

export default AdminLayout;


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\admin-layout\AdminSidebar.jsx ===
import React, { useState } from "react";
import { Link, useLocation, useNavigate } from "react-router-dom";
import { 
  LayoutDashboard, 
  Briefcase, 
  User, 
  Users, 
  Menu, 
  Clock, 
  CheckCircle,
  FileText,
  XCircle,
  Archive,
  LogOut
} from "lucide-react";
import api from "../../../components/apiconfig/apiconfig";

/**
 * Admin Sidebar - For admin dashboard
 */
const AdminSidebar = () => {
  const [isOpen, setIsOpen] = useState(true);
  const location = useLocation();
  const navigate = useNavigate();

  // Define menu items
  const menuItems = [
    { title: "Dashboard", icon: <LayoutDashboard />, path: "/admin" },
    { title: "Pending Recruiters", icon: <Clock />, path: "/admin/pending-recruiters" },
    { title: "Verified Recruiters", icon: <CheckCircle />, path: "/admin/verified-recruiters" },
    { title: "Users", icon: <User />, path: "/admin/users" },
    { title: "Jobs", icon: <FileText />, path: "/admin/jobs" },
    { title: "Pending Jobs", icon: <Clock />, path: "/admin/pending-jobs" },
    { title: "Approved Jobs", icon: <CheckCircle />, path: "/admin/approved-jobs" },
    { title: "Rejected Jobs", icon: <XCircle />, path: "/admin/rejected-jobs" },
    { title: "Closed Jobs", icon: <Archive />, path: "/admin/closed-jobs" },
  ];

  const handleLogout = async () => {
    try {
      await api.post('/auth/logout');
      localStorage.removeItem('token');
      navigate('/admin/signin');
    } catch (error) {
      console.error('Logout error:', error);
    }
  };

  return (
    <aside
      className={`h-screen border-r bg-white transition-all duration-300 fixed top-0 left-0 z-50
      ${isOpen ? "w-64" : "w-20"}`}
    >
      {/* Top Section */}
      <div className="flex items-center justify-between p-4 border-b">
        <h1
          className={`text-xl font-bold transition-all duration-300 ${isOpen ? "opacity-100" : "opacity-0 hidden"
            }`}
        >
          Admin Panel
        </h1>

        <button
          onClick={() => setIsOpen(!isOpen)}
          className="p-2 rounded-md hover:bg-gray-200 transition-colors"
        >
          <Menu size={20} />
        </button>
      </div>

      {/* Menu Items */}
      <ul className="mt-4 space-y-2 px-2">
        {menuItems.map((item) => {
          const isActive = location.pathname === item.path;

          return (
            <li key={item.title}>
              <Link
                to={item.path}
                className={`flex items-center gap-4 px-4 py-3 rounded-lg cursor-pointer
                transition-all duration-200
                ${isActive
                    ? "bg-blue-600 text-white"
                    : "text-gray-700 hover:bg-gray-100"
                  }
              `}
              >
                <span className="text-lg flex-shrink-0">{item.icon}</span>
                <span
                  className={`${isOpen ? "block" : "hidden"
                    } text-md font-medium whitespace-nowrap`}
                >
                  {item.title}
                </span>
              </Link>
            </li>
          );
        })}
      </ul>

      {/* Logout Button */}
      <div className="absolute bottom-0 left-0 right-0 p-2 border-t">
        <button
          onClick={handleLogout}
          className={`flex items-center gap-4 w-full px-4 py-3 rounded-lg cursor-pointer
            transition-all duration-200 text-red-600 hover:bg-red-50
            ${!isOpen ? "justify-center" : ""}
          `}
        >
          <LogOut size={20} />
          <span
            className={`${isOpen ? "block" : "hidden"
              } text-md font-medium whitespace-nowrap`}
          >
            Logout
          </span>
        </button>
      </div>
    </aside>
  );
};

export default AdminSidebar;


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\candidate-layout\CandidateLayout.jsx ===
import React, { useState, useEffect } from 'react';
import { Outlet, useLocation, useNavigate } from 'react-router-dom';
import CandidateSidebar from './CandidateSidebar.jsx';
import api from '../../../components/apiconfig/apiconfig';

/**
 * Candidate Layout - For user/candidate dashboard pages
 * Includes Sidebar for navigation
 */
const CandidateLayout = () => {
  const [mobileSidebarOpen, setMobileSidebarOpen] = useState(false);
  const [userData, setUserData] = useState(null);
  const location = useLocation();
  const navigate = useNavigate();

  useEffect(() => {
    setMobileSidebarOpen(false);
  }, [location.pathname]);

  useEffect(() => {
    fetchUserData();
  }, []);

  const fetchUserData = async () => {
    try {
      const response = await api.get('/auth/authcheck');
      if (response.data?.user) {
        setUserData(response.data.user);
      }
    } catch (error) {
      console.error('Error fetching user data:', error);
    }
  };

  const getUserInitial = () => {
    if (userData?.full_name) {
      return userData.full_name.charAt(0).toUpperCase();
    }
    return userData?.username?.charAt(0).toUpperCase() || 'U';
  };

  const handleLogout = async () => {
    try {
      await api.post('/auth/logout');
      localStorage.removeItem('token');
      navigate('/sign-in');
    } catch (error) {
      console.error('Logout error:', error);
    }
  };

  return (
    <div className="min-h-screen bg-slate-50">
      {/* Mobile Header */}
      <header className="md:hidden fixed inset-x-0 top-0 z-20 bg-white border-b border-slate-200">
        <div className="flex items-center justify-between px-4 py-3">
          <button
            onClick={() => setMobileSidebarOpen(!mobileSidebarOpen)}
            className="p-2 rounded-lg hover:bg-slate-100"
          >
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
          <span className="font-semibold">HireSpark</span>
          <div className="h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-medium">
            {getUserInitial()}
          </div>
        </div>
      </header>

      <div className="min-h-screen flex md:pt-0 pt-16">
        {/* Sidebar */}
        <CandidateSidebar 
          sidebarOpen={true}
          mobileSidebarOpen={mobileSidebarOpen}
          userData={userData}
          onToggleSidebar={() => {}}
          onLogout={handleLogout}
          currentPath={location.pathname}
          setMobileSidebarOpen={setMobileSidebarOpen}
        />

        {/* Main Content */}
        <main className="flex-1 flex flex-col md:ml-64">
          {/* Top Bar for Desktop */}
          <div className="hidden md:flex items-center justify-between px-8 py-4 border-b border-slate-200 bg-white">
            <div>
              <h2 className="text-lg font-semibold tracking-tight">Dashboard</h2>
              <p className="text-xs text-slate-500 mt-1">Overview of your job search activity.</p>
            </div>
            <div className="flex items-center gap-3">
              <input
                type="text"
                placeholder="Search jobs..."
                className="px-3 py-1.5 text-sm border border-slate-200 rounded-lg bg-slate-50 focus:outline-none focus:ring-1 focus:ring-slate-400 w-48"
              />
              <div className="h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center font-medium">
                {getUserInitial()}
              </div>
            </div>
          </div>

          {/* Page Content */}
          <section className="p-4 md:p-8">
            <Outlet />
          </section>
        </main>
      </div>
    </div>
  );
};

export default CandidateLayout;


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\candidate-layout\CandidateSidebar.jsx ===
import React from 'react';
import { Link } from 'react-router-dom';

/**
 * Candidate Sidebar - For user/candidate dashboard
 */
export default function CandidateSidebar({
  sidebarOpen,
  mobileSidebarOpen,
  userData,
  onToggleSidebar,
  onLogout,
  currentPath,
  setMobileSidebarOpen
}) {
  const navItems = [
    { path: '/dashboard', label: 'Dashboard' },
    { path: '/jobs', label: 'Find Jobs' },
    { path: '/dashboard/saved', label: 'Saved' },
    { path: '/dashboard/applied', label: 'Applications' },
    { path: '/dashboard/profile', label: 'Profile' },
    { path: '/dashboard/alerts', label: 'Notifications' },
  ];

  return (
    <>
      {/* Desktop Sidebar */}
      <aside className="w-64 bg-white border-r border-slate-200 hidden md:flex flex-col">
        <div className="px-6 py-4 border-b border-slate-200">
          <h1 className="text-xl font-semibold tracking-tight">HireSpark</h1>
          <p className="text-xs text-slate-500 mt-1">Applicant Dashboard</p>
        </div>

        <nav className="flex-1 px-3 py-4 space-y-1 text-sm">
          {navItems.map((item) => (
            <Link
              key={item.path}
              to={item.path}
              className={`
                flex items-center gap-2 px-3 py-2 rounded-lg font-medium
                ${currentPath === item.path 
                  ? 'bg-slate-900 text-white' 
                  : 'text-slate-700 hover:bg-slate-100'
                }
              `}
            >
              <span>{item.label}</span>
            </Link>
          ))}
        </nav>

        <div className="px-3 py-4 border-t border-slate-200">
          <button 
            onClick={onLogout}
            className="w-full text-left px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50"
          >
            Logout
          </button>
        </div>
      </aside>

      {/* Mobile Sidebar Overlay */}
      {mobileSidebarOpen && (
        <div 
          className="md:hidden fixed inset-0 bg-black/50 z-40"
          onClick={() => setMobileSidebarOpen(false)}
        />
      )}

      {/* Mobile Sidebar */}
      <aside className={`
        md:hidden fixed inset-y-0 left-0 w-64 bg-white z-50 transform transition-transform duration-300
        ${mobileSidebarOpen ? 'translate-x-0' : '-translate-x-full'}
      `}>
        <div className="px-6 py-4 border-b border-slate-200">
          <h1 className="text-xl font-semibold tracking-tight">HireSpark</h1>
          <p className="text-xs text-slate-500 mt-1">Applicant Dashboard</p>
        </div>

        <nav className="flex-1 px-3 py-4 space-y-1 text-sm">
          {navItems.map((item) => (
            <Link
              key={item.path}
              to={item.path}
              className={`
                flex items-center gap-2 px-3 py-2 rounded-lg font-medium
                ${currentPath === item.path 
                  ? 'bg-slate-900 text-white' 
                  : 'text-slate-700 hover:bg-slate-100'
                }
              `}
              onClick={() => setMobileSidebarOpen(false)}
            >
              <span>{item.label}</span>
            </Link>
          ))}
        </nav>

        <div className="px-3 py-4 border-t border-slate-200">
          <button 
            onClick={onLogout}
            className="w-full text-left px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50"
          >
            Logout
          </button>
        </div>
      </aside>
    </>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\guest-layout\GuestFooter.jsx ===
import { Link } from "react-router-dom";
import { Sparkles } from "lucide-react";

/**
 * Guest Footer - For public pages
 */
function GuestFooter() {
  return (
    <footer className="mt-12 bg-white border-t border-slate-200 text-slate-600">
      <div className="max-w-6xl mx-auto px-4 sm:px-6 md:px-8 lg:px-10 py-10 md:py-12">
        <div className="grid md:grid-cols-4 gap-8 mb-8">
          {/* Brand / description */}
          <div className="space-y-3 md:col-span-2 lg:col-span-1">
            <div className="flex items-center gap-2">
              <div className="h-9 w-9 rounded-xl bg-blue-600 text-white grid place-items-center">
                <Sparkles size={18} />
              </div>
              <span className="text-lg font-extrabold tracking-tight text-slate-900">
                Hire<span className="text-blue-600">Spark</span>
              </span>
            </div>
            <p className="text-xs text-slate-500 max-w-xs">
              A modern hiring platform that helps companies and candidates connect
              faster and more fairly.
            </p>
          </div>

          {/* Product links */}
          <div>
            <h4 className="text-xs font-semibold text-slate-900 uppercase tracking-wide mb-3">
              Product
            </h4>
            <ul className="space-y-2 text-xs text-slate-600">
              <li>
                <Link to="/jobs" className="hover:text-blue-600 transition-colors">
                  Browse Jobs
                </Link>
              </li>
              <li>
                <Link to="/post-job" className="hover:text-blue-600 transition-colors">
                  Post a Job
                </Link>
              </li>
              <li>
                <Link to="/companies" className="hover:text-blue-600 transition-colors">
                  Companies
                </Link>
              </li>
            </ul>
          </div>

          {/* Company links */}
          <div>
            <h4 className="text-xs font-semibold text-slate-900 uppercase tracking-wide mb-3">
              Company
            </h4>
            <ul className="space-y-2 text-xs text-slate-600">
              <li>
                <Link to="/" className="hover:text-blue-600 transition-colors">
                  Home
                </Link>
              </li>
              <li>
                <Link to="/contact" className="hover:text-blue-600 transition-colors">
                  Contact
                </Link>
              </li>
              <li>
                <Link to="/terms" className="hover:text-blue-600 transition-colors">
                  Terms
                </Link>
              </li>
              <li>
                <Link to="/privacy" className="hover:text-blue-600 transition-colors">
                  Privacy
                </Link>
              </li>
            </ul>
          </div>

          {/* Newsletter */}
          <div>
            <h4 className="text-xs font-semibold text-slate-900 uppercase tracking-wide mb-3">
              Stay in the loop
            </h4>
            <p className="text-xs text-slate-500 mb-3">
              Get curated job alerts and hiring insights in your inbox.
            </p>
            <form
              onSubmit={(e) => e.preventDefault()}
              className="space-y-2 max-w-xs"
            >
              <div className="flex rounded-lg bg-slate-50 border border-slate-200 overflow-hidden">
                <input
                  type="email"
                  required
                  placeholder="Your email"
                  className="flex-1 px-3 py-2 text-xs bg-transparent outline-none text-slate-700 placeholder:text-slate-400"
                />
                <button
                  type="submit"
                  className="px-3 py-2 text-xs font-semibold bg-blue-600 hover:bg-blue-700 text-white"
                >
                  Subscribe
                </button>
              </div>
              <p className="text-[10px] text-slate-400">
                No spam. Unsubscribe anytime.
              </p>
            </form>
          </div>
        </div>

        <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-slate-200 pt-4">
          <p className="text-[11px] text-slate-500">
            © {new Date().getFullYear()} HireSpark. All rights reserved.
          </p>
        </div>
      </div>
    </footer>
  );
}

export default GuestFooter;


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\guest-layout\GuestLayout.jsx ===
import React from "react";
import { Outlet, useLocation } from "react-router-dom";
import GuestNavbar from "./GuestNavbar.jsx";
import GuestFooter from "./GuestFooter.jsx";

/**
 * Guest Layout - For public pages (home, jobs, companies, etc.)
 * Includes Navbar and Footer (footer hidden on auth pages)
 */
const GuestLayout = () => {
  const { pathname } = useLocation();

  // Routes where we DON'T want to show the footer
  const noFooterRoutes = [
    "/sign-in",
    "/sign-up",
    "/forgot",
    "/sign-in-modal",
    "/admin/signin",
    "/admin/signup",
  ];

  const hideFooter =
    noFooterRoutes.includes(pathname) ||
    noFooterRoutes.some((p) => pathname.startsWith(p + "/"));

  return (
    <div className="min-h-screen flex flex-col">
      <header>
        <GuestNavbar />
      </header>

      <main className="flex-1">
        <Outlet />
      </main>

      {!hideFooter && (
        <footer>
          <GuestFooter />
        </footer>
      )}
    </div>
  );
};

export default GuestLayout;


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\guest-layout\GuestNavbar.jsx ===
import React, { useState, useEffect, useRef } from "react";
import { Sparkles, User, Menu, X } from "lucide-react";
import { Link, useNavigate } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";
import SignInModal from "../../../modules/auth/candidate-recruiter/SignInModal";

/**
 * Guest Navbar - For public pages
 */
export default function GuestNavbar() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [open, setOpen] = useState(false);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const dropdownRef = useRef(null);
  const navigate = useNavigate();

  // auth popup
  const [authOpen, setAuthOpen] = useState(false);
  const [selectedRole, setSelectedRole] = useState("user"); // "user" (candidate) | "recruiter"

  useEffect(() => {
    let mounted = true;

    async function fetchProfile() {
      try {
        const res = await api.get("/auth/me");
        if (mounted) setUser(res.data.user || null);
      } catch (err) {
        if (mounted) setUser(null);
      } finally {
        if (mounted) setLoading(false);
      }
    }

    fetchProfile();

    return () => {
      mounted = false;
    };
  }, []);

  useEffect(() => {
    function handleClickOutside(e) {
      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {
        setOpen(false);
      }
    }

    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);

  function formatCreatedDate(u) {
    if (!u) return "-";
    const d =
      u.created_at ||
      u.createdAt ||
      u.created ||
      u.createdAtDate ||
      u.createdAtUTC;
    try {
      const date = d ? new Date(d) : null;
      return date ? date.toLocaleDateString() : "-";
    } catch (e) {
      return "-";
    }
  }

  function formatLoginTime(u) {
    if (!u) return "-";
    const d = u.loginAt || u.last_login || u.lastLogin || u.loggedInAt;
    try {
      const date = d ? new Date(d) : null;
      return date ? date.toLocaleString() : "-";
    } catch (e) {
      return "-";
    }
  }

  async function handleLogout() {
    try {
      await api.post("/auth/logout");
      setUser(null);
      setOpen(false);
      setMobileMenuOpen(false);
      navigate("/sign-in");
    } catch (err) {
      console.error("Logout failed", err);
    }
  }

  function handleOpenAuth(role) {
    setSelectedRole(role); // "user" or "recruiter"
    setAuthOpen(true);
    setMobileMenuOpen(false); // Close mobile menu if open
  }

  return (
    <>
      <header className="sticky top-0 z-50 border-b border-slate-200 bg-white text-slate-900 shadow-sm">
        <div className="max-w-6xl mx-auto px-4 sm:px-6 md:px-8 lg:px-10 py-3 md:py-4 flex items-center justify-between">
          {/* Logo */}
          <div>
            <Link
              to="/"
              className="flex items-center gap-3 hover:opacity-90 transition-opacity"
            >
              <div className="h-10 w-10 rounded-xl bg-blue-600 text-white grid place-items-center shadow-md">
                <Sparkles size={20} />
              </div>
              <b className="text-xl font-bold tracking-tight">
                Hire<span className="text-blue-600">Spark</span>
              </b>
            </Link>
          </div>

          {/* Desktop Navigation Menu */}
          <nav className="hidden md:flex items-center gap-3">
            <Link to="/" className="px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
              Home
            </Link>
            <Link
              to="/jobs"
              className="px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors"
            >
              Browse Jobs
            </Link>
            <Link
              to="/post-job"
              className="px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors"
            >
              Post a Job
            </Link>

          </nav>

          {/* Buttons / Profile */}
          <div className="flex gap-3 items-center">
            {!loading && user ? (
              <div className="relative" ref={dropdownRef}>
                <button
                  onClick={() => setOpen((v) => !v)}
                  className="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-slate-100 transition-colors"
                  aria-haspopup="true"
                  aria-expanded={open}
                >
                  <div className="h-9 w-9 rounded-full bg-slate-100 grid place-items-center text-sm font-semibold text-slate-700">
                    {user.username ? (
                      user.username.charAt(0).toUpperCase()
                    ) : (
                      <User size={18} />
                    )}
                  </div>
                  <span className="hidden sm:block text-sm font-medium text-slate-800">
                    {user.name || user.fullname || user.username}
                  </span>
                </button>

                {open && (
                  <div className="absolute right-0 mt-3 w-72 bg-white text-slate-900 rounded-xl shadow-2xl p-5 z-50 border border-slate-200">
                    <div className="mb-4">
                      <div className="text-xs text-slate-500">Name</div>
                      <div className="font-semibold text-lg">
                        {user.name || user.fullname || user.username}
                      </div>
                    </div>
                    <div className="mb-4">
                      <div className="text-xs text-slate-500">Username</div>
                      <div className="font-medium text-sm">{user.username}</div>
                    </div>
                    <div className="mb-4">
                      <div className="text-xs text-slate-500">Role</div>
                      <div className="font-medium text-sm">{user.role || "-"}</div>
                    </div>
                    <div className="mb-4">
                      <div className="text-xs text-slate-500">Member since</div>
                      <div className="font-medium text-sm">
                        {formatCreatedDate(user)}
                      </div>
                    </div>
                    <div className="mb-4">
                      <div className="text-xs text-slate-500">Last login</div>
                      <div className="font-medium text-sm">
                        {formatLoginTime(user)}
                      </div>
                    </div>
                    <div className="pt-4 border-t border-slate-200 space-y-3">
                      <Link
                        to="/profile"
                        onClick={() => setOpen(false)}
                        className="block w-full text-left px-4 py-3 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors font-medium text-sm"
                      >
                        View Profile
                      </Link>
                      <button
                        onClick={handleLogout}
                        className="w-full text-left px-4 py-3 rounded-lg bg-red-600 hover:bg-red-700 transition-colors font-medium text-sm text-white"
                      >
                        Logout
                      </button>
                    </div>
                  </div>
                )}
              </div>
            ) : (
              <>
                {/* Candidate = user (popup) */}
                <button
                  className="hidden sm:flex px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors"
                  onClick={() => handleOpenAuth("user")}
                >
                  Candidate Login
                </button>

                {/* Recruiter (popup) */}
                <button
                  className="px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors"
                  onClick={() => handleOpenAuth("recruiter")}
                >
                  Recruiter Login
                </button>
              </>
            )}

            {/* Mobile Menu Toggle */}
            <button
              onClick={() => setMobileMenuOpen((v) => !v)}
              className="md:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors"
              aria-label="Toggle mobile menu"
            >
              {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
            </button>
          </div>
        </div>

        {/* Mobile Navigation Menu */}
        {mobileMenuOpen && (
          <div className="md:hidden bg-white border-t border-slate-200">
            <nav className="px-6 py-4 space-y-4">
              <Link
                to="/"
                onClick={() => setMobileMenuOpen(false)}
                className="block text-slate-700 hover:text-blue-600 transition-colors font-medium"
              >
                Home
              </Link>
              <Link
                to="/jobs"
                onClick={() => setMobileMenuOpen(false)}
                className="block text-slate-700 hover:text-blue-600 transition-colors font-medium"
              >
                Browse Jobs
              </Link>
              <Link
                to="/post-job"
                onClick={() => setMobileMenuOpen(false)}
                className="block text-slate-700 hover:text-blue-600 transition-colors font-medium"
              >
                Post a Job
              </Link>

              <Link
                to="/contact"
                onClick={() => setMobileMenuOpen(false)}
                className="block text-slate-700 hover:text-blue-600 transition-colors font-medium"
              >
                Contact
              </Link>
              {!loading && !user && (
                <div className="pt-4 border-t border-slate-200 space-y-3">
                  <button
                    className="w-full text-left px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors"
                    onClick={() => handleOpenAuth("user")}
                  >
                    Candidate Login
                  </button>
                  <button
                    className="w-full text-left px-4 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-blue-50 hover:text-blue-600 transition-colors"
                    onClick={() => handleOpenAuth("recruiter")}
                  >
                    Recruiter Login
                  </button>
                </div>
              )}
            </nav>
          </div>
        )}
      </header>

      {/* Auth popup modal */}
      {authOpen && (
        <SignInModal
          role={selectedRole}
          onClose={() => setAuthOpen(false)}
        />
      )}
    </>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\recruiter-layout\RecruiterLayout.jsx ===
import React from "react";
import { Outlet, Link, useLocation } from "react-router-dom";
import RecruiterSidebar from "./RecruiterSidebar.jsx";

/**
 * Recruiter Layout - For recruiter dashboard pages
 * Includes Sidebar for navigation
 */
export default function RecruiterLayout() {
  const location = useLocation();

  // Check if current route is active for mobile tabs
  const isActive = (path) => {
    return location.pathname === path || location.pathname.startsWith(path + '/');
  };

  // Get page title based on current route
  const getPageTitle = () => {
    if (location.pathname === '/recruiter-dashboard') return 'Dashboard';
    if (location.pathname === '/job-posted') return 'Posted Jobs';
    if (location.pathname === '/create-job') return 'Create Job';
    if (location.pathname.includes('/applicants')) return 'Applicants';
    if (location.pathname === '/recruiter-profile') return 'Company Profile';
    if (location.pathname === '/recruiter-profile-form') return 'Complete Profile';
    return 'Recruiter Dashboard';
  };

  // Get page description based on current route
  const getPageDescription = () => {
    if (location.pathname === '/recruiter-dashboard') return 'Quick overview of your hiring activity.';
    if (location.pathname === '/job-posted') return 'Manage your job postings and applicants.';
    if (location.pathname === '/create-job') return 'Create a new job posting.';
    if (location.pathname.includes('/applicants')) return 'Review and manage applicants.';
    if (location.pathname === '/recruiter-profile') return 'Update your company profile and settings.';
    if (location.pathname === '/recruiter-profile-form') return 'Complete your company profile to get started.';
    return 'Manage your recruiting activities.';
  };

  return (
    <div className="min-h-screen flex bg-slate-50 text-slate-900">
      {/* Sidebar */}
      <RecruiterSidebar />

      {/* Mobile top nav */}
      <header className="md:hidden fixed inset-x-0 top-0 z-20 bg-white border-b border-slate-200">
        <div className="flex items-center justify-between px-4 py-3">
          <span className="font-semibold">HireSpark</span>
          <span className="text-xs text-slate-500">Recruiter</span>
        </div>
      </header>

      {/* Main content */}
      <main className="flex-1 flex flex-col bg-slate-50 md:pt-0 pt-16 md:ml-20 lg:ml-64 transition-all duration-300">
        {/* Top bar for desktop */}
        <div className="hidden md:flex items-center justify-between px-8 py-4 border-b border-slate-200 bg-white">
          <div>
            <h2 className="text-lg font-semibold tracking-tight">
              {getPageTitle()}
            </h2>
            <p className="text-xs text-slate-500 mt-1">
              {getPageDescription()}
            </p>
          </div>
          <div className="flex items-center gap-3">
            <Link 
              to="/create-job"
              className="px-3 py-1.5 text-sm rounded-lg bg-slate-900 text-white hover:bg-slate-800 transition-colors"
            >
              + Post Job
            </Link>
            <div className="h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-medium text-slate-600">
              R
            </div>
          </div>
        </div>

        {/* Mobile Navigation Tabs */}
        <div className="md:hidden flex flex-wrap gap-3 p-4 border-b border-gray-200 overflow-x-auto">
          <Link 
            className={`px-4 py-2 rounded-lg font-medium transition-colors ${isActive('/recruiter-dashboard') ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'}`} 
            to="/recruiter-dashboard"
          >
            Overview
          </Link>
          <Link 
            className={`px-4 py-2 rounded-lg font-medium transition-colors ${isActive('/recruiter-profile') ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'}`} 
            to="/recruiter-profile"
          >
            Profile
          </Link>
          <Link 
            className={`px-4 py-2 rounded-lg font-medium transition-colors ${isActive('/job-posted') ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'}`} 
            to="/job-posted"
          >
            Posted Jobs
          </Link>
          <Link 
            className={`px-4 py-2 rounded-lg font-medium transition-colors ${isActive('/create-job') ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'}`} 
            to="/create-job"
          >
            Create Job
          </Link>
        </div>

        {/* Content area where child components will render */}
        <div className="flex-1 p-4 md:p-8">
          <Outlet />
        </div>
      </main>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\layout\recruiter-layout\RecruiterSidebar.jsx ===
import React, { useState } from "react";
import { Link, useLocation, useNavigate } from "react-router-dom";
import { 
  LayoutDashboard, 
  Briefcase, 
  Users, 
  Building,
  UserPlus,
  Bell,
  LogOut,
  Menu,
  X
} from "lucide-react";
import api from "../../../components/apiconfig/apiconfig";

/**
 * Recruiter Sidebar - For recruiter dashboard
 */
export default function RecruiterSidebar() {
  const [isOpen, setIsOpen] = useState(true);
  const location = useLocation();
  const navigate = useNavigate();

  // Check if current route is active
  const isActive = (path) => {
    return location.pathname === path || location.pathname.startsWith(path + '/');
  };

  // Menu items with icons
  const menuItems = [
    { 
      title: "Dashboard", 
      icon: <LayoutDashboard size={20} />, 
      path: "/recruiter-dashboard" 
    },
    { 
      title: "Post Job", 
      icon: <Briefcase size={20} />, 
      path: "/create-job" 
    },
    { 
      title: "Jobs", 
      icon: <Briefcase size={20} />, 
      path: "/job-posted" 
    },
    { 
      title: "Company Profile", 
      icon: <Building size={20} />, 
      path: "/recruiter-profile" 
    },
    { 
      title: "Complete Profile", 
      icon: <UserPlus size={20} />, 
      path: "/recruiter-profile-form" 
    },
  ];

  const handleLogout = async () => {
    try {
      await api.post('/auth/logout');
      localStorage.removeItem('token');
      navigate('/sign-in');
    } catch (error) {
      console.error('Logout error:', error);
    }
  };

  return (
    <aside
      className={`h-screen bg-white border-r border-slate-200 transition-all duration-300 fixed top-0 left-0 z-50
      ${isOpen ? "w-64" : "w-20"}`}
    >
      {/* Logo Section */}
      <div className="px-4 py-4 border-b border-slate-200 flex items-center justify-between">
        <div className={`flex items-center gap-3 transition-all ${isOpen ? "opacity-100" : "opacity-0 hidden"}`}>
          <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
            <span className="text-white font-bold text-sm">HS</span>
          </div>
          <div>
            <h1 className="text-lg font-semibold tracking-tight">HireSpark</h1>
            <p className="text-xs text-slate-500">Recruiter</p>
          </div>
        </div>

        {/* Toggle Button */}
        <button
          onClick={() => setIsOpen(!isOpen)}
          className="p-1.5 rounded-lg hover:bg-slate-100 transition-colors"
        >
          {isOpen ? <X size={18} /> : <Menu size={18} />}
        </button>
      </div>

      {/* Navigation Menu */}
      <nav className="flex-1 px-2 py-4 space-y-1">
        {menuItems.map((item) => (
          <Link 
            key={item.title}
            to={item.path} 
            className={`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200
              ${isActive(item.path) 
                ? 'bg-slate-900 text-white font-medium' 
                : 'text-slate-700 hover:bg-slate-100'
              }
              ${!isOpen ? "justify-center" : ""}
            `}
            title={!isOpen ? item.title : ""}
          >
            <span className={`flex-shrink-0 ${isActive(item.path) ? 'text-white' : 'text-slate-600'}`}>
              {item.icon}
            </span>
            <span className={`${isOpen ? "block" : "hidden"} text-sm whitespace-nowrap`}>
              {item.title}
            </span>
          </Link>
        ))}
      </nav>

      {/* Bottom Section - Logout */}
      <div className="px-2 py-4 border-t border-slate-200">
        <button 
          onClick={handleLogout}
          className={`flex items-center gap-3 w-full px-3 py-2.5 rounded-lg text-sm text-red-600 hover:bg-red-50 transition-all duration-200
            ${!isOpen ? "justify-center" : ""}
          `}
          title={!isOpen ? "Logout" : ""}
        >
          <LogOut size={18} />
          <span className={`${isOpen ? "block" : "hidden"} whitespace-nowrap`}>
            Logout
          </span>
        </button>
      </div>
    </aside>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\components\profile\profile.jsx ===
// src/modules/auth/Profile.jsx
import React, { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import api from '../apiconfig/apiconfig.jsx';

export default function Profile() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  async function fetchProfile() {
    try {
      const res = await api.get('/auth/me');
      const data = res.data;
      setUser(data.user);
    } catch (err) {
      console.error(err);
      setUser(null);
    } finally {
      setLoading(false);
    }
  }

  useEffect(() => {
    fetchProfile();
  }, []);

  async function handleLogout() {
    try {
      await api.post('/auth/logout');
      setUser(null);
      navigate('/sign-in');
    } catch (err) {
      console.error('Logout failed', err);
    }
  }

  if (loading) return <div>Loading...</div>;
  if (!user) return (
    <div className="p-6">
      <div>You are not logged in.</div>
      <button onClick={() => navigate('/sign-in')} className="mt-3 px-3 py-1 bg-blue-600 text-white rounded">Login</button>
    </div>
  );

  const loginTime = user.loginAt ? new Date(user.loginAt).toLocaleString() : '-';

  return (
    <div className="min-h-screen flex flex-col">
      {/* Main content */}
      <main className="max-w-md mx-auto p-6 mt-6">
        <h2 className="text-xl mb-3">Profile</h2>
        <div className="mb-2"><strong>ID:</strong> {user.id}</div>
        <div className="mb-2"><strong>Username:</strong> {user.username}</div>
        <div className="mb-2"><strong>Name:</strong> {user.name || '-'}</div>
        <div className="mb-2"><strong>Role:</strong> {user.role || '-'}</div>
        <div className="mb-4"><strong>Logged in at:</strong> {loginTime}</div>

        <div className="flex gap-3">
          <button onClick={handleLogout} className="px-4 py-2 bg-red-600 rounded text-white">Logout</button>
        </div>
      </main>
    </div>
  );
}

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\main.jsx ===
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App.jsx";
import "./index.css";
// Render the main application
ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\approval-management\approval-job-list.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function ApprovedJobs() {
  const [jobs, setJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedJob, setSelectedJob] = useState(null);
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    fetchJobs();
  }, []);

  const fetchJobs = async () => {
    try {
      const response = await api.get("/admin/auth/jobs?status=approved");
      setJobs(response.data.jobs || []);
    } catch (error) {
      console.error("Error fetching approved jobs:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (job) => {
    setSelectedJob(job);
    setShowModal(true);
  };

  const updateJobStatus = async (jobId, newStatus) => {
    try {
      await api.put(`/admin/auth/jobs/${jobId}/status`, {
        status: newStatus
      });
      
      // Remove from list immediately
      setJobs(prevJobs => prevJobs.filter(job => job.id !== jobId));
      
      // Refresh data
      fetchJobs();
    } catch (error) {
      console.error("Error updating job status:", error);
      alert("Failed to update job status. Please try again.");
    }
  };

  const formatExperience = (min, max) => {
    if (min == null && max == null) return "Fresher";
    if (min != null && max == null) return `${min}+ yrs`;
    if (min == null && max != null) return `Up to ${max} yrs`;
    return `${min}-${max} yrs`;
  };

  const formatSalary = (salary) => {
    if (!salary) return "Not specified";
    return salary;
  };

  const formatDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="max-w-full mx-auto">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
        <div>
          <h1 className="text-xl md:text-2xl font-bold text-gray-900">Approved Jobs</h1>
          <p className="text-sm md:text-base text-gray-600">
            Total {jobs.length} approved jobs
          </p>
        </div>
        <button
          onClick={fetchJobs}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
        >
          Refresh
        </button>
      </div>

      {/* Approved Jobs Table */}
      <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
        <div className="px-4 py-3 bg-green-600 border-b border-green-700">
          <h2 className="text-lg font-semibold text-white">
            Approved Jobs ({jobs.length})
          </h2>
          <p className="text-sm text-green-100">
            Jobs that have been approved and are live on the platform
          </p>
        </div>
        {jobs.length > 0 ? (
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Job Details
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                    Company & Recruiter
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Location
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Posted
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {jobs.map((job) => (
                  <tr key={job.id} className="hover:bg-green-50">
                    <td className="px-3 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900 truncate max-w-[200px]">
                          {job.title}
                        </div>
                        <div className="text-xs text-gray-500 capitalize">
                          {job.job_type} • {formatExperience(job.min_experience, job.max_experience)}
                        </div>
                        <div className="text-xs text-gray-400 mt-1">
                          Salary: {formatSalary(job.salary)}
                        </div>
                      </div>
                    </td>
                    <td className="px-3 py-4 hidden md:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[150px]">{job.company}</div>
                      <div className="text-xs text-gray-500 truncate max-w-[150px]">{job.recruiter_email}</div>
                    </td>
                    <td className="px-3 py-4 hidden lg:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">{job.location}</div>
                    </td>
                    <td className="px-3 py-4">
                      <div className="text-sm text-gray-900">
                        {formatDate(job.created_at)}
                      </div>
                    </td>
                    <td className="px-3 py-4 text-sm font-medium">
                      <div className="flex flex-col sm:flex-row gap-2">
                        <button
                          onClick={() => handleViewDetails(job)}
                          className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                        >
                          View
                        </button>
                        <button
                          onClick={() => updateJobStatus(job.id, 'closed')}
                          className="text-orange-600 hover:text-orange-900 border border-orange-200 hover:bg-orange-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Close Job
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="text-center py-12">
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4">
              <svg className="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
            </div>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No Approved Jobs</h3>
            <p className="text-gray-500">Approve jobs to see them listed here</p>
          </div>
        )}
      </div>

      {/* Job Details Modal */}
      {showModal && selectedJob && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Job Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Job Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Title</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.title}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedJob.job_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Vacancies</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.vacancies || 'Not specified'}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Experience Required</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {formatExperience(selectedJob.min_experience, selectedJob.max_experience)}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Salary</label>
                      <p className="text-gray-900 text-sm md:text-base">{formatSalary(selectedJob.salary)}</p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company & Location</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.company}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Location</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.location}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Posted By</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.recruiter_email}</p>
                      {selectedJob.company_name && (
                        <p className="text-sm text-gray-600">({selectedJob.company_name})</p>
                      )}
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Status</label>
                      <p className="text-gray-900">
                        <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                          Approved
                        </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Job Description</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                    {selectedJob.description || 'No description provided.'}
                  </p>
                </div>
              </div>

              <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Email</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_email ? (
                          <a href={`mailto:${selectedJob.contact_email}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_email}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Phone</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_phone ? (
                          <a href={`tel:${selectedJob.contact_phone}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_phone}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Interview Address</h3>
                  <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                      {selectedJob.interview_address || 'Not specified'}
                    </p>
                  </div>
                </div>
              </div>

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    updateJobStatus(selectedJob.id, 'closed');
                    setShowModal(false);
                  }}
                  className="bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 text-sm md:text-base"
                >
                  Close Job
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\approval-management\closed-jobs-list.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function ClosedJobs() {
  const [jobs, setJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedJob, setSelectedJob] = useState(null);
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    fetchJobs();
  }, []);

  const fetchJobs = async () => {
    try {
      const response = await api.get("/admin/auth/jobs?status=closed");
      setJobs(response.data.jobs || []);
    } catch (error) {
      console.error("Error fetching closed jobs:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (job) => {
    setSelectedJob(job);
    setShowModal(true);
  };

  const updateJobStatus = async (jobId, newStatus) => {
    try {
      await api.put(`/admin/auth/jobs/${jobId}/status`, {
        status: newStatus
      });
      
      // Remove from list immediately
      setJobs(prevJobs => prevJobs.filter(job => job.id !== jobId));
      
      // Refresh data
      fetchJobs();
    } catch (error) {
      console.error("Error updating job status:", error);
      alert("Failed to update job status. Please try again.");
    }
  };

  const formatExperience = (min, max) => {
    if (min == null && max == null) return "Fresher";
    if (min != null && max == null) return `${min}+ yrs`;
    if (min == null && max != null) return `Up to ${max} yrs`;
    return `${min}-${max} yrs`;
  };

  const formatSalary = (salary) => {
    if (!salary) return "Not specified";
    return salary;
  };

  const formatDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="max-w-full mx-auto">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
        <div>
          <h1 className="text-xl md:text-2xl font-bold text-gray-900">Closed Jobs</h1>
          <p className="text-sm md:text-base text-gray-600">
            Total {jobs.length} closed jobs
          </p>
        </div>
        <button
          onClick={fetchJobs}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
        >
          Refresh
        </button>
      </div>

      {/* Closed Jobs Table */}
      <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
        <div className="px-4 py-3 bg-gray-600 border-b border-gray-700">
          <h2 className="text-lg font-semibold text-white">
            Closed Jobs ({jobs.length})
          </h2>
          <p className="text-sm text-gray-100">
            Jobs that are no longer accepting applications
          </p>
        </div>
        {jobs.length > 0 ? (
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Job Details
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                    Company & Recruiter
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Location
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Closed Date
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {jobs.map((job) => (
                  <tr key={job.id} className="hover:bg-gray-50">
                    <td className="px-3 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900 truncate max-w-[200px]">
                          {job.title}
                        </div>
                        <div className="text-xs text-gray-500 capitalize">
                          {job.job_type} • {formatExperience(job.min_experience, job.max_experience)}
                        </div>
                        <div className="text-xs text-gray-400 mt-1">
                          Salary: {formatSalary(job.salary)}
                        </div>
                      </div>
                    </td>
                    <td className="px-3 py-4 hidden md:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[150px]">{job.company}</div>
                      <div className="text-xs text-gray-500 truncate max-w-[150px]">{job.recruiter_email}</div>
                    </td>
                    <td className="px-3 py-4 hidden lg:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">{job.location}</div>
                    </td>
                    <td className="px-3 py-4">
                      <div className="text-sm text-gray-900">
                        {formatDate(job.updated_at || job.created_at)}
                      </div>
                    </td>
                    <td className="px-3 py-4 text-sm font-medium">
                      <div className="flex flex-col sm:flex-row gap-2">
                        <button
                          onClick={() => handleViewDetails(job)}
                          className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                        >
                          View
                        </button>
                        <button
                          onClick={() => updateJobStatus(job.id, 'approved')}
                          className="text-green-600 hover:text-green-900 border border-green-200 hover:bg-green-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Re-open
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="text-center py-12">
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4">
              <svg className="w-8 h-8 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
              </svg>
            </div>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No Closed Jobs</h3>
            <p className="text-gray-500">Close jobs to see them listed here</p>
          </div>
        )}
      </div>

      {/* Job Details Modal */}
      {showModal && selectedJob && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Job Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Job Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Title</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.title}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedJob.job_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Vacancies</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.vacancies || 'Not specified'}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Experience Required</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {formatExperience(selectedJob.min_experience, selectedJob.max_experience)}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Salary</label>
                      <p className="text-gray-900 text-sm md:text-base">{formatSalary(selectedJob.salary)}</p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company & Location</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.company}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Location</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.location}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Posted By</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.recruiter_email}</p>
                      {selectedJob.company_name && (
                        <p className="text-sm text-gray-600">({selectedJob.company_name})</p>
                      )}
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Status</label>
                      <p className="text-gray-900">
                        <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                          Closed
                        </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Job Description</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                    {selectedJob.description || 'No description provided.'}
                  </p>
                </div>
              </div>

              <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Email</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_email ? (
                          <a href={`mailto:${selectedJob.contact_email}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_email}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Phone</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_phone ? (
                          <a href={`tel:${selectedJob.contact_phone}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_phone}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Interview Address</h3>
                  <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                      {selectedJob.interview_address || 'Not specified'}
                    </p>
                  </div>
                </div>
              </div>

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    updateJobStatus(selectedJob.id, 'approved');
                    setShowModal(false);
                  }}
                  className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm md:text-base"
                >
                  Re-open Job
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\approval-management\pending-jobs-list.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function PendingJobs() {
  const [jobs, setJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedJob, setSelectedJob] = useState(null);
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    fetchJobs();
  }, []);

  const fetchJobs = async () => {
    try {
      const response = await api.get("/admin/auth/jobs?status=pending");
      setJobs(response.data.jobs || []);
    } catch (error) {
      console.error("Error fetching pending jobs:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (job) => {
    setSelectedJob(job);
    setShowModal(true);
  };

  const updateJobStatus = async (jobId, newStatus) => {
    try {
      await api.put(`/admin/auth/jobs/${jobId}/status`, {
        status: newStatus
      });
      
      // Remove from list immediately
      setJobs(prevJobs => prevJobs.filter(job => job.id !== jobId));
      
      // Refresh data
      fetchJobs();
    } catch (error) {
      console.error("Error updating job status:", error);
      alert("Failed to update job status. Please try again.");
    }
  };

  const formatExperience = (min, max) => {
    if (min == null && max == null) return "Fresher";
    if (min != null && max == null) return `${min}+ yrs`;
    if (min == null && max != null) return `Up to ${max} yrs`;
    return `${min}-${max} yrs`;
  };

  const formatSalary = (salary) => {
    if (!salary) return "Not specified";
    return salary;
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="max-w-full mx-auto">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
        <div>
          <h1 className="text-xl md:text-2xl font-bold text-gray-900">Pending Jobs</h1>
          <p className="text-sm md:text-base text-gray-600">
            Total {jobs.length} jobs waiting for approval
          </p>
        </div>
        <button
          onClick={fetchJobs}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
        >
          Refresh
        </button>
      </div>

      {/* Pending Jobs Table */}
      <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
        <div className="px-4 py-3 bg-yellow-600 border-b border-yellow-700">
          <h2 className="text-lg font-semibold text-white">
            Pending Approval ({jobs.length})
          </h2>
          <p className="text-sm text-yellow-100">
            Jobs waiting for admin approval
          </p>
        </div>
        {jobs.length > 0 ? (
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Job Details
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                    Company
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Location
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {jobs.map((job) => (
                  <tr key={job.id} className="hover:bg-yellow-50">
                    <td className="px-3 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900 truncate max-w-[200px]">
                          {job.title}
                        </div>
                        <div className="text-xs text-gray-500 capitalize">
                          {job.job_type} • {formatExperience(job.min_experience, job.max_experience)}
                        </div>
                        <div className="text-xs text-gray-400 mt-1">
                          Salary: {formatSalary(job.salary)}
                        </div>
                      </div>
                    </td>
                    <td className="px-3 py-4 hidden md:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[150px]">{job.company}</div>
                      <div className="text-xs text-gray-500 truncate max-w-[150px]">{job.recruiter_email}</div>
                    </td>
                    <td className="px-3 py-4 hidden lg:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">{job.location}</div>
                    </td>
                    <td className="px-3 py-4 text-sm font-medium">
                      <div className="flex flex-col sm:flex-row gap-2">
                        <button
                          onClick={() => handleViewDetails(job)}
                          className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                        >
                          View
                        </button>
                        <button
                          onClick={() => updateJobStatus(job.id, 'approved')}
                          className="text-green-600 hover:text-green-900 border border-green-200 hover:bg-green-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Approve
                        </button>
                        <button
                          onClick={() => updateJobStatus(job.id, 'rejected')}
                          className="text-red-600 hover:text-red-900 border border-red-200 hover:bg-red-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Reject
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="text-center py-12">
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 mb-4">
              <svg className="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No Pending Jobs</h3>
            <p className="text-gray-500">All jobs have been reviewed</p>
          </div>
        )}
      </div>

      {/* Job Details Modal */}
      {showModal && selectedJob && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Job Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Job Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Title</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.title}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedJob.job_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Vacancies</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.vacancies || 'Not specified'}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Experience Required</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {formatExperience(selectedJob.min_experience, selectedJob.max_experience)}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Salary</label>
                      <p className="text-gray-900 text-sm md:text-base">{formatSalary(selectedJob.salary)}</p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company & Location</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.company}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Location</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.location}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Posted By</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.recruiter_email}</p>
                      {selectedJob.company_name && (
                        <p className="text-sm text-gray-600">({selectedJob.company_name})</p>
                      )}
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Status</label>
                      <p className="text-gray-900">
                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                          selectedJob.status === 'approved' ? 'bg-green-100 text-green-800' :
                          selectedJob.status === 'rejected' ? 'bg-red-100 text-red-800' :
                          selectedJob.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :
                          'bg-gray-100 text-gray-800'
                        }`}>
                          {selectedJob.status.charAt(0).toUpperCase() + selectedJob.status.slice(1)}
                        </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Job Description</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                    {selectedJob.description || 'No description provided.'}
                  </p>
                </div>
              </div>

              <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Email</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_email ? (
                          <a href={`mailto:${selectedJob.contact_email}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_email}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Phone</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_phone ? (
                          <a href={`tel:${selectedJob.contact_phone}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_phone}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Interview Address</h3>
                  <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                      {selectedJob.interview_address || 'Not specified'}
                    </p>
                  </div>
                </div>
              </div>

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    updateJobStatus(selectedJob.id, 'approved');
                    setShowModal(false);
                  }}
                  className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm md:text-base"
                >
                  Approve Job
                </button>
                <button
                  onClick={() => {
                    updateJobStatus(selectedJob.id, 'rejected');
                    setShowModal(false);
                  }}
                  className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm md:text-base"
                >
                  Reject Job
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\approval-management\rejected-jobs.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function RejectedJobs() {
  const [jobs, setJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedJob, setSelectedJob] = useState(null);
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    fetchJobs();
  }, []);

  const fetchJobs = async () => {
    try {
      const response = await api.get("/admin/auth/jobs?status=rejected");
      setJobs(response.data.jobs || []);
    } catch (error) {
      console.error("Error fetching rejected jobs:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (job) => {
    setSelectedJob(job);
    setShowModal(true);
  };

  const updateJobStatus = async (jobId, newStatus) => {
    try {
      await api.put(`/admin/auth/jobs/${jobId}/status`, {
        status: newStatus
      });
      
      // Remove from list immediately
      setJobs(prevJobs => prevJobs.filter(job => job.id !== jobId));
      
      // Refresh data
      fetchJobs();
    } catch (error) {
      console.error("Error updating job status:", error);
      alert("Failed to update job status. Please try again.");
    }
  };

  const formatExperience = (min, max) => {
    if (min == null && max == null) return "Fresher";
    if (min != null && max == null) return `${min}+ yrs`;
    if (min == null && max != null) return `Up to ${max} yrs`;
    return `${min}-${max} yrs`;
  };

  const formatSalary = (salary) => {
    if (!salary) return "Not specified";
    return salary;
  };

  const formatDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="max-w-full mx-auto">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
        <div>
          <h1 className="text-xl md:text-2xl font-bold text-gray-900">Rejected Jobs</h1>
          <p className="text-sm md:text-base text-gray-600">
            Total {jobs.length} rejected jobs
          </p>
        </div>
        <button
          onClick={fetchJobs}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
        >
          Refresh
        </button>
      </div>

      {/* Rejected Jobs Table */}
      <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
        <div className="px-4 py-3 bg-red-600 border-b border-red-700">
          <h2 className="text-lg font-semibold text-white">
            Rejected Jobs ({jobs.length})
          </h2>
          <p className="text-sm text-red-100">
            Jobs that have been rejected by admin
          </p>
        </div>
        {jobs.length > 0 ? (
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Job Details
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                    Company & Recruiter
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Location
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Rejected Date
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {jobs.map((job) => (
                  <tr key={job.id} className="hover:bg-red-50">
                    <td className="px-3 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900 truncate max-w-[200px]">
                          {job.title}
                        </div>
                        <div className="text-xs text-gray-500 capitalize">
                          {job.job_type} • {formatExperience(job.min_experience, job.max_experience)}
                        </div>
                        <div className="text-xs text-gray-400 mt-1">
                          Salary: {formatSalary(job.salary)}
                        </div>
                      </div>
                    </td>
                    <td className="px-3 py-4 hidden md:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[150px]">{job.company}</div>
                      <div className="text-xs text-gray-500 truncate max-w-[150px]">{job.recruiter_email}</div>
                    </td>
                    <td className="px-3 py-4 hidden lg:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">{job.location}</div>
                    </td>
                    <td className="px-3 py-4">
                      <div className="text-sm text-gray-900">
                        {formatDate(job.updated_at || job.created_at)}
                      </div>
                    </td>
                    <td className="px-3 py-4 text-sm font-medium">
                      <div className="flex flex-col sm:flex-row gap-2">
                        <button
                          onClick={() => handleViewDetails(job)}
                          className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                        >
                          View
                        </button>
                        <button
                          onClick={() => updateJobStatus(job.id, 'approved')}
                          className="text-green-600 hover:text-green-900 border border-green-200 hover:bg-green-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Approve
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="text-center py-12">
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4">
              <svg className="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No Rejected Jobs</h3>
            <p className="text-gray-500">No jobs have been rejected yet</p>
          </div>
        )}
      </div>

      {/* Job Details Modal */}
      {showModal && selectedJob && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Job Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Job Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Title</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.title}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Job Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedJob.job_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Vacancies</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.vacancies || 'Not specified'}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Experience Required</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {formatExperience(selectedJob.min_experience, selectedJob.max_experience)}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Salary</label>
                      <p className="text-gray-900 text-sm md:text-base">{formatSalary(selectedJob.salary)}</p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company & Location</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.company}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Location</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.location}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Posted By</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedJob.recruiter_email}</p>
                      {selectedJob.company_name && (
                        <p className="text-sm text-gray-600">({selectedJob.company_name})</p>
                      )}
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Status</label>
                      <p className="text-gray-900">
                        <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                          Rejected
                        </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Job Description</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                    {selectedJob.description || 'No description provided.'}
                  </p>
                </div>
              </div>

              <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Email</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_email ? (
                          <a href={`mailto:${selectedJob.contact_email}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_email}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Contact Phone</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedJob.contact_phone ? (
                          <a href={`tel:${selectedJob.contact_phone}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_phone}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Interview Address</h3>
                  <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base whitespace-pre-line">
                      {selectedJob.interview_address || 'Not specified'}
                    </p>
                  </div>
                </div>
              </div>

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    updateJobStatus(selectedJob.id, 'approved');
                    setShowModal(false);
                  }}
                  className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm md:text-base"
                >
                  Approve Job
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\candidate\candidate-list.jsx ===
import { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";

export default function AdminUsers() {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedUser, setSelectedUser] = useState(null);
  const [showModal, setShowModal] = useState(false);
  const navigate = useNavigate();

  useEffect(() => {
    fetchUsers();
  }, []);
// Fetch users from API
  const fetchUsers = async () => {
    try {
      const response = await api.get("/admin/auth/users");
      setUsers(response.data.users || []);
    } catch (error) {
      console.error("Error fetching users:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (user) => {
    setSelectedUser(user);
    setShowModal(true);
  };
// Navigate back to dashboard
  const handleBack = () => {
    navigate("/admin-dashboard");
  };

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }
// Main render
  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="flex justify-between items-center mb-6">
          <div>
            <button
              onClick={handleBack}
              className="flex items-center text-blue-600 hover:text-blue-700 mb-2"
            >
              ← Back to Dashboard
            </button>
            <h1 className="text-2xl font-bold text-gray-900">Manage Users</h1>
            <p className="text-gray-600">Total {users.length} users</p>
          </div>
          <button
            onClick={fetchUsers}
            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
          >
            Refresh
          </button>
        </div>

        {/* Users Table */}
        <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    User
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Contact
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Location
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Experience
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Education
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {users.map((user) => (
                  <tr key={user.user_id} className="hover:bg-gray-50">
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div>
                        <div className="text-sm font-medium text-gray-900">
                          {user.full_name}
                        </div>
                        <div className="text-sm text-gray-500">
                          @{user.username}
                        </div>
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="text-sm text-gray-900">{user.email}</div>
                      <div className="text-sm text-gray-500">{user.phone}</div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap">
                      <div className="text-sm text-gray-900">
                        {user.city}, {user.state}
                      </div>
                      <div className="text-sm text-gray-500">{user.country}</div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                      {user.experience_years || 0} years
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                      {user.highest_education || 'Not specified'}
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                      <button
                        onClick={() => handleViewDetails(user)}
                        className="text-blue-600 hover:text-blue-900 mr-3"
                      >
                        View Details
                      </button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
          
          {users.length === 0 && (
            <div className="text-center py-12">
              <p className="text-gray-500">No users found</p>
            </div>
          )}
        </div>
      </div>

      {/* User Details Modal */}
      {showModal && selectedUser && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
          <div className="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div className="p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-xl font-bold text-gray-900">User Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h3 className="text-lg font-semibold mb-3">Personal Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-sm font-medium text-gray-500">Full Name</label>
                      <p className="text-gray-900">{selectedUser.full_name}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Username</label>
                      <p className="text-gray-900">@{selectedUser.username}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Email</label>
                      <p className="text-gray-900">{selectedUser.email}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Phone</label>
                      <p className="text-gray-900">{selectedUser.phone || 'Not provided'}</p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-lg font-semibold mb-3">Location & Professional</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-sm font-medium text-gray-500">Location</label>
                      <p className="text-gray-900">
                        {[selectedUser.city, selectedUser.state, selectedUser.country]
                          .filter(Boolean).join(', ') || 'Not specified'}
                      </p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Experience</label>
                      <p className="text-gray-900">{selectedUser.experience_years || 0} years</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Education</label>
                      <p className="text-gray-900">{selectedUser.highest_education || 'Not specified'}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Member Since</label>
                      <p className="text-gray-900">
                        {new Date(selectedUser.created_at).toLocaleDateString()}
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6 pt-6 border-t">
                <h3 className="text-lg font-semibold mb-3">Links</h3>
                <div className="space-y-2">
                  <div>
                    <label className="text-sm font-medium text-gray-500">LinkedIn</label>
                    <p className="text-gray-900">
                      {selectedUser.linkedin_url ? (
                        <a href={selectedUser.linkedin_url} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline">
                          {selectedUser.linkedin_url}
                        </a>
                      ) : 'Not provided'}
                    </p>
                  </div>
                  <div>
                    <label className="text-sm font-medium text-gray-500">Portfolio</label>
                    <p className="text-gray-900">
                      {selectedUser.portfolio_url ? (
                        <a href={selectedUser.portfolio_url} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline">
                          {selectedUser.portfolio_url}
                        </a>
                      ) : 'Not provided'}
                    </p>
                  </div>
                  <div>
                    <label className="text-sm font-medium text-gray-500">Resume</label>
                    <p className="text-gray-900">
                      {selectedUser.resume_path ? 'Available' : 'Not uploaded'}
                    </p>
                  </div>
                </div>
              </div>

              <div className="mt-6 flex justify-end">
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\dashboard\dashboard.jsx ===
import { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";

export default function AdminDashboard() {
  const [stats, setStats] = useState({
    totalUsers: 0,
    totalRecruiters: 0,
    totalJobs: 0,
    verifiedRecruiters: 0
  });
  const [recentData, setRecentData] = useState({
    recentUsers: [],
    recentRecruiters: [],
    recentJobs: []
  });
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      
      const [usersRes, recruitersRes, jobsRes] = await Promise.all([
        api.get("/admin/auth/users"),
        api.get("/admin/auth/recruiters"), 
        api.get("/admin/auth/jobs")
      ]);

      const users = usersRes.data.users || [];
      const recruiters = recruitersRes.data.recruiters || [];
      const jobs = jobsRes.data.jobs || [];
// Update stats and recent data
      setStats({
        totalUsers: users.length,
        totalRecruiters: recruiters.length,
        totalJobs: jobs.length,
        verifiedRecruiters: recruiters.filter(r => r.verified).length
      });

      setRecentData({
        recentUsers: users.slice(0, 5),
        recentRecruiters: recruiters.slice(0, 5),
        recentJobs: jobs.slice(0, 5)
      });

    } catch (error) {
      console.error("Error fetching dashboard data:", error);
    } finally {
      setLoading(false);
    }
  };
// Logout handler
  const handleLogout = async () => {
    try {
      await api.post("/admin/auth/logout");
      window.location.href = "/admin/signin";
    } catch (error) {
      console.error("Logout error:", error);
    }
  };
// Navigation handler for viewing all items
  const handleViewAll = (type) => {
    navigate(`/admin/${type}`);
  };

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
          <p className="mt-4 text-gray-600">Loading admin dashboard...</p>
        </div>
      </div>
    );
  }
// Main dashboard layout
  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <header className="bg-white shadow-sm border-b">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center py-4">
            <div className="flex items-center">
              <h1 className="text-2xl font-bold text-gray-900">Admin Dashboard</h1>
              <span className="ml-3 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full">Admin</span>
            </div>
            <div className="flex items-center space-x-4">
              <button
                onClick={fetchDashboardData}
                className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium"
              >
                Refresh Data
              </button>
              <button
                onClick={handleLogout}
                className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm font-medium"
              >
                Logout
              </button>
            </div>
          </div>
        </div>
      </header>

      {/* Main Content */}
      <main className="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        {/* Stats Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          {/* Total Users - Clickable */}
          <div 
            onClick={() => handleViewAll('users')}
            className="bg-white p-6 rounded-xl shadow-sm border cursor-pointer hover:shadow-md transition-shadow"
          >
            <div className="flex items-center">
              <div className="p-3 bg-blue-100 rounded-lg">
                <svg className="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
                </svg>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Total Users</p>
                <p className="text-2xl font-semibold text-gray-900">{stats.totalUsers}</p>
                <p className="text-xs text-blue-600 mt-1">Click to view all →</p>
              </div>
            </div>
          </div>

          {/* Total Jobs - Clickable */}
          <div 
            onClick={() => handleViewAll('jobs')}
            className="bg-white p-6 rounded-xl shadow-sm border cursor-pointer hover:shadow-md transition-shadow"
          >
            <div className="flex items-center">
              <div className="p-3 bg-green-100 rounded-lg">
                <svg className="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Total Jobs</p>
                <p className="text-2xl font-semibold text-gray-900">{stats.totalJobs}</p>
                <p className="text-xs text-green-600 mt-1">Click to view all →</p>
              </div>
            </div>
          </div>

          {/* Recruiters - Clickable */}
          <div 
            onClick={() => handleViewAll('recruiters')}
            className="bg-white p-6 rounded-xl shadow-sm border cursor-pointer hover:shadow-md transition-shadow"
          >
            <div className="flex items-center">
              <div className="p-3 bg-purple-100 rounded-lg">
                <svg className="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Recruiters</p>
                <p className="text-2xl font-semibold text-gray-900">{stats.totalRecruiters}</p>
                <p className="text-xs text-purple-600 mt-1">Click to view all →</p>
              </div>
            </div>
          </div>

          <div className="bg-white p-6 rounded-xl shadow-sm border">
            <div className="flex items-center">
              <div className="p-3 bg-orange-100 rounded-lg">
                <svg className="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
              </div>
              <div className="ml-4">
                <p className="text-sm font-medium text-gray-600">Verified Recruiters</p>
                <p className="text-2xl font-semibold text-gray-900">{stats.verifiedRecruiters}</p>
              </div>
            </div>
          </div>
        </div>

        {/* Rest of the dashboard remains the same */}
        {/* ... */}
      </main>
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\jobs\jobs-list.jsx ===
import { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";

export default function AdminJobs() {
  const [jobs, setJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedJob, setSelectedJob] = useState(null);
  const [showModal, setShowModal] = useState(false);
  const [filter, setFilter] = useState("all");
  const navigate = useNavigate();

  useEffect(() => {
    fetchJobs();
  }, []);
// Fetch jobs from API
  const fetchJobs = async () => {
    try {
      const response = await api.get("/admin/auth/jobs");
      setJobs(response.data.jobs || []);
    } catch (error) {
      console.error("Error fetching jobs:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (job) => {
    setSelectedJob(job);
    setShowModal(true);
  };
// Navigate back to dashboard
  const handleBack = () => {
    navigate("/admin-dashboard");
  };

  const formatSalary = (salary) => {
    if (!salary) return "Not specified";
    return salary;
  };
// Format experience range
  const formatExperience = (min, max) => {
    if (min == null && max == null) return "Fresher";
    if (min != null && max == null) return `${min}+ yrs`;
    if (min == null && max != null) return `Up to ${max} yrs`;
    return `${min}-${max} yrs`;
  };
// Filter jobs based on selected filter
  const filteredJobs = jobs.filter(job => {
    if (filter === "all") return true;
    if (filter === "full-time") return job.job_type?.toLowerCase().includes("full");
    if (filter === "part-time") return job.job_type?.toLowerCase().includes("part");
    if (filter === "contract") return job.job_type?.toLowerCase().includes("contract");
    return true;
  });

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }
// Main render
  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="flex justify-between items-center mb-6">
          <div>
            <button
              onClick={handleBack}
              className="flex items-center text-blue-600 hover:text-blue-700 mb-2"
            >
              ← Back to Dashboard
            </button>
            <h1 className="text-2xl font-bold text-gray-900">Manage Jobs</h1>
            <p className="text-gray-600">Total {jobs.length} jobs posted</p>
          </div>
          <button
            onClick={fetchJobs}
            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
          >
            Refresh
          </button>
        </div>

        {/* Filter */}
        <div className="mb-6">
          <div className="flex space-x-2">
            <button
              onClick={() => setFilter("all")}
              className={`px-4 py-2 rounded-lg text-sm font-medium ${
                filter === "all" 
                  ? "bg-blue-600 text-white" 
                  : "bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"
              }`}
            >
              All Jobs
            </button>
            <button
              onClick={() => setFilter("full-time")}
              className={`px-4 py-2 rounded-lg text-sm font-medium ${
                filter === "full-time" 
                  ? "bg-blue-600 text-white" 
                  : "bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"
              }`}
            >
              Full-time
            </button>
            <button
              onClick={() => setFilter("part-time")}
              className={`px-4 py-2 rounded-lg text-sm font-medium ${
                filter === "part-time" 
                  ? "bg-blue-600 text-white" 
                  : "bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"
              }`}
            >
              Part-time
            </button>
            <button
              onClick={() => setFilter("contract")}
              className={`px-4 py-2 rounded-lg text-sm font-medium ${
                filter === "contract" 
                  ? "bg-blue-600 text-white" 
                  : "bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"
              }`}
            >
              Contract
            </button>
          </div>
        </div>

        {/* Jobs Table */}
        <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Job Details
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Company & Recruiter
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Location
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Experience & Salary
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Posted
                  </th>
                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {filteredJobs.map((job) => (
                  <tr key={job.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900">
                          {job.title}
                        </div>
                        <div className="text-sm text-gray-500 capitalize">
                          {job.job_type}
                        </div>
                        <div className="text-xs text-gray-400 mt-1">
                          Vacancies: {job.vacancies || 'Not specified'}
                        </div>
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900">
                          {job.company}
                        </div>
                        <div className="text-sm text-gray-500">
                          {job.recruiter_email}
                        </div>
                        {job.company_name && (
                          <div className="text-xs text-gray-400">
                            by {job.company_name}
                          </div>
                        )}
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className="text-sm text-gray-900">
                        {job.location}
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className="text-sm text-gray-900">
                        {formatExperience(job.min_experience, job.max_experience)}
                      </div>
                      <div className="text-sm text-gray-500">
                        {formatSalary(job.salary)}
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                      {new Date(job.created_at).toLocaleDateString()}
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                      <button
                        onClick={() => handleViewDetails(job)}
                        className="text-blue-600 hover:text-blue-900 mr-3"
                      >
                        View Details
                      </button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
          
          {filteredJobs.length === 0 && (
            <div className="text-center py-12">
              <p className="text-gray-500">No jobs found</p>
            </div>
          )}
        </div>
      </div>

      {/* Job Details Modal */}
      {showModal && selectedJob && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
          <div className="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div className="p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-xl font-bold text-gray-900">Job Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h3 className="text-lg font-semibold mb-3">Job Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-sm font-medium text-gray-500">Job Title</label>
                      <p className="text-gray-900">{selectedJob.title}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Job Type</label>
                      <p className="text-gray-900 capitalize">{selectedJob.job_type}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Vacancies</label>
                      <p className="text-gray-900">{selectedJob.vacancies || 'Not specified'}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Experience Required</label>
                      <p className="text-gray-900">
                        {formatExperience(selectedJob.min_experience, selectedJob.max_experience)}
                      </p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Salary</label>
                      <p className="text-gray-900">{formatSalary(selectedJob.salary)}</p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-lg font-semibold mb-3">Company & Location</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-sm font-medium text-gray-500">Company</label>
                      <p className="text-gray-900">{selectedJob.company}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Location</label>
                      <p className="text-gray-900">{selectedJob.location}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Posted By</label>
                      <p className="text-gray-900">{selectedJob.recruiter_email}</p>
                      {selectedJob.company_name && (
                        <p className="text-sm text-gray-600">({selectedJob.company_name})</p>
                      )}
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Posted Date</label>
                      <p className="text-gray-900">
                        {new Date(selectedJob.created_at).toLocaleDateString()}
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              {/* Job Description */}
              <div className="mt-6">
                <h3 className="text-lg font-semibold mb-3">Job Description</h3>
                <div className="bg-gray-50 p-4 rounded-lg">
                  <p className="text-gray-900 whitespace-pre-line">
                    {selectedJob.description || 'No description provided.'}
                  </p>
                </div>
              </div>

              {/* Contact Information */}
              <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h3 className="text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-sm font-medium text-gray-500">Contact Email</label>
                      <p className="text-gray-900">
                        {selectedJob.contact_email ? (
                          <a href={`mailto:${selectedJob.contact_email}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_email}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-500">Contact Phone</label>
                      <p className="text-gray-900">
                        {selectedJob.contact_phone ? (
                          <a href={`tel:${selectedJob.contact_phone}`} className="text-blue-600 hover:underline">
                            {selectedJob.contact_phone}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                  </div>
                </div>

                {/* Interview Address */}
                <div>
                  <h3 className="text-lg font-semibold mb-3">Interview Address</h3>
                  <div className="bg-gray-50 p-4 rounded-lg">
                    <p className="text-gray-900 whitespace-pre-line">
                      {selectedJob.interview_address || 'Not specified'}
                    </p>
                  </div>
                </div>
              </div>

              <div className="mt-6 flex justify-end">
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\recruiter\pending-recruiters.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function PendingRecruiters() {
  const [recruiters, setRecruiters] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedRecruiter, setSelectedRecruiter] = useState(null);
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    fetchRecruiters();
  }, []);

  const fetchRecruiters = async () => {
    try {
      const response = await api.get("/admin/auth/recruiters");
      // Filter only pending recruiters
      const pendingRecruiters = (response.data.recruiters || []).filter(
        recruiter => recruiter.verified === 0 || recruiter.verified === false
      );
      setRecruiters(pendingRecruiters);
    } catch (error) {
      console.error("Error fetching recruiters:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (recruiter) => {
    setSelectedRecruiter(recruiter);
    setShowModal(true);
  };

  const toggleVerification = async (recruiterId, currentVerified) => {
    try {
      // Always verify (set to 1) since this is pending recruiters page
      await api.put(`/admin/auth/recruiters/${recruiterId}/verify`, {
        verified: 1
      });
      
      // Remove from list immediately
      setRecruiters(prevRecruiters => 
        prevRecruiters.filter(recruiter => recruiter.user_id !== recruiterId)
      );
      
      // Refresh data
      fetchRecruiters();
    } catch (error) {
      console.error("Error updating verification:", error);
      alert("Failed to verify recruiter. Please try again.");
    }
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="max-w-full mx-auto">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
        <div>
          <h1 className="text-xl md:text-2xl font-bold text-gray-900">Pending Recruiters</h1>
          <p className="text-sm md:text-base text-gray-600">
            Total {recruiters.length} recruiters waiting for verification
          </p>
        </div>
        <button
          onClick={fetchRecruiters}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
        >
          Refresh
        </button>
      </div>

      {/* Pending Recruiters Table */}
      <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
        <div className="px-4 py-3 bg-blue-600 border-b border-blue-700">
          <h2 className="text-lg font-semibold text-white">
            Pending Verification ({recruiters.length})
          </h2>
          <p className="text-sm text-blue-100">
            Recruiters waiting for verification approval
          </p>
        </div>
        {recruiters.length > 0 ? (
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Company
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                    Contact
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Type
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Location
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {recruiters.map((recruiter) => (
                  <tr key={recruiter.user_id} className="hover:bg-gray-50">
                    <td className="px-3 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900 truncate max-w-[150px]">
                          {recruiter.company_name}
                        </div>
                        <div className="text-xs text-gray-500 truncate max-w-[150px]">
                          {recruiter.company_website && (
                            <a 
                              href={recruiter.company_website} 
                              target="_blank" 
                              rel="noopener noreferrer"
                              className="text-blue-600 hover:underline"
                            >
                              {recruiter.company_website}
                            </a>
                          )}
                        </div>
                      </div>
                    </td>
                    <td className="px-3 py-4 hidden md:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">{recruiter.email}</div>
                      <div className="text-xs text-gray-500 truncate max-w-[120px]">@{recruiter.username}</div>
                    </td>
                    <td className="px-3 py-4 text-sm text-gray-900 capitalize hidden lg:table-cell">
                      {recruiter.company_type}
                    </td>
                    <td className="px-3 py-4 hidden lg:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">
                        {recruiter.city}, {recruiter.state}
                      </div>
                      <div className="text-xs text-gray-500 truncate max-w-[120px]">{recruiter.country}</div>
                    </td>
                    <td className="px-3 py-4 text-sm font-medium">
                      <div className="flex flex-col sm:flex-row gap-2">
                        <button
                          onClick={() => handleViewDetails(recruiter)}
                          className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                        >
                          View
                        </button>
                        <button
                          onClick={() => toggleVerification(recruiter.user_id, recruiter.verified)}
                          className="text-green-600 hover:text-green-900 border border-green-200 hover:bg-green-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Verify
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="text-center py-12">
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4">
              <svg className="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
            </div>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No Pending Recruiters</h3>
            <p className="text-gray-500">All recruiters have been verified</p>
          </div>
        )}
      </div>

      {/* Recruiter Details Modal */}
      {showModal && selectedRecruiter && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Recruiter Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company Name</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.company_name}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Website</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedRecruiter.company_website ? (
                          <a href={selectedRecruiter.company_website} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline">
                            {selectedRecruiter.company_website}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedRecruiter.company_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Verification Status</label>
                      <p className="text-gray-900">
                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                          selectedRecruiter.verified === 1 || selectedRecruiter.verified === true
                            ? 'bg-green-100 text-green-800' 
                            : 'bg-yellow-100 text-yellow-800'
                        }`}>
                          {selectedRecruiter.verified === 1 || selectedRecruiter.verified === true ? 'Verified' : 'Pending Verification'}
                        </span>
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Email</label>
                      <p className="text-gray-900 text-sm md:text-base break-all">{selectedRecruiter.email}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Username</label>
                      <p className="text-gray-900 text-sm md:text-base">@{selectedRecruiter.username}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Member Since</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {new Date(selectedRecruiter.created_at).toLocaleDateString()}
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Address</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.address_line1}</p>
                  {selectedRecruiter.address_line2 && (
                    <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.address_line2}</p>
                  )}
                  <p className="text-gray-900 text-sm md:text-base">
                    {[selectedRecruiter.city, selectedRecruiter.state, selectedRecruiter.country, selectedRecruiter.pincode]
                      .filter(Boolean).join(', ')}
                  </p>
                </div>
              </div>

              {selectedRecruiter.verification_notes && (
                <div className="mt-6">
                  <h3 className="text-base md:text-lg font-semibold mb-3">Verification Notes</h3>
                  <div className="bg-yellow-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.verification_notes}</p>
                  </div>
                </div>
              )}

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    toggleVerification(selectedRecruiter.user_id, selectedRecruiter.verified);
                    setShowModal(false);
                  }}
                  className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm md:text-base"
                >
                  Verify
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\recruiter\recruiters-list.jsx ===
import { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";

export default function AdminRecruiters() {
  const [recruiters, setRecruiters] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedRecruiter, setSelectedRecruiter] = useState(null);
  const [showModal, setShowModal] = useState(false);
  const [activeTab, setActiveTab] = useState("all"); // "all", "pending", "verified"
  const navigate = useNavigate();

  useEffect(() => {
    fetchRecruiters();
  }, []);

  const fetchRecruiters = async () => {
    try {
      const response = await api.get("/admin/auth/recruiters");
      setRecruiters(response.data.recruiters || []);
    } catch (error) {
      console.error("Error fetching recruiters:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (recruiter) => {
    setSelectedRecruiter(recruiter);
    setShowModal(true);
  };

  const handleBack = () => {
    navigate("/admin-dashboard");
  };

  const toggleVerification = async (recruiterId, currentVerified) => {
    try {
      const currentVerifiedNum = currentVerified === true || currentVerified === 1 ? 1 : 0;
      const newVerifiedStatus = currentVerifiedNum === 1 ? 0 : 1;
      
      await api.put(`/admin/auth/recruiters/${recruiterId}/verify`, {
        verified: newVerifiedStatus
      });
      
      setRecruiters(prevRecruiters => 
        prevRecruiters.map(recruiter => 
          recruiter.user_id === recruiterId 
            ? { ...recruiter, verified: newVerifiedStatus }
            : recruiter
        )
      );
      
      fetchRecruiters();
    } catch (error) {
      console.error("Error updating verification:", error);
      alert("Failed to update verification status. Please try again.");
    }
  };

  // Filter recruiters based on active tab
  const filteredRecruiters = () => {
    switch(activeTab) {
      case "pending":
        return recruiters.filter(recruiter => 
          recruiter.verified === 0 || recruiter.verified === false
        );
      case "verified":
        return recruiters.filter(recruiter => 
          recruiter.verified === 1 || recruiter.verified === true
        );
      default:
        return recruiters;
    }
  };

  const getTabStats = () => {
    const total = recruiters.length;
    const verified = recruiters.filter(r => r.verified === 1 || r.verified === true).length;
    const pending = total - verified;
    
    return { total, verified, pending };
  };

  const stats = getTabStats();

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-6">
      <div className="max-w-full mx-auto">
        {/* Header */}
        <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
          <div>
            <button
              onClick={handleBack}
              className="flex items-center text-blue-600 hover:text-blue-700 mb-2"
            >
              ← Back to Dashboard
            </button>
            <h1 className="text-xl md:text-2xl font-bold text-gray-900">Manage Recruiters</h1>
            <p className="text-sm md:text-base text-gray-600">
              Total {stats.total} recruiters • {stats.verified} verified • {stats.pending} pending
            </p>
          </div>
          <button
            onClick={fetchRecruiters}
            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
          >
            Refresh
          </button>
        </div>

        {/* Tabs */}
        <div className="mb-6">
          <div className="border-b border-gray-200">
            <nav className="-mb-px flex space-x-4 md:space-x-8 overflow-x-auto">
              <button
                onClick={() => setActiveTab("all")}
                className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm md:text-base ${
                  activeTab === "all"
                    ? "border-blue-500 text-blue-600"
                    : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"
                }`}
              >
                All Recruiters ({stats.total})
              </button>
              <button
                onClick={() => setActiveTab("pending")}
                className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm md:text-base ${
                  activeTab === "pending"
                    ? "border-yellow-500 text-white bg-blue-800 rounded-t-lg px-3"
                    : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"
                }`}
              >
                Pending Verification ({stats.pending})
              </button>
              <button
                onClick={() => setActiveTab("verified")}
                className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm md:text-base ${
                  activeTab === "verified"
                    ? "border-blue-800 text-green-600"
                    : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"
                }`}
              >
                Verified ({stats.verified})
              </button>
            </nav>
          </div>
        </div>

        {/* Tab Content */}
        <div className="space-y-6">
          {/* Pending Recruiters Table */}
          {activeTab === "pending" && (
            <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
              <div className="px-4 py-3 bg-yellow-50 border-b border-yellow-100">
                <h2 className="text-lg font-semibold text-yellow-800">
                  Pending Verification ({stats.pending})
                </h2>
                <p className="text-sm text-yellow-600">
                  Recruiters waiting for verification approval
                </p>
              </div>
              {filteredRecruiters().length > 0 ? (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead className="bg-gray-50">
                      <tr>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Company
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                          Contact
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                          Type
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                          Location
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="bg-white divide-y divide-gray-200">
                      {filteredRecruiters().map((recruiter) => (
                        <tr key={recruiter.user_id} className="hover:bg-yellow-50">
                          <td className="px-3 py-4">
                            <div>
                              <div className="text-sm font-medium text-gray-900 truncate max-w-[150px]">
                                {recruiter.company_name}
                              </div>
                              <div className="text-xs text-gray-500 truncate max-w-[150px]">
                                {recruiter.company_website && (
                                  <a 
                                    href={recruiter.company_website} 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="text-blue-600 hover:underline"
                                  >
                                    {recruiter.company_website}
                                  </a>
                                )}
                              </div>
                            </div>
                          </td>
                          <td className="px-3 py-4 hidden md:table-cell">
                            <div className="text-sm text-gray-900 truncate max-w-[120px]">{recruiter.email}</div>
                            <div className="text-xs text-gray-500 truncate max-w-[120px]">@{recruiter.username}</div>
                          </td>
                          <td className="px-3 py-4 text-sm text-gray-900 capitalize hidden lg:table-cell">
                            {recruiter.company_type}
                          </td>
                          <td className="px-3 py-4 hidden lg:table-cell">
                            <div className="text-sm text-gray-900 truncate max-w-[120px]">
                              {recruiter.city}, {recruiter.state}
                            </div>
                            <div className="text-xs text-gray-500 truncate max-w-[120px]">{recruiter.country}</div>
                          </td>
                          <td className="px-3 py-4 text-sm font-medium">
                            <div className="flex flex-col sm:flex-row gap-2">
                              <button
                                onClick={() => handleViewDetails(recruiter)}
                                className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                              >
                                View
                              </button>
                              <button
                                onClick={() => toggleVerification(recruiter.user_id, recruiter.verified)}
                                className="text-green-600 hover:text-green-900 border border-green-200 hover:bg-green-50 text-xs sm:text-sm px-2 py-1 rounded"
                              >
                                Verify
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              ) : (
                <div className="text-center py-12">
                  <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 mb-4">
                    <svg className="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                  </div>
                  <h3 className="text-lg font-medium text-gray-900 mb-2">No Pending Recruiters</h3>
                  <p className="text-gray-500">All recruiters have been verified</p>
                </div>
              )}
            </div>
          )}

          {/* Verified Recruiters Table */}
          {activeTab === "verified" && (
            <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
              <div className="px-4 py-3 bg-blue-900 border-b border-green-100">
                <h2 className="text-lg font-semibold text-white">
                  Verified Recruiters ({stats.verified})
                </h2>
                <p className="text-sm text-what-blue-600">
                  Recruiters that have been approved for verification
                </p>
              </div>
              {filteredRecruiters().length > 0 ? (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead className="bg-gray-50">
                      <tr>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Company
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                          Contact
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                          Type
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                          Location
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="bg-white divide-y divide-gray-200">
                      {filteredRecruiters().map((recruiter) => (
                        <tr key={recruiter.user_id} className="hover:bg-green-50">
                          <td className="px-3 py-4">
                            <div>
                              <div className="text-sm font-medium text-gray-900 truncate max-w-[150px]">
                                {recruiter.company_name}
                              </div>
                              <div className="text-xs text-gray-500 truncate max-w-[150px]">
                                {recruiter.company_website && (
                                  <a 
                                    href={recruiter.company_website} 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="text-blue-600 hover:underline"
                                  >
                                    {recruiter.company_website}
                                  </a>
                                )}
                              </div>
                            </div>
                          </td>
                          <td className="px-3 py-4 hidden md:table-cell">
                            <div className="text-sm text-gray-900 truncate max-w-[120px]">{recruiter.email}</div>
                            <div className="text-xs text-gray-500 truncate max-w-[120px]">@{recruiter.username}</div>
                          </td>
                          <td className="px-3 py-4 text-sm text-gray-900 capitalize hidden lg:table-cell">
                            {recruiter.company_type}
                          </td>
                          <td className="px-3 py-4 hidden lg:table-cell">
                            <div className="text-sm text-gray-900 truncate max-w-[120px]">
                              {recruiter.city}, {recruiter.state}
                            </div>
                            <div className="text-xs text-gray-500 truncate max-w-[120px]">{recruiter.country}</div>
                          </td>
                          <td className="px-3 py-4 text-sm font-medium">
                            <div className="flex flex-col sm:flex-row gap-2">
                              <button
                                onClick={() => handleViewDetails(recruiter)}
                                className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                              >
                                View
                              </button>
                              <button
                                onClick={() => toggleVerification(recruiter.user_id, recruiter.verified)}
                                className="text-orange-600 hover:text-orange-900 border border-orange-200 hover:bg-orange-50 text-xs sm:text-sm px-2 py-1 rounded"
                              >
                                Unverify
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              ) : (
                <div className="text-center py-12">
                  <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4">
                    <svg className="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                  </div>
                  <h3 className="text-lg font-medium text-gray-900 mb-2">No Verified Recruiters</h3>
                  <p className="text-gray-500">Verify recruiters to see them listed here</p>
                </div>
              )}
            </div>
          )}

          {/* All Recruiters Table */}
          {activeTab === "all" && (
            <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
              <div className="px-4 py-3 bg-blue-50 border-b border-blue-100">
                <h2 className="text-lg font-semibold text-blue-800">
                  All Recruiters ({stats.total})
                </h2>
                <p className="text-sm text-blue-600">
                  Showing all recruiters with their verification status
                </p>
              </div>
              {filteredRecruiters().length > 0 ? (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead className="bg-gray-50">
                      <tr>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Company
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                          Contact
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                          Type
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                          Location
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Status
                        </th>
                        <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="bg-white divide-y divide-gray-200">
                      {filteredRecruiters().map((recruiter) => (
                        <tr key={recruiter.user_id} className="hover:bg-gray-50">
                          <td className="px-3 py-4">
                            <div>
                              <div className="text-sm font-medium text-gray-900 truncate max-w-[150px]">
                                {recruiter.company_name}
                              </div>
                              <div className="text-xs text-gray-500 truncate max-w-[150px]">
                                {recruiter.company_website && (
                                  <a 
                                    href={recruiter.company_website} 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="text-blue-600 hover:underline"
                                  >
                                    {recruiter.company_website}
                                  </a>
                                )}
                              </div>
                            </div>
                          </td>
                          <td className="px-3 py-4 hidden md:table-cell">
                            <div className="text-sm text-gray-900 truncate max-w-[120px]">{recruiter.email}</div>
                            <div className="text-xs text-gray-500 truncate max-w-[120px]">@{recruiter.username}</div>
                          </td>
                          <td className="px-3 py-4 text-sm text-gray-900 capitalize hidden lg:table-cell">
                            {recruiter.company_type}
                          </td>
                          <td className="px-3 py-4 hidden lg:table-cell">
                            <div className="text-sm text-gray-900 truncate max-w-[120px]">
                              {recruiter.city}, {recruiter.state}
                            </div>
                            <div className="text-xs text-gray-500 truncate max-w-[120px]">{recruiter.country}</div>
                          </td>
                          <td className="px-3 py-4">
                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                              recruiter.verified === 1 || recruiter.verified === true
                                ? 'bg-green-100 text-green-800' 
                                : 'bg-yellow-100 text-yellow-800'
                            }`}>
                              {recruiter.verified === 1 || recruiter.verified === true ? 'Verified' : 'Pending'}
                            </span>
                          </td>
                          <td className="px-3 py-4 text-sm font-medium">
                            <div className="flex flex-col sm:flex-row gap-2">
                              <button
                                onClick={() => handleViewDetails(recruiter)}
                                className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                              >
                                View
                              </button>
                              <button
                                onClick={() => toggleVerification(recruiter.user_id, recruiter.verified)}
                                className={`text-xs sm:text-sm px-2 py-1 rounded ${
                                  recruiter.verified === 1 || recruiter.verified === true
                                    ? 'text-orange-600 hover:text-orange-900 border border-orange-200 hover:bg-orange-50' 
                                    : 'text-green-600 hover:text-green-900 border border-green-200 hover:bg-green-50'
                                }`}
                              >
                                {recruiter.verified === 1 || recruiter.verified === true ? 'Unverify' : 'Verify'}
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              ) : (
                <div className="text-center py-12">
                  <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4">
                    <svg className="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                    </svg>
                  </div>
                  <h3 className="text-lg font-medium text-gray-900 mb-2">No Recruiters Found</h3>
                  <p className="text-gray-500">There are no recruiters registered yet</p>
                </div>
              )}
            </div>
          )}
        </div>
      </div>

      {/* Recruiter Details Modal (same as before) */}
      {showModal && selectedRecruiter && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Recruiter Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company Name</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.company_name}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Website</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedRecruiter.company_website ? (
                          <a href={selectedRecruiter.company_website} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline">
                            {selectedRecruiter.company_website}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedRecruiter.company_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Verification Status</label>
                      <p className="text-gray-900">
                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                          selectedRecruiter.verified === 1 || selectedRecruiter.verified === true
                            ? 'bg-green-100 text-green-800' 
                            : 'bg-yellow-100 text-yellow-800'
                        }`}>
                          {selectedRecruiter.verified === 1 || selectedRecruiter.verified === true ? 'Verified' : 'Pending Verification'}
                        </span>
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Email</label>
                      <p className="text-gray-900 text-sm md:text-base break-all">{selectedRecruiter.email}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Username</label>
                      <p className="text-gray-900 text-sm md:text-base">@{selectedRecruiter.username}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Member Since</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {new Date(selectedRecruiter.created_at).toLocaleDateString()}
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Address</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.address_line1}</p>
                  {selectedRecruiter.address_line2 && (
                    <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.address_line2}</p>
                  )}
                  <p className="text-gray-900 text-sm md:text-base">
                    {[selectedRecruiter.city, selectedRecruiter.state, selectedRecruiter.country, selectedRecruiter.pincode]
                      .filter(Boolean).join(', ')}
                  </p>
                </div>
              </div>

              {selectedRecruiter.verification_notes && (
                <div className="mt-6">
                  <h3 className="text-base md:text-lg font-semibold mb-3">Verification Notes</h3>
                  <div className="bg-yellow-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.verification_notes}</p>
                  </div>
                </div>
              )}

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    toggleVerification(selectedRecruiter.user_id, selectedRecruiter.verified);
                    setShowModal(false);
                  }}
                  className={`px-4 py-2 rounded-lg text-sm md:text-base ${
                    selectedRecruiter.verified === 1 || selectedRecruiter.verified === true
                      ? 'bg-orange-600 text-white hover:bg-orange-700'
                      : 'bg-green-600 text-white hover:bg-green-700'
                  }`}
                >
                  {selectedRecruiter.verified === 1 || selectedRecruiter.verified === true ? 'Unverify' : 'Verify'}
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\admin\recruiter\verified-recruiters.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function VerifiedRecruiters() {
  const [recruiters, setRecruiters] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedRecruiter, setSelectedRecruiter] = useState(null);
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    fetchRecruiters();
  }, []);

  const fetchRecruiters = async () => {
    try {
      const response = await api.get("/admin/auth/recruiters");
      // Filter only verified recruiters
      const verifiedRecruiters = (response.data.recruiters || []).filter(
        recruiter => recruiter.verified === 1 || recruiter.verified === true
      );
      setRecruiters(verifiedRecruiters);
    } catch (error) {
      console.error("Error fetching recruiters:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleViewDetails = (recruiter) => {
    setSelectedRecruiter(recruiter);
    setShowModal(true);
  };

  const toggleVerification = async (recruiterId, currentVerified) => {
    try {
      // Always unverify (set to 0) since this is verified recruiters page
      await api.put(`/admin/auth/recruiters/${recruiterId}/verify`, {
        verified: 0
      });
      
      // Remove from list immediately
      setRecruiters(prevRecruiters => 
        prevRecruiters.filter(recruiter => recruiter.user_id !== recruiterId)
      );
      
      // Refresh data
      fetchRecruiters();
    } catch (error) {
      console.error("Error updating verification:", error);
      alert("Failed to unverify recruiter. Please try again.");
    }
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="max-w-full mx-auto">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6">
        <div>
          <h1 className="text-xl md:text-2xl font-bold text-gray-900">Verified Recruiters</h1>
          <p className="text-sm md:text-base text-gray-600">
            Total {recruiters.length} verified recruiters
          </p>
        </div>
        <button
          onClick={fetchRecruiters}
          className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full sm:w-auto"
        >
          Refresh
        </button>
      </div>

      {/* Verified Recruiters Table */}
      <div className="bg-white rounded-xl shadow-sm border overflow-hidden">
        <div className="px-4 py-3 bg-blue-600 border-b border-blue-700">
          <h2 className="text-lg font-semibold text-white">
            Verified Recruiters ({recruiters.length})
          </h2>
          <p className="text-sm text-blue-100">
            Recruiters that have been approved for verification
          </p>
        </div>
        {recruiters.length > 0 ? (
          <div className="overflow-x-auto">
            <table className="min-w-full divide-y divide-gray-200">
              <thead className="bg-gray-50">
                <tr>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Company
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell">
                    Contact
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Type
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell">
                    Location
                  </th>
                  <th className="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody className="bg-white divide-y divide-gray-200">
                {recruiters.map((recruiter) => (
                  <tr key={recruiter.user_id} className="hover:bg-gray-50">
                    <td className="px-3 py-4">
                      <div>
                        <div className="text-sm font-medium text-gray-900 truncate max-w-[150px]">
                          {recruiter.company_name}
                        </div>
                        <div className="text-xs text-gray-500 truncate max-w-[150px]">
                          {recruiter.company_website && (
                            <a 
                              href={recruiter.company_website} 
                              target="_blank" 
                              rel="noopener noreferrer"
                              className="text-blue-600 hover:underline"
                            >
                              {recruiter.company_website}
                            </a>
                          )}
                        </div>
                      </div>
                    </td>
                    <td className="px-3 py-4 hidden md:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">{recruiter.email}</div>
                      <div className="text-xs text-gray-500 truncate max-w-[120px]">@{recruiter.username}</div>
                    </td>
                    <td className="px-3 py-4 text-sm text-gray-900 capitalize hidden lg:table-cell">
                      {recruiter.company_type}
                    </td>
                    <td className="px-3 py-4 hidden lg:table-cell">
                      <div className="text-sm text-gray-900 truncate max-w-[120px]">
                        {recruiter.city}, {recruiter.state}
                      </div>
                      <div className="text-xs text-gray-500 truncate max-w-[120px]">{recruiter.country}</div>
                    </td>
                    <td className="px-3 py-4 text-sm font-medium">
                      <div className="flex flex-col sm:flex-row gap-2">
                        <button
                          onClick={() => handleViewDetails(recruiter)}
                          className="text-blue-600 hover:text-blue-900 text-xs sm:text-sm px-2 py-1 rounded border border-blue-200 hover:bg-blue-50"
                        >
                          View
                        </button>
                        <button
                          onClick={() => toggleVerification(recruiter.user_id, recruiter.verified)}
                          className="text-orange-600 hover:text-orange-900 border border-orange-200 hover:bg-orange-50 text-xs sm:text-sm px-2 py-1 rounded"
                        >
                          Unverify
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="text-center py-12">
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4">
              <svg className="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
            </div>
            <h3 className="text-lg font-medium text-gray-900 mb-2">No Verified Recruiters</h3>
            <p className="text-gray-500">Verify recruiters to see them listed here</p>
          </div>
        )}
      </div>

      {/* Recruiter Details Modal */}
      {showModal && selectedRecruiter && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto">
          <div className="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div className="p-4 md:p-6">
              <div className="flex justify-between items-center mb-4">
                <h2 className="text-lg md:text-xl font-bold text-gray-900">Recruiter Details</h2>
                <button
                  onClick={() => setShowModal(false)}
                  className="text-gray-400 hover:text-gray-600 text-xl"
                >
                  ✕
                </button>
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Company Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company Name</label>
                      <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.company_name}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Website</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {selectedRecruiter.company_website ? (
                          <a href={selectedRecruiter.company_website} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline">
                            {selectedRecruiter.company_website}
                          </a>
                        ) : 'Not provided'}
                      </p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Company Type</label>
                      <p className="text-gray-900 text-sm md:text-base capitalize">{selectedRecruiter.company_type}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Verification Status</label>
                      <p className="text-gray-900">
                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                          selectedRecruiter.verified === 1 || selectedRecruiter.verified === true
                            ? 'bg-green-100 text-green-800' 
                            : 'bg-yellow-100 text-yellow-800'
                        }`}>
                          {selectedRecruiter.verified === 1 || selectedRecruiter.verified === true ? 'Verified' : 'Pending Verification'}
                        </span>
                      </p>
                    </div>
                  </div>
                </div>

                <div>
                  <h3 className="text-base md:text-lg font-semibold mb-3">Contact Information</h3>
                  <div className="space-y-2">
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Email</label>
                      <p className="text-gray-900 text-sm md:text-base break-all">{selectedRecruiter.email}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Username</label>
                      <p className="text-gray-900 text-sm md:text-base">@{selectedRecruiter.username}</p>
                    </div>
                    <div>
                      <label className="text-xs md:text-sm font-medium text-gray-500">Member Since</label>
                      <p className="text-gray-900 text-sm md:text-base">
                        {new Date(selectedRecruiter.created_at).toLocaleDateString()}
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-6">
                <h3 className="text-base md:text-lg font-semibold mb-3">Address</h3>
                <div className="bg-gray-50 p-3 md:p-4 rounded-lg">
                  <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.address_line1}</p>
                  {selectedRecruiter.address_line2 && (
                    <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.address_line2}</p>
                  )}
                  <p className="text-gray-900 text-sm md:text-base">
                    {[selectedRecruiter.city, selectedRecruiter.state, selectedRecruiter.country, selectedRecruiter.pincode]
                      .filter(Boolean).join(', ')}
                  </p>
                </div>
              </div>

              {selectedRecruiter.verification_notes && (
                <div className="mt-6">
                  <h3 className="text-base md:text-lg font-semibold mb-3">Verification Notes</h3>
                  <div className="bg-yellow-50 p-3 md:p-4 rounded-lg">
                    <p className="text-gray-900 text-sm md:text-base">{selectedRecruiter.verification_notes}</p>
                  </div>
                </div>
              )}

              <div className="mt-6 flex flex-col sm:flex-row justify-end gap-3">
                <button
                  onClick={() => {
                    toggleVerification(selectedRecruiter.user_id, selectedRecruiter.verified);
                    setShowModal(false);
                  }}
                  className="bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 text-sm md:text-base"
                >
                  Unverify
                </button>
                <button
                  onClick={() => setShowModal(false)}
                  className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm md:text-base"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\auth\admin\SignIn.jsx ===
import { useState } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function AdminSignIn() {
  const [formData, setFormData] = useState({
    email: "",
    password: "",
  });
  const [loading, setLoading] = useState(false);
  const [message, setMessage] = useState("");
  const [error, setError] = useState("");

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };
// Handle form submission
  async function handleSubmit(e) {
    e.preventDefault();
    setLoading(true);
    setMessage("");
    setError("");

    try {
      const { data } = await api.post("/admin/auth/login", {
        email: formData.email,
        password: formData.password,
      });

      setMessage(data?.message || "Admin login successful");

      // Redirect to admin dashboard
      setTimeout(() => {
        window.location.href = "/admin";
      }, 1000);
    } catch (err) {
      const errorMessage =
        err?.response?.data?.message || err?.message || "Admin login failed";
      setError(errorMessage);
    } finally {
      setLoading(false);
    }
  }

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 py-12">
      <div className="w-full max-w-md">
        {/* Header */}
        <div className="text-center mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">
            HireSpark Admin
          </h1>
          <p className="text-gray-600">Manage your platform efficiently</p>
        </div>

        <div className="w-full rounded-xl shadow-xl border-0 bg-white">
          <div className="px-8 pt-8 pb-6 text-center">
            <h2 className="text-2xl font-bold text-gray-800">
              Admin Sign In
            </h2>
            <p className="mt-2 text-sm text-gray-500">
              Enter your credentials to access the admin panel
            </p>
          </div>

          <div className="px-8 pb-8 space-y-6">
            <form onSubmit={handleSubmit} className="space-y-6">
              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Email Address
                  </label>
                  <input
                    name="email"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="admin@hirespark.com"
                    type="email"
                    value={formData.email}
                    onChange={handleChange}
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Password
                  </label>
                  <input
                    name="password"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="Enter your password"
                    type="password"
                    value={formData.password}
                    onChange={handleChange}
                    required
                  />
                </div>
              </div>

              <button
                type="submit"
                disabled={loading}
                className="w-full rounded-lg py-3 text-white font-semibold shadow-lg bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {loading ? (
                  <div className="flex items-center justify-center">
                    <svg
                      className="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                    >
                      <circle
                        className="opacity-25"
                        cx="12"
                        cy="12"
                        r="10"
                        stroke="currentColor"
                        strokeWidth="4"
                      ></circle>
                      <path
                        className="opacity-75"
                        fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                      ></path>
                    </svg>
                    Signing in...
                  </div>
                ) : (
                  "Sign In to Admin Panel"
                )}
              </button>
            </form>

            {/* Messages */}
            {message && (
              <div className="rounded-lg bg-green-50 border border-green-200 p-4">
                <div className="flex items-center">
                  <svg
                    className="w-5 h-5 text-green-500 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fillRule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                      clipRule="evenodd"
                    />
                  </svg>
                  <p className="text-green-700 text-sm font-medium">
                    {message}
                  </p>
                </div>
              </div>
            )}

            {error && (
              <div className="rounded-lg bg-red-50 border border-red-200 p-4">
                <div className="flex items-center">
                  <svg
                    className="w-5 h-5 text-red-500 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fillRule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                      clipRule="evenodd"
                    />
                  </svg>
                  <p className="text-red-700 text-sm font-medium">{error}</p>
                </div>
              </div>
            )}

            {/* Links */}
            <div className="text-center pt-4 border-t border-gray-200">
              <p className="text-sm text-gray-600">
                Need an admin account?{" "}
                <a
                  className="font-semibold text-blue-600 hover:text-blue-700 hover:underline transition-colors"
                  href="/admin/signup"
                >
                  Register here
                </a>
              </p>
              <p className="text-sm text-gray-600 mt-2">
                Regular user?{" "}
                <a
                  className="font-medium text-gray-700 hover:text-gray-900 hover:underline transition-colors"
                  href="/sign-in"
                >
                  Sign in here
                </a>
              </p>
            </div>
          </div>
        </div>

        {/* Footer */}
        <div className="text-center mt-8">
          <p className="text-xs text-gray-500">
            © 2024 HireSpark Admin. Protected admin access.
          </p>
        </div>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\auth\admin\SignUp.jsx ===
import { useState } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function AdminSignUp() {
  const [formData, setFormData] = useState({
    full_name: "",
    email: "",
    phone: "",
    password: "",
    confirmPassword: ""
  });
  const [loading, setLoading] = useState(false);
  const [message, setMessage] = useState("");
  const [error, setError] = useState("");

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
  };

  async function handleSubmit(e) {
    e.preventDefault();
    setLoading(true);
    setMessage("");
    setError("");

    // Validation
    if (formData.password !== formData.confirmPassword) {
      setError("Passwords do not match");
      setLoading(false);
      return;
    }

    if (formData.password.length < 6) {
      setError("Password must be at least 6 characters long");
      setLoading(false);
      return;
    }

    try {
      const { data } = await api.post("/admin/auth/register", {
        full_name: formData.full_name,
        email: formData.email,
        phone: formData.phone,
        password: formData.password
      });
      
      setMessage(data?.message || "Admin registered successfully");
      
      // Redirect to admin dashboard
      setTimeout(() => {
        window.location.href = "/admin-dashboard";
      }, 1500);
      
    } catch (err) {
      const errorMessage = err?.response?.data?.message || err?.message || "Admin registration failed";
      setError(errorMessage);
    } finally {
      setLoading(false);
    }
  }

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 py-12">
      <div className="w-full max-w-md">
        {/* Header */}
        <div className="text-center mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">HireSpark Admin</h1>
          <p className="text-gray-600">Create your admin account</p>
        </div>

        <div className="w-full rounded-xl shadow-xl border-0 bg-white">
          <div className="px-8 pt-8 pb-6 text-center">
            <h2 className="text-2xl font-bold text-gray-800">Admin Registration</h2>
            <p className="mt-2 text-sm text-gray-500">Fill in your details to create an admin account</p>
          </div>

          <div className="px-8 pb-8 space-y-6">
            <form onSubmit={handleSubmit} className="space-y-6">
              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Full Name *
                  </label>
                  <input
                    name="full_name"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="Enter your full name"
                    value={formData.full_name}
                    onChange={handleChange}
                    required
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Email Address *
                  </label>
                  <input
                    name="email"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="admin@hirespark.com"
                    type="email"
                    value={formData.email}
                    onChange={handleChange}
                    required
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Phone Number
                  </label>
                  <input
                    name="phone"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="+1 (555) 123-4567"
                    type="tel"
                    value={formData.phone}
                    onChange={handleChange}
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Password *
                  </label>
                  <input
                    name="password"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="Create a strong password"
                    type="password"
                    value={formData.password}
                    onChange={handleChange}
                    required
                  />
                  <p className="text-xs text-gray-500 mt-1">Minimum 6 characters</p>
                </div>
                
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Confirm Password *
                  </label>
                  <input
                    name="confirmPassword"
                    className="w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    placeholder="Confirm your password"
                    type="password"
                    value={formData.confirmPassword}
                    onChange={handleChange}
                    required
                  />
                </div>
              </div>

              <button
                type="submit"
                disabled={loading}
                className="w-full rounded-lg py-3 text-white font-semibold shadow-lg bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {loading ? (
                  <div className="flex items-center justify-center">
                    <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                      <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                      <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Creating Account...
                  </div>
                ) : (
                  "Create Admin Account"
                )}
              </button>
            </form>

            {/* Messages */}
            {message && (
              <div className="rounded-lg bg-green-50 border border-green-200 p-4">
                <div className="flex items-center">
                  <svg className="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                  </svg>
                  <p className="text-green-700 text-sm font-medium">{message}</p>
                </div>
              </div>
            )}

            {error && (
              <div className="rounded-lg bg-red-50 border border-red-200 p-4">
                <div className="flex items-center">
                  <svg className="w-5 h-5 text-red-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
                  </svg>
                  <p className="text-red-700 text-sm font-medium">{error}</p>
                </div>
              </div>
            )}

            {/* Links */}
            <div className="text-center pt-4 border-t border-gray-200">
              <p className="text-sm text-gray-600">
                Already have an admin account?{" "}
                <a 
                  className="font-semibold text-blue-600 hover:text-blue-700 hover:underline transition-colors" 
                  href="/admin/signin"
                >
                  Sign in here
                </a>
              </p>
              <p className="text-sm text-gray-600 mt-2">
                Regular user registration?{" "}
                <a 
                  className="font-medium text-gray-700 hover:text-gray-900 hover:underline transition-colors" 
                  href="/sign-up"
                >
                  Sign up here
                </a>
              </p>
            </div>
          </div>
        </div>

        {/* Footer */}
        <div className="text-center mt-8">
          <p className="text-xs text-gray-500">
            © 2024 HireSpark Admin. All rights reserved.
          </p>
        </div>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\auth\candidate-recruiter\Forgot.jsx ===
export default function Forgot() {
  return (
    <div className="min-h-[80vh] grid place-items-center px-4">
      <div className="w-full max-w-md rounded-2xl bg-white border border-gray-200 shadow-lg">
        <div className="px-6 pt-6 border-b border-gray-200 pb-4">
          <h2 className="text-2xl font-semibold">Reset your password</h2>
          <p className="text-sm text-slate-600">We'll email you a reset link.</p>
        </div>
        <div className="px-6 pb-6 space-y-3 pt-6">
          <input placeholder="Email" className="w-full rounded-xl border border-gray-300 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none" />
          <button className="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-xl transition-colors">Send reset link</button>
        </div>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\auth\candidate-recruiter\SignIn.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function SignIn() {
  const [role, setRole] = useState("candidate");
  const [loading, setLoading] = useState(false);
  const [message, setMessage] = useState("");
  const [error, setError] = useState("");

  // GOOGLE LOGIN SUCCESS HANDLER
  const handleGoogleSuccess = async (response) => {
    setLoading(true);
    setError("");
    setMessage("");

    try {
      const { data } = await api.post("/auth/google", {
        credential: response.credential,
        role: role
      });

      const userRole = data?.user?.role || role;
      window.location.href = userRole === "recruiter" ? "/recruiter-profile" : "/dashboard";
    } catch (err) {
      setError(err?.response?.data?.message || "Google login failed");
    } finally {
      setLoading(false);
    }
  };

  // LOAD GOOGLE BUTTON
  useEffect(() => {
    // Make sure we are in the browser and the Google script has loaded
    if (typeof window === "undefined" || !window.google || !window.google.accounts?.id) {
      console.error("Google Identity script not loaded or window.google is undefined.");
      return;
    }

    const clientId = import.meta.env.VITE_GOOGLE_CLIENT_ID;

    if (!clientId) {
      console.error("VITE_GOOGLE_CLIENT_ID is missing. Please set it in your .env file.");
      return;
    }

    window.google.accounts.id.initialize({
      client_id: clientId,
      callback: handleGoogleSuccess,
    });

    const buttonContainer = document.getElementById("google-login-btn");
    if (buttonContainer) {
      window.google.accounts.id.renderButton(buttonContainer, {
        theme: "outline",
        size: "large",
        width: "100%",
      });
    }
  }, [role]);

  return (
    <div className="min-h-screen flex items-center justify-center bg-white px-4 py-12">
      <div className="w-full max-w-6xl rounded-2xl bg-[#eefcfb] p-8 md:p-12">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
          <div className="px-4 md:px-8">
            <h1 className="text-4xl md:text-5xl font-extrabold leading-tight text-slate-800">
              Talk to HR directly & get a job with better salary!
            </h1>
            <p className="mt-4 text-lg text-slate-500">Get local jobs in your city!</p>
          </div>

          <div className="flex justify-center">
            <div className="w-full max-w-md rounded-2xl shadow-lg bg-white border border-gray-200">
              <div className="px-8 pt-8 border-b border-gray-200 pb-4">
                <h2 className="text-2xl font-semibold">Sign in to HireSpark</h2>
                <p className="mt-1 text-sm text-slate-500">Welcome back! Sign in with Google</p>
              </div>

              <div className="px-4 sm:px-6 pb-4 sm:pb-6 space-y-3 sm:space-y-4 pt-6">
                {/* Role Selection */}
                <div className="space-y-3">
                  <label className="block text-sm font-medium text-gray-700">
                    I want to sign in as:
                  </label>
                  <div className="grid grid-cols-2 gap-3 text-sm">
                    <label className={`flex gap-2 p-3 border-2 rounded-xl cursor-pointer transition-colors ${
                      role === "candidate" ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"
                    }`}>
                      <input 
                        type="radio" 
                        name="role" 
                        value="candidate" 
                        checked={role === "candidate"} 
                        onChange={() => setRole("candidate")}
                        className="mt-0.5"
                      />
                      <span className="font-medium">Candidate</span>
                    </label>

                    <label className={`flex gap-2 p-3 border-2 rounded-xl cursor-pointer transition-colors ${
                      role === "recruiter" ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"
                    }`}>
                      <input 
                        type="radio" 
                        name="role" 
                        value="recruiter" 
                        checked={role === "recruiter"} 
                        onChange={() => setRole("recruiter")}
                        className="mt-0.5"
                      />
                      <span className="font-medium">Recruiter</span>
                    </label>
                  </div>
                </div>

                <div id="google-login-btn" className="flex justify-center"></div>

                {message && <p className="text-green-600 text-sm text-center">{message}</p>}
                {error && <p className="text-red-600 text-sm text-center">{error}</p>}

                <p className="text-sm text-center">
                  No account? <a className="text-slate-800 hover:underline" href="/sign-up">Create one</a>
                </p>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\auth\candidate-recruiter\SignInModal.jsx ===
import React, { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig.jsx";

export default function SignInModal({ role = "user", onClose }) {
  const [loading, setLoading] = useState(false);
  const [message, setMessage] = useState("");
  const [error, setError] = useState("");

  // GOOGLE LOGIN SUCCESS HANDLER
  const handleGoogleSuccess = async (response) => {
    setLoading(true);
    setError("");
    setMessage("");

    try {
      // Map role prop: "user" -> "candidate" for backend, "recruiter" -> "recruiter"
      const roleToSend = role === "recruiter" ? "recruiter" : "candidate";
      
      const { data } = await api.post("/auth/google", {
        credential: response.credential,
        role: roleToSend
      });

      const userRole = data?.user?.role || role;
      window.location.href = userRole === "recruiter" ? "/recruiter-profile" : "/dashboard";
    } catch (err) {
      setError(err?.response?.data?.message || "Google login failed");
    } finally {
      setLoading(false);
    }
  };

  // LOAD GOOGLE BUTTON (Google Identity Services)
  useEffect(() => {
    // Ensure we are in the browser and script is loaded
    if (typeof window === "undefined" || !window.google || !window.google.accounts?.id) {
      console.error("Google Identity script not loaded or window.google is undefined.");
      return;
    }

    const clientId = import.meta.env.VITE_GOOGLE_CLIENT_ID;
    if (!clientId) {
      console.error("VITE_GOOGLE_CLIENT_ID is missing. Please set it in your client/.env file.");
      return;
    }

    window.google.accounts.id.initialize({
      client_id: clientId,
      callback: handleGoogleSuccess,
    });

    const buttonContainer = document.getElementById("google-login-btn");
    if (buttonContainer) {
      window.google.accounts.id.renderButton(buttonContainer, {
        theme: "outline",
        size: "large",
        // width must be a number (px) per GIS docs; we handle 100% with CSS on the container
        width: 320,
        type: "standard",
        text: "signin_with", // "Sign in with Google"
      });
    }
  }, [role]);

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/60">
      <div className="w-full max-w-lg">
        <div className="w-full rounded-2xl shadow-lg bg-white border border-gray-200">
          <div className="px-6 pt-6 flex items-center justify-between border-b border-gray-200 pb-4">
            <div>
              <h2 className="text-2xl font-semibold">
                {role === "recruiter"
                  ? "Sign in as Recruiter"
                  : "Sign in as Candidate"}
              </h2>
              <p className="mt-1 text-sm text-slate-500">
                Sign in with your Google account
              </p>
            </div>
            <button
              onClick={onClose}
              className="text-slate-500 hover:text-slate-800 text-xl leading-none"
            >
              ×
            </button>
          </div>

          <div className="px-6 pb-6 space-y-4">
            <div className="flex flex-col items-center gap-4">
              <div id="google-login-btn" className="flex justify-center w-full" />

              {loading && (
                <p className="text-sm text-slate-500 text-center">
                  Please wait...
                </p>
              )}

              {message && (
                <p className="text-green-600 text-sm text-center">{message}</p>
              )}
              {error && (
                <p className="text-red-600 text-sm text-center">{error}</p>
              )}

              <p className="text-xs text-center text-slate-500">
                Currently signing in as{" "}
                <b>{role === "recruiter" ? "Recruiter" : "Candidate"}</b>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\auth\candidate-recruiter\SignUp.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function SignUp() {
  const [role, setRole] = useState("user");
  const [loading, setLoading] = useState(false);
  const [message, setMessage] = useState("");
  const [error, setError] = useState("");

  // GOOGLE SIGNUP
  const handleGoogleSuccess = async (response) => {
    setLoading(true);
    setError("");
    setMessage("");

    try {
      // Map role: "user" -> "candidate" for backend, "recruiter" -> "recruiter"
      const roleToSend = role === "recruiter" ? "recruiter" : "candidate";
      
      const { data } = await api.post("/auth/google", {
        credential: response.credential,
        role: roleToSend
      });

      const userRole = data?.user?.role || roleToSend;

      window.location.href = userRole === "recruiter"
        ? "/recruiter-profile"
        : "/dashboard";

    } catch (err) {
      setError(err?.response?.data?.message || "Google signup failed");
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    if (typeof window === "undefined" || !window.google || !window.google.accounts?.id) {
      console.error("Google Identity script not loaded or window.google is undefined.");
      return;
    }

    const clientId = import.meta.env.VITE_GOOGLE_CLIENT_ID;

    if (!clientId) {
      console.error("VITE_GOOGLE_CLIENT_ID is missing. Please set it in your .env file.");
      return;
    }

    window.google.accounts.id.initialize({
      client_id: clientId,
      callback: handleGoogleSuccess,
    });

    const buttonContainer = document.getElementById("google-signup-btn");
    if (buttonContainer) {
      window.google.accounts.id.renderButton(buttonContainer, {
        theme: "outline",
        size: "large",
        width: "100%",
      });
    }
  }, [role]);

  return (
    <div className="min-h-screen flex items-center justify-center bg-white px-4 py-12">
      <div className="w-full max-w-6xl rounded-2xl bg-[#eefcfb] p-8 md:p-12">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">

          <div className="px-4 md:px-8">
            <h1 className="text-4xl md:text-5xl font-extrabold leading-tight text-slate-800">
              Talk to HR directly & get a job with better salary!
            </h1>
          </div>

          <div className="flex justify-center">
            <div className="w-full max-w-md rounded-2xl shadow-lg bg-white border border-gray-200">
              <div className="px-8 pt-8 border-b border-gray-200 pb-4">
                <h2 className="text-2xl font-semibold">Create Your Account</h2>
                <p className="mt-1 text-sm text-slate-500">Sign up with Google</p>
              </div>

              <div className="px-8 pb-8 space-y-4 pt-6">
                {/* Role Selection */}
                <div className="space-y-3">
                  <label className="block text-sm font-medium text-gray-700">
                    I want to sign up as:
                  </label>
                  <div className="grid grid-cols-2 gap-3 text-sm">
                    <label className={`flex gap-2 p-3 border-2 rounded-xl cursor-pointer transition-colors ${
                      role === "user" ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"
                    }`}>
                      <input 
                        type="radio" 
                        name="role" 
                        value="user" 
                        checked={role === "user"} 
                        onChange={() => setRole("user")}
                        className="mt-0.5"
                      />
                      <span className="font-medium">Candidate</span>
                    </label>

                    <label className={`flex gap-2 p-3 border-2 rounded-xl cursor-pointer transition-colors ${
                      role === "recruiter" ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"
                    }`}>
                      <input 
                        type="radio" 
                        name="role" 
                        value="recruiter" 
                        checked={role === "recruiter"} 
                        onChange={() => setRole("recruiter")}
                        className="mt-0.5"
                      />
                      <span className="font-medium">Recruiter</span>
                    </label>
                  </div>
                </div>

                <div id="google-signup-btn" className="flex justify-center"></div>

                {message && <p className="text-green-600 text-sm text-center">{message}</p>}
                {error && <p className="text-red-600 text-sm text-center">{error}</p>}

                <p className="text-sm text-center">
                  Already have an account? <a className="text-slate-800 hover:underline" href="/sign-in">Sign In</a>
                </p>

              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  );
}

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\candidate\dashboard\home.jsx ===
import { Link } from 'react-router-dom';

export default function Dashboard() {
  const stats = [
    {
      title: "Profile Completeness",
      value: "70%",
      description: "Complete your profile for better job matches",
      progress: 70,
      color: "bg-blue-500",
      icon: (
        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      )
    },
    {
      title: "Saved Jobs",
      value: "6",
      description: "Jobs you're interested in",
      color: "bg-blue-600",
      icon: (
        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
        </svg>
      )
    },
    {
      title: "Applications",
      value: "2",
      description: "Jobs you've applied to",
      color: "bg-blue-700",
      icon: (
        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      )
    }
  ];

  const quickActions = [
    {
      title: "Update Profile",
      description: "Complete your professional profile",
      href: "/dashboard/profile",
      icon: "📝",
      color: "bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"
    },
    {
      title: "Browse Jobs",
      description: "Find new opportunities",
      href: "/jobs",
      icon: "🔍",
      color: "bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"
    },
    {
      title: "Job Alerts",
      description: "Manage your notifications",
      href: "/dashboard/alerts",
      icon: "🔔",
      color: "bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"
    },
    {
      title: "Application Status",
      description: "Track your applications",
      href: "/dashboard/applied",
      icon: "📊",
      color: "bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"
    }
  ];

  return (
    <div className="space-y-6">
      {/* Stats Grid */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        {stats.map((stat, index) => (
          <div key={index} className="bg-white rounded-xl border border-slate-200">
            <div className="p-4">
              <div className="flex items-center justify-between">
                <div className="flex-1">
                  <p className="text-xs text-slate-500 mb-1">{stat.title}</p>
                  <p className="text-2xl font-semibold">{stat.value}</p>
                  <p className="text-xs text-slate-500 mt-1">{stat.description}</p>
                </div>
                <div className={`p-3 rounded-lg ${stat.color} text-white`}>
                  {stat.icon}
                </div>
              </div>
              {stat.progress && (
                <div className="mt-4">
                  <div className="w-full bg-slate-100 rounded-full h-2">
                    <div
                      className={`h-2 rounded-full ${stat.color} transition-all duration-500`}
                      style={{ width: `${stat.progress}%` }}
                    />
                  </div>
                  <div className="flex justify-between text-xs text-slate-500 mt-2">
                    <span>Progress</span>
                    <span>{stat.progress}%</span>
                  </div>
                </div>
              )}
            </div>
          </div>
        ))}
      </div>

      {/* Quick Actions */}
      <div className="bg-white rounded-xl border border-slate-200 p-4">
        <h3 className="text-sm font-semibold mb-4">Quick Actions</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          {quickActions.map((action, index) => (
            <Link
              key={index}
              to={action.href}
              className="block p-4 rounded-lg border border-blue-200 hover:bg-blue-50 transition-colors duration-200"
            >
              <div className={`w-12 h-12 rounded-lg ${action.color} flex items-center justify-center text-2xl mb-3`}>
                {action.icon}
              </div>
              <h4 className="font-medium text-slate-900 mb-1">{action.title}</h4>
              <p className="text-xs text-slate-600">{action.description}</p>
            </Link>
          ))}
        </div>
      </div>

      {/* Recommended Jobs */}
      <div className="bg-white rounded-xl border border-slate-200 p-4">
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-sm font-semibold">Recommended jobs</h3>
          <Link to="/jobs" className="text-xs text-slate-500 hover:underline">View all</Link>
        </div>
        <div className="space-y-3">
          <div className="border border-slate-100 rounded-lg p-3 flex items-center justify-between">
            <div>
              <p className="text-sm font-medium">Frontend Developer (React)</p>
              <p className="text-xs text-slate-500">TechZen • Bengaluru • 6–10 LPA</p>
            </div>
            <button className="text-xs px-3 py-1.5 rounded-full border border-slate-200 hover:bg-slate-50">
              View
            </button>
          </div>

          <div className="border border-slate-100 rounded-lg p-3 flex items-center justify-between">
            <div>
              <p className="text-sm font-medium">Data Analyst – Entry Level</p>
              <p className="text-xs text-slate-500">Insightly • Remote • 4–6 LPA</p>
            </div>
            <button className="text-xs px-3 py-1.5 rounded-full border border-slate-200 hover:bg-slate-50">
              View
            </button>
          </div>
        </div>
      </div>

      {/* Recent Applications */}
      <div className="bg-white rounded-xl border border-slate-200 p-4">
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-sm font-semibold">Recent applications</h3>
          <Link to="/dashboard/applied" className="text-xs text-slate-500 hover:underline">
            Go to Applications
          </Link>
        </div>
        <div className="space-y-3 text-xs">
          <div className="flex items-center justify-between">
            <div>
              <p className="font-medium text-sm">Backend Engineer (Node.js)</p>
              <p className="text-slate-500">Status: Under review</p>
            </div>
            <p className="text-slate-400">2 days ago</p>
          </div>
          <div className="flex items-center justify-between">
            <div>
              <p className="font-medium text-sm">Junior Data Engineer</p>
              <p className="text-slate-500">Status: Shortlisted</p>
            </div>
            <p className="text-slate-400">5 days ago</p>
          </div>
        </div>
      </div>
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\candidate\dashboard\profile.jsx ===
import React, { useEffect, useState } from "react";
import api from "../../../components/apiconfig/apiconfig.jsx";

export default function ProfilePage() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(false);
  const [saving, setSaving] = useState(false);
  const [error, setError] = useState(null);
  const [isEditing, setIsEditing] = useState(false);

  // form state
  const [form, setForm] = useState({
    user_id: "",
    full_name: "",
    phone: "",
    city: "",
    state: "",
    country: "",
    experience_years: "",
    highest_education: "",
    resume_path: "",
    linkedin_url: "",
    portfolio_url: "",
  });

  const [selectedResumeFile, setSelectedResumeFile] = useState(null);

  useEffect(() => {
    loadProfile();
  }, []);

  async function loadProfile() {
    setLoading(true);
    setError(null);
    try {
      const res = await api.get("/profile/user");
      if (res?.data?.success && res.data.user) {
        setUser(res.data.user);
        setForm(mapUserToForm(res.data.user));
      }
    } catch (err) {
      console.warn("Could not load profile:", err?.response?.status || err.message);
    } finally {
      try {
        const auth = await api.get('/auth/authcheck');
        const authUser = auth?.data?.user;
        if (authUser) {
          setForm((s) => (s.user_id ? s : { ...s, user_id: authUser.id || authUser.sub || s.user_id }));
        }
      } catch (ignore) {}
      setLoading(false);
    }
  }

  function mapUserToForm(u) {
    return {
      user_id: u.user_id || u.id || "",
      full_name: u.full_name || "",
      phone: u.phone || "",
      city: u.city || "",
      state: u.state || "",
      country: u.country || "",
      experience_years: u.experience_years ?? "",
      highest_education: u.highest_education || "",
      resume_path: u.resume_path || "",
      linkedin_url: u.linkedin_url || "",
      portfolio_url: u.portfolio_url || "",
    };
  }

  function handleChange(e) {
    const { name, value } = e.target;
    setForm((s) => ({ ...s, [name]: value }));
  }

  function handleFileSelect(e) {
    const file = e.target.files?.[0] || null;
    setSelectedResumeFile(file);
    setForm((s) => ({ ...s, resume_path: file ? file.name : s.resume_path }));
  }

  async function uploadResume(file) {
    return file ? file.name : null;
  }

  async function handleSave(e) {
    e?.preventDefault();
    setSaving(true);
    setError(null);

    try {
      let payloadUserId = form.user_id;
      if (!payloadUserId) {
        try {
          const auth = await api.get('/auth/authcheck');
          const authUser = auth?.data?.user;
          if (authUser) {
            payloadUserId = authUser.id || authUser.sub || payloadUserId;
            setForm((s) => ({ ...s, user_id: payloadUserId }));
          } else {
            setError('Cannot save profile: missing user session. Please sign in again.');
            setSaving(false);
            return;
          }
        } catch (err) {
          setError('Cannot save profile: missing user session. Please sign in again.');
          setSaving(false);
          return;
        }
      }
      
      let resumePathToSend = form.resume_path;
      if (selectedResumeFile) {
        resumePathToSend = await uploadResume(selectedResumeFile);
      }

      const payload = {
        user_id: payloadUserId || undefined,
        full_name: form.full_name,
        phone: form.phone,
        city: form.city || null,
        state: form.state || null,
        country: form.country || null,
        experience_years: form.experience_years ? Number(form.experience_years) : 0,
        highest_education: form.highest_education || null,
        resume_path: resumePathToSend || null,
        linkedin_url: form.linkedin_url || null,
        portfolio_url: form.portfolio_url || null,
      };

      const res = await api.put("/profile/user", payload);

      if (res?.data?.success) {
        setUser(res.data.user || payload);
        setForm(mapUserToForm(res.data.user || payload));
        setIsEditing(false);
        setSelectedResumeFile(null);
      } else {
        setError(res?.data?.message || "Unknown server response");
      }
    } catch (err) {
      console.error("Save profile error:", err);
      setError(err?.response?.data?.message || err.message || "Failed to save profile");
    } finally {
      setSaving(false);
    }
  }

  function handleEditClick() {
    setIsEditing(true);
  }

  function handleCancel() {
    setIsEditing(false);
    if (user) setForm(mapUserToForm(user));
    setSelectedResumeFile(null);
  }

  if (loading) {
    return (
      <div className="flex items-center justify-center h-64">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
      {/* Card Header */}
      <div className="px-6 py-4 border-b border-slate-200 bg-slate-50">
        <div className="flex items-center justify-between">
          <div>
            <h3 className="text-lg font-semibold text-slate-900">Profile Information</h3>
            <p className="text-sm text-slate-600 mt-1">Update your professional details and contact information</p>
          </div>
          {!isEditing && (
            <button
              onClick={handleEditClick}
              className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm rounded-lg transition-colors"
            >
              Edit Profile
            </button>
          )}
        </div>
      </div>

      <div className="p-6">
        {!isEditing ? (
          <ProfileView user={user} onEdit={handleEditClick} />
        ) : (
          <form onSubmit={handleSave} className="space-y-6">
            {error && (
              <div className="p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm">
                {error}
              </div>
            )}

            {/* Personal Information */}
            <div>
              <h4 className="text-sm font-semibold text-slate-900 mb-4">Personal Information</h4>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">Full Name *</label>
                  <input 
                    name="full_name" 
                    value={form.full_name} 
                    onChange={handleChange} 
                    required
                    placeholder="Enter your full name"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">Phone *</label>
                  <input 
                    name="phone" 
                    value={form.phone} 
                    onChange={handleChange} 
                    required
                    placeholder="Enter your phone number"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">Highest Education</label>
                  <input 
                    name="highest_education" 
                    value={form.highest_education} 
                    onChange={handleChange}
                    placeholder="e.g., Bachelor's Degree"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">Experience (years)</label>
                  <input 
                    name="experience_years" 
                    value={form.experience_years} 
                    onChange={handleChange} 
                    type="number" 
                    min="0"
                    placeholder="Years of experience"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
              </div>
            </div>

            {/* Location Information */}
            <div>
              <h4 className="text-sm font-semibold text-slate-900 mb-4">Location Information</h4>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">City</label>
                  <input 
                    name="city" 
                    value={form.city} 
                    onChange={handleChange}
                    placeholder="Enter your city"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">State</label>
                  <input 
                    name="state" 
                    value={form.state} 
                    onChange={handleChange}
                    placeholder="Enter your state"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">Country</label>
                  <input 
                    name="country" 
                    value={form.country} 
                    onChange={handleChange}
                    placeholder="Enter your country"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
              </div>
            </div>

            {/* Professional Links */}
            <div>
              <h4 className="text-sm font-semibold text-slate-900 mb-4">Professional Links</h4>
              <div className="space-y-4">
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">LinkedIn URL</label>
                  <input 
                    name="linkedin_url" 
                    value={form.linkedin_url} 
                    onChange={handleChange} 
                    placeholder="https://linkedin.com/in/yourprofile"
                    type="url"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
                <div>
                  <label className="block text-xs font-medium text-slate-700 mb-2">Portfolio URL</label>
                  <input 
                    name="portfolio_url" 
                    value={form.portfolio_url} 
                    onChange={handleChange} 
                    placeholder="https://yourportfolio.com"
                    type="url"
                    className="w-full text-sm rounded-lg border border-gray-300 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                </div>
              </div>
            </div>

            {/* Resume Section */}
            <div>
              <h4 className="text-sm font-semibold text-slate-900 mb-4">Resume Upload</h4>
              <div className="border-2 border-dashed border-slate-300 rounded-lg p-4 hover:border-slate-400 transition-colors bg-slate-50">
                <div className="flex items-center justify-between">
                  <div className="flex items-center">
                    <div className="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 mr-3">
                      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                    </div>
                    <div>
                      <p className="text-sm font-medium text-slate-900">
                        {selectedResumeFile ? selectedResumeFile.name : (form.resume_path || 'No resume uploaded')}
                      </p>
                      <p className="text-xs text-slate-500">PDF, DOC, DOCX up to 10MB</p>
                    </div>
                  </div>
                  <label className="cursor-pointer">
                    <span className="px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors text-sm font-medium">
                      Choose File
                    </span>
                    <input type="file" accept=".pdf,.doc,.docx" onChange={handleFileSelect} className="hidden" />
                  </label>
                </div>
              </div>
            </div>

            {/* Action Buttons */}
            <div className="flex items-center justify-end gap-3 pt-6 border-t border-slate-200">
              <button
                type="button"
                onClick={handleCancel}
                className="border border-slate-300 text-slate-700 hover:bg-slate-50 px-4 py-2 text-sm rounded-lg transition-colors"
              >
                Cancel
              </button>
              <button
                type="submit"
                disabled={saving}
                className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {saving ? "Saving..." : "Save Changes"}
              </button>
            </div>
          </form>
        )}
      </div>
    </div>
  );
}

function ProfileView({ user, onEdit }) {
  if (!user) {
    return (
      <div className="text-center py-8">
        <div className="w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mx-auto mb-4">
          <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </div>
        <h3 className="text-lg font-semibold text-slate-900 mb-2">No Profile Found</h3>
        <p className="text-slate-600 text-sm mb-4">Create your professional profile to get started</p>
        <button 
          onClick={onEdit} 
          className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm rounded-lg transition-colors"
        >
          Create Profile
        </button>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* User Info Card */}
      <div className="bg-slate-50 rounded-lg p-4 border border-slate-200">
        <div className="flex items-center gap-4">
          <div className="w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl">
            {user.full_name ? user.full_name.charAt(0).toUpperCase() : "U"}
          </div>
          <div className="flex-1">
            <h3 className="font-semibold text-slate-900 text-lg">{user.full_name}</h3>
            <p className="text-slate-600 text-sm">{user.highest_education || "Add education"}</p>
            <div className="flex items-center gap-4 mt-2 text-sm">
              <span className="text-slate-700">{user.experience_years ?? 0} years experience</span>
              <span className="text-slate-700">{user.phone || "No phone"}</span>
            </div>
          </div>
        </div>
      </div>

      {/* Info Grid */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h4 className="text-sm font-semibold text-slate-900 mb-3">Personal Information</h4>
          <div className="space-y-3">
            <InfoItem label="Full Name" value={user.full_name} />
            <InfoItem label="Phone" value={user.phone} />
            <InfoItem label="Education" value={user.highest_education} />
            <InfoItem label="Experience" value={user.experience_years ? `${user.experience_years} years` : null} />
          </div>
        </div>

        <div>
          <h4 className="text-sm font-semibold text-slate-900 mb-3">Location Information</h4>
          <div className="space-y-3">
            <InfoItem label="City" value={user.city} />
            <InfoItem label="State" value={user.state} />
            <InfoItem label="Country" value={user.country} />
          </div>
        </div>
      </div>

      {/* Professional Links */}
      <div>
        <h4 className="text-sm font-semibold text-slate-900 mb-3">Professional Links</h4>
        <div className="space-y-3">
          <LinkItem 
            label="LinkedIn" 
            url={user.linkedin_url} 
          />
          <LinkItem 
            label="Portfolio" 
            url={user.portfolio_url} 
          />
        </div>
      </div>

      {/* Resume */}
      {user.resume_path && (
        <div className="border-t border-slate-200 pt-4">
          <a 
            href={user.resume_path} 
            target="_blank" 
            rel="noreferrer"
            className="inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium"
          >
            <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            View Resume
          </a>
        </div>
      )}
    </div>
  );
}

function InfoItem({ label, value }) {
  return (
    <div className="flex items-center justify-between py-2 border-b border-slate-100 last:border-0">
      <span className="text-sm text-slate-600">{label}</span>
      <span className="text-sm font-medium text-slate-900">{value || "—"}</span>
    </div>
  );
}

function LinkItem({ label, url }) {
  if (!url) {
    return (
      <div className="flex items-center justify-between py-2 border-b border-slate-100">
        <span className="text-sm text-slate-600">{label}</span>
        <span className="text-sm text-slate-400">Not provided</span>
      </div>
    );
  }

  return (
    <div className="flex items-center justify-between py-2 border-b border-slate-100">
      <span className="text-sm text-slate-600">{label}</span>
      <a 
        href={url} 
        target="_blank" 
        rel="noreferrer"
        className="text-sm text-blue-600 hover:text-blue-700 font-medium truncate max-w-[200px]"
      >
        {url}
      </a>
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\candidate\jobs\applied-list.jsx ===
import { useEffect, useState } from "react";
import { Link } from 'react-router-dom';

const statusColors = {
  applied: "bg-blue-100 text-blue-800 border border-blue-200",
  reviewed: "bg-purple-100 text-purple-800 border border-purple-200", 
  shortlisted: "bg-green-100 text-green-800 border border-green-200",
  rejected: "bg-red-100 text-red-800 border border-red-200",
  hired: "bg-emerald-100 text-emerald-800 border border-emerald-200"
};

const statusLabels = {
  applied: "Applied",
  reviewed: "Under Review", 
  shortlisted: "Shortlisted",
  rejected: "Rejected", 
  hired: "Hired"
};

export default function Applied() {
  const [applications, setApplications] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000';

  const fetchAppliedJobs = async () => {
    try {
      setLoading(true);
      setError(null);
      
      const response = await fetch(`${API_BASE_URL}/api/jobs/applied-jobs`, {
        credentials: 'include',
        headers: {
          'Content-Type': 'application/json',
        }
      });

      if (!response.ok) {
        throw new Error(`Failed to fetch applications: ${response.status}`);
      }

      const data = await response.json();
      
      if (data.ok) {
        setApplications(data.applications || []);
      } else {
        throw new Error(data.error || 'Failed to load applications');
      }
    } catch (err) {
      console.error('Fetch error:', err);
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchAppliedJobs();
  }, []);

  const formatDate = (dateString) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };

  const getLocation = (application) => {
    if (application.city && application.locality) {
      return `${application.city}, ${application.locality}`;
    }
    return application.city || application.locality || 'Location not specified';
  };

  if (loading) {
    return (
      <div className="space-y-4">
        {[1, 2, 3].map((i) => (
          <div key={i} className="bg-white rounded-xl border border-slate-200 animate-pulse">
            <div className="p-4">
              <div className="flex items-start justify-between gap-4">
                <div className="flex items-start gap-3 flex-1">
                  <div className="w-12 h-12 bg-slate-200 rounded-lg"></div>
                  <div className="space-y-2 flex-1">
                    <div className="h-4 bg-slate-200 rounded w-1/3"></div>
                    <div className="h-3 bg-slate-200 rounded w-1/4"></div>
                    <div className="h-3 bg-slate-200 rounded w-1/2"></div>
                  </div>
                </div>
                <div className="space-y-2 text-right">
                  <div className="h-6 bg-slate-200 rounded-full w-20"></div>
                  <div className="h-3 bg-slate-200 rounded w-16"></div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    );
  }

  if (error) {
    return (
      <div className="bg-white rounded-xl border border-slate-200">
        <div className="p-6 text-center">
          <div className="text-red-500 text-4xl mb-3">⚠️</div>
          <h3 className="font-semibold text-slate-900 mb-2">Unable to Load Applications</h3>
          <p className="text-red-600 mb-4 text-sm">{error}</p>
          <button 
            onClick={fetchAppliedJobs}
            className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm rounded-lg transition-colors"
          >
            Try Again
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-4">
      {/* Header */}
      <div className="flex items-center justify-between mb-6">
        <div>
          <h2 className="text-lg font-semibold text-slate-900">My Applications</h2>
          <p className="text-sm text-slate-600">Track and manage your job applications</p>
        </div>
        <div className="bg-blue-100 text-blue-800 px-3 py-1.5 rounded-full text-sm font-medium">
          {applications.length} application{applications.length !== 1 ? 's' : ''}
        </div>
      </div>

      {applications.length === 0 ? (
        <div className="bg-white rounded-xl border border-slate-200">
          <div className="p-8 text-center">
            <div className="text-blue-400 text-5xl mb-4">📝</div>
            <h3 className="font-semibold text-slate-900 mb-2">No Applications Yet</h3>
            <p className="text-slate-600 text-sm mb-6 max-w-md mx-auto">
              Start your job search journey! Apply to positions that match your skills and interests.
            </p>
            <div className="flex gap-3 justify-center">
              <Link to="/jobs">
                <button className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm rounded-lg transition-colors">
                  Browse Jobs
                </button>
              </Link>
              <Link to="/dashboard/profile">
                <button className="border border-slate-300 text-slate-700 hover:bg-slate-50 px-4 py-2 text-sm rounded-lg transition-colors">
                  Update Profile
                </button>
              </Link>
            </div>
          </div>
        </div>
      ) : (
        <div className="space-y-3">
          {applications.map((application) => (
            <div key={application.id} className="bg-white rounded-xl border border-slate-200 hover:shadow-md transition-shadow">
              <div className="p-4">
                <div className="flex items-start justify-between gap-4">
                  {/* Job Details */}
                  <div className="flex items-start gap-3 flex-1">
                    {application.logo_path && (
                      <img 
                        src={application.logo_path} 
                        alt={application.company}
                        className="w-12 h-12 rounded-lg object-cover border border-slate-200"
                      />
                    )}
                    <div className="flex-1">
                      <h3 className="font-semibold text-slate-900 text-sm mb-1">
                        {application.title}
                      </h3>
                      <p className="text-slate-700 font-medium text-sm mb-2">{application.company}</p>
                      <div className="flex items-center gap-3 text-xs text-slate-600">
                        <span className="bg-blue-50 text-blue-700 px-2 py-1 rounded border border-blue-100">
                          {application.job_type}
                        </span>
                        <span className="flex items-center gap-1">
                          📍 {getLocation(application)}
                        </span>
                        {application.salary && (
                          <span className="text-green-600 font-medium">
                            💰 {application.salary}
                          </span>
                        )}
                      </div>
                    </div>
                  </div>
                  
                  {/* Status & Date */}
                  <div className="text-right space-y-2">
                    <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${statusColors[application.status] || 'bg-slate-100 text-slate-800 border border-slate-200'}`}>
                      {statusLabels[application.status] || application.status}
                    </span>
                    <div>
                      <p className="text-xs text-slate-500 font-medium">
                        Applied on
                      </p>
                      <p className="text-slate-700 font-medium text-sm">
                        {formatDate(application.applied_at)}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\candidate\jobs\saved-list.jsx ===
import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { Building2, MapPin, Briefcase, GraduationCap, Star, Trash2, Eye } from 'lucide-react';
import api from '../../../components/apiconfig/apiconfig';

export default function Saved() {
  const [savedJobs, setSavedJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const navigate = useNavigate();

  const fetchSavedJobs = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await api.get('/jobs/saved-jobs');
      
      if (response.data.success) {
        setSavedJobs(response.data.data);
      } else {
        setError(response.data.message || 'Failed to fetch saved jobs');
      }
    } catch (err) {
      console.error('Error fetching saved jobs:', err);
      
      if (err.response?.data?.message) {
        setError(err.response.data.message);
      } else if (err.message) {
        setError(err.message);
      } else {
        setError('Error fetching saved jobs. Please try again.');
      }
    } finally {
      setLoading(false);
    }
  };

  const removeSavedJob = async (jobId) => {
    try {
      const response = await api.delete(`/jobs/save/${jobId}`);
      
      if (response.data.success) {
        setSavedJobs(prev => prev.filter(job => job.job_id !== jobId));
      } else {
        alert(response.data.message || 'Failed to remove job');
      }
    } catch (err) {
      console.error('Error removing job:', err);
      alert(err.message || 'Error removing job. Please try again.');
    }
  };

  const handleViewJob = (jobId) => {
    navigate(`/jobs/${jobId}`);
  };

  useEffect(() => {
    fetchSavedJobs();
  }, []);

  if (loading) {
    return (
      <div className="space-y-4">
        {[1, 2, 3].map((i) => (
          <div key={i} className="bg-white rounded-xl border border-slate-200 animate-pulse">
            <div className="p-4">
              <div className="flex items-start justify-between gap-4">
                <div className="flex-1 space-y-3">
                  <div className="h-4 bg-slate-200 rounded w-1/3"></div>
                  <div className="grid grid-cols-2 gap-3">
                    <div className="h-3 bg-slate-200 rounded w-3/4"></div>
                    <div className="h-3 bg-slate-200 rounded w-2/3"></div>
                    <div className="h-3 bg-slate-200 rounded w-1/2"></div>
                    <div className="h-3 bg-slate-200 rounded w-3/5"></div>
                  </div>
                  <div className="h-3 bg-slate-200 rounded w-1/4"></div>
                </div>
                <div className="space-y-2">
                  <div className="h-8 bg-slate-200 rounded w-20"></div>
                  <div className="h-8 bg-slate-200 rounded w-20"></div>
                  <div className="h-8 bg-slate-200 rounded w-20"></div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    );
  }

  if (error) {
    return (
      <div className="bg-white rounded-xl border border-slate-200">
        <div className="p-6 text-center">
          <div className="text-red-500 text-4xl mb-3">⚠️</div>
          <h3 className="font-semibold text-slate-900 mb-2">Unable to Load Saved Jobs</h3>
          <p className="text-red-600 mb-4 text-sm">{error}</p>
          <button 
            onClick={fetchSavedJobs}
            className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm mr-2 rounded-lg transition-colors"
          >
            Try Again
          </button>
          <button 
            onClick={() => navigate('/jobs')}
            className="border border-slate-300 text-slate-700 hover:bg-slate-50 px-4 py-2 text-sm rounded-lg transition-colors"
          >
            Browse Jobs
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-4">
      {/* Header */}
      <div className="flex items-center justify-between mb-6">
        <div>
          <h2 className="text-lg font-semibold text-slate-900">Saved Jobs</h2>
          <p className="text-sm text-slate-600">Your favorite job opportunities</p>
        </div>
        <div className="bg-blue-100 text-blue-800 px-3 py-1.5 rounded-full text-sm font-medium">
          {savedJobs.length} Saved Job{savedJobs.length !== 1 ? 's' : ''}
        </div>
      </div>

      {savedJobs.length === 0 ? (
        <div className="bg-white rounded-xl border border-slate-200">
          <div className="p-8 text-center">
            <div className="text-yellow-400 text-5xl mb-4">⭐</div>
            <h3 className="font-semibold text-slate-900 mb-2">No Saved Jobs Yet</h3>
            <p className="text-slate-600 text-sm mb-6 max-w-md mx-auto">
              Start building your job collection! Save positions that interest you to review and apply later.
            </p>
            <div className="flex gap-3 justify-center">
              <button 
                onClick={() => navigate('/jobs')}
                className="bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 text-sm rounded-lg transition-colors"
              >
                Browse Jobs
              </button>
              <button 
                onClick={() => navigate('/dashboard')}
                className="border border-slate-300 text-slate-700 hover:bg-slate-50 px-4 py-2 text-sm rounded-lg transition-colors"
              >
                Back to Dashboard
              </button>
            </div>
          </div>
        </div>
      ) : (
        <div className="space-y-3">
          {savedJobs.map((job) => (
            <div key={job.job_id} className="bg-white rounded-xl border border-slate-200 hover:shadow-md transition-shadow">
              <div className="p-4">
                <div className="flex items-start justify-between gap-4">
                  {/* Job Details */}
                  <div className="flex-1">
                    <div className="flex items-start justify-between mb-3">
                      <h3 className="font-semibold text-slate-900 text-sm mb-1">{job.title}</h3>
                      <span className="inline-flex items-center bg-yellow-100 text-yellow-800 border border-yellow-200 px-2 py-0.5 text-xs rounded-full">
                        <Star className="w-3 h-3 mr-1" />
                        Saved
                      </span>
                    </div>
                    
                    <div className="grid grid-cols-2 gap-3 mb-3">
                      <div className="flex items-center gap-2 text-slate-700">
                        <div className="w-8 h-8 bg-blue-100 rounded flex items-center justify-center">
                          <Building2 size={14} className="text-blue-600" />
                        </div>
                        <div>
                          <p className="font-medium text-slate-900 text-xs">{job.company}</p>
                          <p className="text-slate-500 text-xs">Company</p>
                        </div>
                      </div>

                      <div className="flex items-center gap-2 text-slate-700">
                        <div className="w-8 h-8 bg-blue-100 rounded flex items-center justify-center">
                          <MapPin size={14} className="text-blue-600" />
                        </div>
                        <div>
                          <p className="font-medium text-slate-900 text-xs">{job.location}</p>
                          <p className="text-slate-500 text-xs">Location</p>
                        </div>
                      </div>

                      <div className="flex items-center gap-2 text-slate-700">
                        <div className="w-8 h-8 bg-blue-100 rounded flex items-center justify-center">
                          <Briefcase size={14} className="text-blue-600" />
                        </div>
                        <div>
                          <p className="font-medium text-slate-900 text-xs">{job.type}</p>
                          <p className="text-slate-500 text-xs">Job Type</p>
                        </div>
                      </div>

                      <div className="flex items-center gap-2 text-slate-700">
                        <div className="w-8 h-8 bg-blue-100 rounded flex items-center justify-center">
                          <GraduationCap size={14} className="text-blue-600" />
                        </div>
                        <div>
                          <p className="font-medium text-slate-900 text-xs">{job.experience}</p>
                          <p className="text-slate-500 text-xs">Experience</p>
                        </div>
                      </div>
                    </div>

                    {job.salary && (
                      <div className="bg-green-50 border border-green-200 rounded-lg p-2 mb-3">
                        <p className="text-green-700 font-medium text-sm">
                          💰 {job.salary}
                        </p>
                      </div>
                    )}

                    <p className="text-xs text-slate-500 font-medium mb-2">
                      📅 Saved on {new Date(job.saved_at).toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric'
                      })}
                    </p>
                  </div>
                  
                  {/* Action Buttons */}
                  <div className="flex flex-col gap-2 min-w-[100px]">
                    <button 
                      onClick={() => handleViewJob(job.id)}
                      className="border border-slate-300 text-slate-700 hover:bg-slate-50 text-xs px-3 py-1.5 h-auto rounded-lg transition-colors flex items-center justify-center"
                    >
                      <Eye className="w-3 h-3 mr-1" />
                      View
                    </button>
                    <button 
                      onClick={() => removeSavedJob(job.job_id)}
                      className="text-red-600 hover:text-red-700 hover:bg-red-50 border border-red-300 text-xs px-3 py-1.5 h-auto rounded-lg transition-colors flex items-center justify-center"
                    >
                      <Trash2 className="w-3 h-3 mr-1" />
                      Remove
                    </button>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\companies\companies.jsx ===


export default function Companies() {
  const data = [
    { name: "CloudMints", roles: 8, tags: ["Software", "Data"] },
    { name: "PixelPath", roles: 3, tags: ["Design", "Product"] },
  ];
  return (

    <div className="max-w-6xl mx-auto px-4 py-10">
      <h1 className="text-3xl font-extrabold mb-6">Companies</h1>
      <div className="grid md:grid-cols-3 gap-5">
        {data.map((c) => (
          <div key={c.name} className="rounded-2xl bg-white border border-gray-200 shadow-sm">
            <div className="p-6">
              <h3 className="text-xl font-semibold mb-4">{c.name}</h3>
              <div className="mb-3 flex flex-wrap gap-2">
                {c.tags.map((t) => (
                  <span key={t} className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border border-gray-300 text-gray-700 bg-white">
                    {t}
                  </span>
                ))}
              </div>
              <p className="text-sm text-slate-600 mb-4">
                Open roles: <b>{c.roles}</b>
              </p>
              <div className="flex gap-2">
                <button className="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg transition-colors">View roles</button>
                <button className="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-lg transition-colors">
                  Follow
                </button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\guide\career-guide.jsx ===
import { Download, Play, BookOpen, Rocket, Award, TrendingUp } from "lucide-react";

export default function CareerKit() {
  const resources = [
    {
      title: "Professional Resume Templates",
      desc: "ATS-friendly resume templates designed specifically for freshers and 0–2 years experience",
      cta: "Download Template",
      icon: Download,
      color: "bg-blue-100 text-blue-600 border border-blue-200",
      stats: "5000+ Downloads"
    },
    {
      title: "Interview Preparation Kit",
      desc: "Top 50 most asked questions with model answers for internships and entry-level roles",
      cta: "Start Practicing",
      icon: Play,
      color: "bg-blue-100 text-blue-600 border border-blue-200",
      stats: "200+ Success Stories"
    },
    {
      title: "Career Skill Guides",
      desc: "Comprehensive roadmaps for Software Development, Data Science, UI/UX Design, and Digital Marketing",
      cta: "Explore Guides",
      icon: BookOpen,
      color: "bg-blue-100 text-blue-600 border border-blue-200",
      stats: "15+ Career Paths"
    },
    {
      title: "Cover Letter Builder",
      desc: "Create professional cover letters tailored to specific job applications in minutes",
      cta: "Build Now",
      icon: TrendingUp,
      color: "bg-blue-100 text-blue-600 border border-blue-200",
      stats: "3000+ Created"
    },
    {
      title: "Portfolio Guide",
      desc: "Learn how to build an impressive portfolio even without professional experience",
      cta: "Get Started",
      icon: Award,
      color: "bg-blue-100 text-blue-600 border border-blue-200",
      stats: "Expert Approved"
    },
    {
      title: "Career Strategy Session",
      desc: "Personalized guidance to plan your career path and job search strategy",
      cta: "Book Session",
      icon: Rocket,
      color: "bg-blue-100 text-blue-600 border border-blue-200",
      stats: "Free Consultation"
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-8">
      <div className="max-w-6xl mx-auto px-6">
        {/* Header Section */}
        <div className="text-center mb-12">
          <div className="w-20 h-20 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-blue-200">
            <Rocket className="w-10 h-10 text-blue-600" />
          </div>
          <h1 className="text-4xl font-bold text-gray-900 mb-4">Career Success Kit</h1>
          <p className="text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed">
            Everything you need to launch and grow your career. Professional resources designed for students and freshers.
          </p>
        </div>

        {/* Resources Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {resources.map((resource, index) => {
            const IconComponent = resource.icon;
            return (
              <div 
                key={resource.title} 
                className="rounded-2xl border border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 bg-white"
              >
                <div className="p-6 pb-4">
                  <div className="flex items-center justify-between mb-3">
                    <div className={`w-12 h-12 rounded-xl ${resource.color} flex items-center justify-center`}>
                      <IconComponent className="w-6 h-6" />
                    </div>
                    <span className="text-xs font-medium text-gray-500 bg-blue-50 px-2 py-1 rounded-full border border-blue-200">
                      {resource.stats}
                    </span>
                  </div>
                  <h3 className="text-lg font-bold text-gray-900 leading-tight">
                    {resource.title}
                  </h3>
                </div>
                
                <div className="px-6 pt-0 pb-6">
                  <p className="text-gray-600 mb-6 leading-relaxed">
                    {resource.desc}
                  </p>
                  <button className="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-colors">
                    {resource.cta}
                  </button>
                </div>
              </div>
            );
          })}
        </div>

        {/* Call to Action Section */}
        <div className="rounded-2xl border border-blue-200 shadow-lg mt-12 bg-gradient-to-r from-blue-600 to-blue-700">
          <div className="p-8 text-center">
            <h2 className="text-2xl font-bold text-white mb-3">Ready to Accelerate Your Career?</h2>
            <p className="text-blue-100 text-lg mb-6 max-w-2xl mx-auto">
              Join thousands of students and freshers who have successfully launched their careers using our resources.
            </p>
            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <button className="bg-white text-blue-600 hover:bg-blue-50 font-semibold px-8 py-3 rounded-xl transition-colors">
                Explore All Resources
              </button>
              <button className="border border-white text-white hover:bg-blue-500 font-semibold px-8 py-3 rounded-xl transition-colors">
                Get Career Advice
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\home\Categories.jsx ===
import React, { useEffect, useRef, useState } from "react";
import { useNavigate } from "react-router-dom";
import { ChevronRight, MapPin, Clock, Users, UserPlus, Send, Building2, Briefcase, ArrowRight } from "lucide-react";
import { jobCategories } from "./data";

function useFadeInOnScroll() {
  const ref = useRef(null);
  const [visible, setVisible] = useState(false);

  useEffect(() => {
    const node = ref.current;
    if (!node) return;

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.15 }
    );

    observer.observe(node);
    return () => observer.disconnect();
  }, []);

  return [ref, visible];
}

const iconMap = {
  home: MapPin,
  clock: Clock,
  users: Users,
  userPlus: UserPlus,
  send: Send,
  building: Building2,
  briefcase: Briefcase,
  arrowRight: ArrowRight,
};

export default function Categories() {
  const [sectionRef, sectionVisible] = useFadeInOnScroll();
  const navigate = useNavigate();

  const handleClick = (categoryId) => {
    navigate(`/jobs?category=${encodeURIComponent(categoryId)}`);
  };

  return (
    <section
      ref={sectionRef}
      className={`transition-all duration-1000 ease-out min-h-screen flex items-center ${
        sectionVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"
      }`}
      style={{ backgroundColor: '#F7FAFF' }}
    >
      <div className="w-full max-w-6xl mx-auto px-4 sm:px-6 md:px-16 lg:px-20 py-12 md:py-16" style={{ paddingTop: '40px', paddingBottom: '60px' }}>
        <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">
          <div>
            <h2 className="text-[24px] font-bold leading-[1.4]" style={{ color: '#111111' }}>
              Browse by category
            </h2>
            <p className="text-[14px] leading-[1.5] mt-1" style={{ color: '#555555' }}>
              Tap a card to see jobs only from that category.
            </p>
          </div>
        </div>

        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-5" style={{ gap: '16px' }}>
          {jobCategories.map((cat) => (
            <button
              key={cat.id}
              type="button"
              onClick={() => handleClick(cat.id)}
              className="group text-left"
            >
              <div className="h-full border rounded-[12px] shadow-soft group-hover:shadow-lg group-hover:-translate-y-1 transition-all bg-white" style={{ borderColor: '#E5E7EB' }}>
                <div className="p-4 flex items-center gap-4">
                  <div className="w-10 h-10 rounded-[10px] bg-white flex items-center justify-center border" style={{ borderColor: '#E5E7EB', color: '#1769E0' }}>
                    {iconMap[cat.icon] ? React.createElement(iconMap[cat.icon], { size: 22, style: { color: '#1769E0', strokeWidth: 2 } }) : <Briefcase size={22} style={{ color: '#1769E0', strokeWidth: 2 }} />}
                  </div>
                  <div className="flex-1">
                    <p className="text-[18px] font-semibold leading-[1.4]" style={{ color: '#111111' }}>
                      {cat.label}
                    </p>
                    <p className="text-[14px] leading-[1.5] mt-0.5" style={{ color: '#555555' }}>
                      {cat.count.toLocaleString()} open roles
                    </p>
                  </div>
                  <ChevronRight size={20} className="transition-colors group-hover:opacity-70" style={{ color: '#1769E0', strokeWidth: 2 }} />
                </div>
              </div>
            </button>
          ))}
        </div>
      </div>
    </section>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\home\data.js ===
// Shared constants and data for the guest home page
// Design System Colors
export const PRIMARY = "#1769E0";
export const PRIMARY_LIGHT = "#2E8CFF";
export const CHIP_BG = "#E8F1FF";
export const BG = "#F5F7FA";
export const WHITE = "#FFFFFF";
export const TEXT_DARK = "#111111";
export const TEXT_MUTED = "#555555";
export const BORDER = "#E5E7EB";
export const HIGHLIGHT = "#F7C948";

// Legacy constants (for backward compatibility)
export const PRIMARY_BLUE = PRIMARY;
export const LIGHT_GREY_BG = BG;
export const CTA_GREEN = PRIMARY;



export const jobCategories = [
  {
    id: "work-from-home",
    label: "Work from home",
    count: 260000,
    icon: "home",
    headline: "2,60,000+ Vacancies",
    description: "Work from home jobs",
  },
  {
    id: "part-time",
    label: "Part Time",
    count: 1960000,
    icon: "clock",
    headline: "19,60,000+ Vacancies",
    description: "Part time jobs for flexible hours",
  },
  {
    id: "women",
    label: "Jobs for Women",
    count: 720000,
    icon: "users",
    headline: "7,20,000+ Vacancies",
    description: "Safe & women‑friendly workplaces",
  },
  {
    id: "fresher",
    label: "Fresher jobs",
    count: 1170000,
    icon: "userPlus",
    headline: "11,70,000+ Vacancies",
    description: "No / less experience required",
  },
  {
    id: "delivery-sales",
    label: "Delivery / Sales",
    count: 540000,
    icon: "send",
    headline: "5,40,000+ Vacancies",
    description: "Delivery partner & field sales roles",
  },
  {
    id: "office-data-entry",
    label: "Office job / Data entry",
    count: 380000,
    icon: "building",
    headline: "3,80,000+ Vacancies",
    description: "Back‑office, computer & data work",
  },
  {
    id: "telecaller",
    label: "Telecaller",
    count: 290000,
    icon: "briefcase",
    headline: "2,90,000+ Vacancies",
    description: "Inbound / outbound calling jobs",
  },
  {
    id: "internship-paid",
    label: "Internship (Paid)",
    count: 210000,
    icon: "arrowRight",
    headline: "2,10,000+ Vacancies",
    description: "Stipend based internships",
  },
  {
    id: "internship-unpaid",
    label: "Internship (Unpaid / Student)",
    count: 160000,
    icon: "briefcase",
    headline: "1,60,000+ Vacancies",
    description: "Learning focused roles for students",
  },
];


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\home\Hero.jsx ===
import React, { useMemo, useState, useEffect, useRef } from "react";
import { Link, useNavigate } from "react-router-dom";
import { Search, MapPin, ChevronRight } from "lucide-react";
import { PRIMARY, jobCategories } from "./data";

function useFadeInOnScroll() {
  const ref = useRef(null);
  const [visible, setVisible] = useState(false);

  useEffect(() => {
    const node = ref.current;
    if (!node) return;

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.15 }
    );

    observer.observe(node);
    return () => observer.disconnect();
  }, []);

  return [ref, visible];
}

export default function Hero() {
  const [sectionRef, sectionVisible] = useFadeInOnScroll();
  const [searchTerm, setSearchTerm] = useState("");
  const [location, setLocation] = useState("");
  const [category, setCategory] = useState("");
  const [experience, setExperience] = useState("");
  const [chips, setChips] = useState([]);
  const [activeField, setActiveField] = useState("title");
  const [showSuggestions, setShowSuggestions] = useState(false);

  const navigate = useNavigate();

  const suggestions = useMemo(
    () => [
      "Frontend Developer",
      "Backend Developer",
      "Full Stack Engineer",
      "Product Manager",
      "Marketing Manager",
      "Data Analyst",
      "UI/UX Designer",
    ],
    []
  );

  const filteredSuggestions = useMemo(() => {
    if (!searchTerm.trim()) return [];
    const lower = searchTerm.toLowerCase();
    return suggestions.filter((s) => s.toLowerCase().includes(lower)).slice(0, 5);
  }, [searchTerm, suggestions]);

  const addChip = (label, field) => {
    if (!label) return;
    const value = label.trim();
    if (!value) return;
    const key = `${field}:${value}`;
    if (chips.some((c) => c.key === key)) return;
    setChips((prev) => [...prev, { key, field, value }]);
  };

  const removeChip = (key) => {
    setChips((prev) => prev.filter((c) => c.key !== key));
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    const params = new URLSearchParams();
    if (searchTerm) params.set("q", searchTerm);
    if (location) params.set("location", location);
    if (category) params.set("category", category);
    if (experience) params.set("experience", experience);
    chips.forEach((chip) => {
      params.append(`chip_${chip.field}`, chip.value);
    });
    navigate(`/jobs?${params.toString()}`);
  };

  const handleSuggestionClick = (value) => {
    setSearchTerm(value);
    addChip(value, "title");
    setShowSuggestions(false);
  };

  return (
    <section
      ref={sectionRef}
      className={`relative bg-white transition-all duration-1000 ease-out min-h-screen flex items-center justify-center ${sectionVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"
        }`}
    >
      <div
        className="max-w-6xl w-full mx-auto px-4 sm:px-6 md:px-16 lg:px-20 
             py-10 md:py-12 lg:py-16 
             flex flex-col items-center justify-center text-center gap-6">
        <div className="space-y-5 w-full flex flex-col items-center">

          <h1 className="text-[32px] sm:text-[36px] md:text-[40px] lg:text-[44px] font-bold tracking-tight leading-[1.4]" style={{ color: '#111111' }}>
            Trusted Opportunities for {" "}
            <span style={{ color: '#1769E0' }}>Fresh Talent</span>
          </h1>


          {/* Advanced search */}
          <div className="bg-gray-200 rounded-[5px] w-full max-w-5xl mx-auto">
            <div className="p-5 sm:p-6">
              <form onSubmit={handleSubmit} className="space-y-10">
                <div className="grid md:grid-cols-4 gap-1">
                  <div className="relative">
                    <label className="text-[13px] sm:text-[14px] font-medium mb-1.5 block" style={{ color: '#555555' }}>
                      Job title or skill
                    </label>
                    <div className="flex items-center gap-3 rounded-[5px] px-3.5 py-3 bg-gray-50">
                      <Search size={18} style={{ color: '#1769E0', strokeWidth: 2 }} />
                      <input
                        type="text"
                        value={searchTerm}
                        onChange={(e) => {
                          setSearchTerm(e.target.value);
                          setActiveField("title");
                          setShowSuggestions(true);
                        }}
                        onFocus={() => {
                          setActiveField("title");
                          setShowSuggestions(true);
                        }}
                        placeholder="e.g. Delivery, Telecaller"
                        className="w-full bg-transparent text-[14px] sm:text-[15px] outline-none border-none"
                        style={{ color: '#111111' }}
                      />
                    </div>
                    {showSuggestions && filteredSuggestions.length > 0 && (
                      <div className="absolute z-20 mt-1 w-full bg-white rounded-[10px] shadow-soft text-[14px] sm:text-[15px] max-h-52 overflow-auto border border-gray-200">
                        {filteredSuggestions.map((s) => (
                          <button
                            key={s}
                            type="button"
                            onMouseDown={(e) => {
                              e.preventDefault();
                              handleSuggestionClick(s);
                            }}
                            className="w-full text-left px-3 py-2 hover:bg-chip-bg transition-colors"
                            style={{ color: '#111111' }}
                          >
                            {s}
                          </button>
                        ))}
                      </div>
                    )}
                  </div>

                  <div>
                    <label className="text-[13px] sm:text-[14px] font-medium mb-1.5 block" style={{ color: '#555555' }}>
                      City / area
                    </label>
                    <div className="flex items-center gap-2 rounded-[5px] px-3.5 py-3 bg-gray-50">
                      <MapPin size={18} style={{ color: '#1769E0', strokeWidth: 2 }} />
                      <input
                        type="text"
                        value={location}
                        onChange={(e) => setLocation(e.target.value)}
                        onFocus={() => setActiveField("location")}
                        placeholder="e.g. Delhi, Remote"
                        className="w-full bg-transparent text-[14px] sm:text-[15px] outline-none border-none"
                        style={{ color: '#111111' }}
                      />
                    </div>
                  </div>

                  <div>
                    <label className="text-[13px] sm:text-[14px] font-medium mb-1.5 block" style={{ color: '#555555' }}>
                      Category
                    </label>
                    <select
                      value={category}
                      onChange={(e) => setCategory(e.target.value)}
                      onFocus={() => setActiveField("category")}
                      className="w-full rounded-[5px] px-3.5 py-3 bg-gray-50 text-[14px] sm:text-[15px] outline-none border-none"
                      style={{ color: '#111111' }}
                    >
                      <option value="">All categories</option>
                      {jobCategories.map((c) => (
                        <option key={c.id} value={c.id}>
                          {c.label}
                        </option>
                      ))}
                    </select>
                  </div>

                  <div>
                    <label className="text-[13px] sm:text-[14px] font-medium mb-1.5 block" style={{ color: '#555555' }}>
                      Experience
                    </label>
                    <select
                      value={experience}
                      onChange={(e) => setExperience(e.target.value)}
                      onFocus={() => setActiveField("experience")}
                      className="w-full rounded-[5px] px-3.5 py-3 bg-gray-50 text-[14px] sm:text-[15px] outline-none border-none"
                      style={{ color: '#111111' }}
                    >
                      <option value="">Any</option>
                      <option value="fresher">Fresher / Entry</option>
                      <option value="mid">0–2 years</option>
                      <option value="senior">2+ years</option>
                    </select>
                  </div>
                </div>

                {/* Filter chips */}
                {chips.length > 0 && (
                  <div className="flex flex-wrap gap-2 justify-center">
                    {chips.map((chip) => (
                      <button
                        key={chip.key}
                        type="button"
                        onClick={() => removeChip(chip.key)}
                        className="inline-flex items-center gap-1.5 rounded-[20px] text-[13px] sm:text-[14px] font-medium transition-colors"
                        style={{
                          backgroundColor: '#E8F1FF',
                          color: '#1769E0',
                          padding: '7px 16px'
                        }}
                      >
                        <span>{chip.value}</span>
                        <span className="text-[11px]" style={{ color: '#1769E0' }}>✕</span>
                      </button>
                    ))}
                  </div>
                )}

                <div className="flex flex-col items-center gap-3">
                  <button
                    type="submit"
                    className="text-white font-semibold shadow-soft hover:shadow-md transition-all rounded-[10px]"
                    style={{
                      backgroundColor: '#1769E0',
                      padding: '10px 32px',
                      fontSize: '15px'
                    }}
                  >
                    Search Jobs
                  </button>

                </div>
              </form>
            </div>
          </div>


        </div>

      </div>
    </section>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\home\HowItWorks.jsx ===
import React, { useEffect, useRef, useState } from "react";
import { BG } from "./data";

function useFadeInOnScroll() {
  const ref = useRef(null);
  const [visible, setVisible] = useState(false);

  useEffect(() => {
    const node = ref.current;
    if (!node) return;

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.15 }
    );

    observer.observe(node);
    return () => observer.disconnect();
  }, []);

  return [ref, visible];
}

export default function HowItWorks() {
  const [sectionRef, sectionVisible] = useFadeInOnScroll();
  const [tab, setTab] = useState("seekers");
  const seekerSteps = [
    { title: "Search", desc: "Find jobs by city, role or skill." },
    { title: "Apply", desc: "Send your details in a few taps." },
    { title: "Interview", desc: "Talk to the recruiter or company." },
    { title: "Get hired", desc: "Join and start earning faster." },
  ];
  const recruiterSteps = [
    { title: "Post job", desc: "Share your opening with basic details." },
    { title: "Review", desc: "See matching candidates in one list." },
    { title: "Interview", desc: "Call or message shortlisted profiles." },
    { title: "Hire", desc: "Close the role and grow your team." },
  ];
  const steps = tab === "seekers" ? seekerSteps : recruiterSteps;

  return (
    <section
      ref={sectionRef}
      style={{ backgroundColor: '#FFFFFF' }}
      className={`transition-all duration-1000 ease-out min-h-screen flex items-center ${
        sectionVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"
      }`}
    >
      <div className="w-full max-w-6xl mx-auto px-4 sm:px-6 md:px-16 lg:px-20 py-12 md:py-16" style={{ paddingTop: '40px', paddingBottom: '60px' }}>
        <div className="max-w-2xl mb-8">
          <h2 className="text-[24px] font-bold mb-2 leading-[1.4]" style={{ color: '#111111' }}>
            How it works
          </h2>
          <p className="text-[14px] leading-[1.5]" style={{ color: '#555555' }}>
            Same simple flow for job seekers and recruiters. No confusing steps.
          </p>
        </div>

        <div className="mb-6 inline-flex rounded-full bg-white border p-1" style={{ borderColor: '#E5E7EB' }}>
          <button
            type="button"
            onClick={() => setTab("seekers")}
            className={`px-4 sm:px-6 py-1.5 text-[14px] font-semibold rounded-full transition-colors ${
              tab === "seekers"
                ? "text-white shadow-soft"
                : ""
            }`}
            style={tab === "seekers" ? { backgroundColor: '#1769E0' } : { color: '#555555' }}
          >
            For Job Seekers
          </button>
          <button
            type="button"
            onClick={() => setTab("recruiters")}
            className={`px-4 sm:px-6 py-1.5 text-[14px] font-semibold rounded-full transition-colors ${
              tab === "recruiters"
                ? "text-white shadow-soft"
                : ""
            }`}
            style={tab === "recruiters" ? { backgroundColor: '#1769E0' } : { color: '#555555' }}
          >
            For Recruiters
          </button>
        </div>

        <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-4" style={{ gap: '16px' }}>
          {steps.map((step, index) => (
            <div
              key={step.title}
              className="border rounded-[12px] bg-white shadow-soft"
              style={{ borderColor: '#E5E7EB' }}
            >
              <div className="p-4 space-y-3">
                <div className="inline-flex items-center justify-center w-8 h-8 rounded-full text-[12px] font-semibold" style={{ backgroundColor: '#E8F1FF', color: '#1769E0' }}>
                  {index + 1}
                </div>
                <h3 className="text-[18px] font-semibold leading-[1.4]" style={{ color: '#111111' }}>
                  {step.title}
                </h3>
                <p className="text-[14px] leading-[1.5]" style={{ color: '#555555' }}>{step.desc}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\Home.jsx ===
import React from "react";
import Hero from "./home/Hero";
import Categories from "./home/Categories";

import HowItWorks from "./home/HowItWorks";


export default function Home() {
  return (
    <div className="min-h-screen flex flex-col bg-white text-slate-900">
      <main className="flex-1">
        <Hero />
        <Categories />
      
        <HowItWorks />
      
      
      </main>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\jobs\job-list-details.jsx ===
import { Building2, MapPin, Clock, Briefcase, GraduationCap, Bookmark, BookmarkCheck } from "lucide-react";
import { useParams, useNavigate } from "react-router-dom";
import { useEffect, useState } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function JobDetail() {
  const { id } = useParams();
  const navigate = useNavigate();
  const [job, setJob] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [isSaved, setIsSaved] = useState(false); // Track if job is saved

  // Application form state
  const [applicantName, setApplicantName] = useState("");
  const [applicantEmail, setApplicantEmail] = useState("");
  const [resumeFile, setResumeFile] = useState(null);
  const [resumeLink, setResumeLink] = useState("");
  const [coverLetter, setCoverLetter] = useState("");

  const [applying, setApplying] = useState(false);
  const [applyError, setApplyError] = useState(null);
  const [applySuccess, setApplySuccess] = useState(null);
  const [applied, setApplied] = useState(false); // set true after success

  useEffect(() => {
    let alive = true;
    (async () => {
      try {
        setLoading(true);
        const { data } = await api.get(`/jobs/${id}`);
        if (!alive) return;
        if (data.ok && data.job) {
          setJob(data.job);
          
          // Check if job is saved
          await checkSavedStatus(id);
        } else {
          setError(data.message || "Job not found");
        }
      } catch (err) {
        console.error("Failed to fetch job:", err);
        setError(err?.response?.data?.message || err.message || "Failed to load job");
      } finally {
        if (alive) setLoading(false);
      }
    })();
    return () => { alive = false; };
  }, [id]);

  // Check if job is saved
  const checkSavedStatus = async (jobId) => {
    try {
      const response = await api.get(`/jobs/save/${jobId}`);
      setIsSaved(response.data.isSaved);
    } catch (error) {
      console.error('Error checking saved status:', error);
      setIsSaved(false);
    }
  };

  const toggleSave = async () => {
    try {
      if (isSaved) {
        // Unsave the job
        await api.delete(`/jobs/save/${id}`);
        setIsSaved(false);
      } else {
        // Save the job
        await api.post(`/jobs/save/${id}`);
        setIsSaved(true);
      }
    } catch (error) {
      console.error('Error toggling save:', error);
      alert('Error: ' + (error.response?.data?.message || error.message));
    }
  };

  const skills = job?.tags || [];
  const responsibilities = job?.responsibilities || [];
  const qualifications = job?.qualifications || [];

  // Basic client-side validation for file type/size
  const onFileChange = (e) => {
    const f = e.target.files?.[0] || null;
    if (!f) {
      setResumeFile(null);
      return;
    }
    const allowed = [".pdf", ".doc", ".docx"];
    const ext = f.name.substring(f.name.lastIndexOf(".")).toLowerCase();
    if (!allowed.includes(ext)) {
      setApplyError("Only PDF / DOC / DOCX files are allowed for resume.");
      setResumeFile(null);
      return;
    }
    const maxSize = 5 * 1024 * 1024; // 5 MB
    if (f.size > maxSize) {
      setApplyError("Resume must be smaller than 5 MB.");
      setResumeFile(null);
      return;
    }
    setApplyError(null);
    setResumeFile(f);
  };

  const submitApplication = async () => {
    setApplyError(null);
    setApplySuccess(null);

    // Minimal validation: require job id (present) and either resume file or resume link or cover letter
    if (!id) {
      setApplyError("Job ID missing.");
      return;
    }
    if (!resumeFile && !resumeLink && !coverLetter) {
      setApplyError("Please attach a resume or provide a resume link or a cover letter.");
      return;
    }

    try {
      setApplying(true);

      const formData = new FormData();
      formData.append("job_id", id);
      if (coverLetter) formData.append("cover_letter", coverLetter);
      // optional: send applicant name/email (backend can ignore if not stored)
      if (applicantName) formData.append("applicant_name", applicantName);
      if (applicantEmail) formData.append("applicant_email", applicantEmail);
      if (resumeFile) formData.append("resume", resumeFile);
      if (!resumeFile && resumeLink) formData.append("resume_link", resumeLink);

      const res = await api.post("/jobs/apply", formData, {
        headers: { "Content-Type": "multipart/form-data" },
      });

      if (res.data && res.data.ok) {
        setApplySuccess("Application submitted successfully.");
        setApplied(true);
        // optionally clear form
        setCoverLetter("");
        setResumeFile(null);
        setResumeLink("");
        // you can navigate the user to their applications page if you have one:
        // navigate('/my-applications');
      } else {
        setApplyError(res.data?.error || res.data?.message || "Failed to submit application");
      }
    } catch (err) {
      console.error("Apply error:", err);
      setApplyError(err?.response?.data?.error || err?.response?.data?.message || err.message || "Server error while applying");
    } finally {
      setApplying(false);
    }
  };

  // Render
  if (loading) return <div className="p-6 text-gray-600">Loading job...</div>;
  if (error) return <div className="p-6 text-red-600">{error}</div>;
  if (!job) return <div className="p-6 text-gray-600">Job not found</div>;

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50">
      <div className="w-full mx-auto px-3 sm:px-4 py-6 grid lg:grid-cols-3 gap-4 sm:gap-6">
        <div className="lg:col-span-2">
          <div className="mb-3 text-sm text-gray-600">
            <a href="/jobs" className="hover:underline text-blue-600">Jobs</a> / <span className="text-gray-700">{job.title}</span>
          </div>
          <h1 className="text-2xl sm:text-3xl font-extrabold text-gray-900">{job.title}</h1>
          <p className="mt-1 text-gray-600 flex flex-wrap items-center gap-2 sm:gap-3">
            <span className="inline-flex items-center gap-1 text-sm"><Building2 size={16} className="text-blue-500"/> {job.company}</span>
            <span className="inline-flex items-center gap-1 text-sm"><MapPin size={16} className="text-blue-500"/> {job.location}</span>
            <span className="inline-flex items-center gap-1 text-xs border border-blue-200 rounded-full px-2 py-1 bg-blue-50 text-blue-700"><Clock size={14}/> {job.type}</span>
            <span className="inline-flex items-center gap-1 text-xs border border-blue-200 rounded-full px-2 py-1 bg-blue-50 text-blue-700"><Briefcase size={14}/> {job.type}</span>
            <span className="inline-flex items-center gap-1 text-xs border border-blue-200 rounded-full px-2 py-1 bg-blue-50 text-blue-700"><GraduationCap size={14}/> {job.experiance}</span>
          </p>

          <div className="mt-6 rounded-xl sm:rounded-2xl border border-blue-200 shadow-lg bg-white">
            <div className="border-b border-blue-100 p-4 sm:p-6">
              <h2 className="text-blue-900 text-lg sm:text-xl font-semibold">About the role</h2>
            </div>
            <div className="space-y-4 text-gray-700 p-4 sm:p-6">
              <p className="text-sm sm:text-base">{job.description}</p>
              <div>
                <p className="font-semibold mb-1 text-blue-900 text-sm sm:text-base">Responsibilities</p>
                <ul className="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                  {responsibilities.length ? responsibilities.map((r) => <li key={r}>{r}</li>) : <li>Responsibilities not provided</li>}
                </ul>
              </div>
              <div>
                <p className="font-semibold mb-1 text-blue-900 text-sm sm:text-base">Qualifications</p>
                <ul className="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                  {qualifications.length ? qualifications.map((q) => <li key={q}>{q}</li>) : <li>Qualifications not provided</li>}
                </ul>
              </div>
              <div className="flex flex-wrap gap-2">
                {skills.map((s) => (
                  <span 
                    key={s} 
                    className="inline-flex items-center px-2.5 py-0.5 rounded-full border border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 text-xs"
                  >
                    {s}
                  </span>
                ))}
              </div>
            </div>
          </div>
        </div>

        <aside className="lg:sticky lg:top-4">
          <div className="rounded-xl sm:rounded-2xl border border-blue-200 shadow-lg bg-white">
            <div className="border-b border-blue-100 p-4 sm:p-6">
              <div className="flex justify-between items-center text-blue-900 text-lg sm:text-xl">
                <h2 className="font-semibold">Apply to this job</h2>
                <button 
                  onClick={toggleSave}
                  className="flex items-center gap-1 border border-blue-300 text-blue-700 hover:bg-blue-50 hover:text-blue-800 text-xs px-3 py-1.5 rounded-lg transition-colors"
                >
                  {isSaved ? (
                    <>
                      <BookmarkCheck size={14} className="text-blue-600" />
                      Saved
                    </>
                  ) : (
                    <>
                      <Bookmark size={14} />
                      Save
                    </>
                  )}
                </button>
              </div>
            </div>
            <div className="p-4 sm:p-6">
              <div className="space-y-3 text-sm text-gray-700 mb-4 sm:mb-6">
                <div className="flex justify-between"><span>Compensation</span><span className="font-semibold text-blue-700">{job.salary || 'NA'}</span></div>
                <div className="flex justify-between"><span>Work Mode</span><span className="font-semibold text-blue-700">{job.type}</span></div>
                <div className="flex justify-between"><span>Experience</span><span className="font-semibold text-blue-700">{job.experiance}</span></div>
              </div>

              <div className="space-y-3 sm:space-y-4">
                <input 
                  placeholder="Your name (optional)" 
                  value={applicantName} 
                  onChange={(e) => setApplicantName(e.target.value)}
                  className="w-full rounded-lg border border-blue-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none"
                />
                <input 
                  placeholder="Email (optional)" 
                  value={applicantEmail} 
                  onChange={(e) => setApplicantEmail(e.target.value)}
                  className="w-full rounded-lg border border-blue-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none"
                />

                <div>
                  <label className="block text-sm mb-1 text-gray-700">Resume (PDF / DOC / DOCX)</label>
                  <input 
                    type="file" 
                    accept=".pdf,.doc,.docx" 
                    onChange={onFileChange}
                    className="w-full text-xs sm:text-sm text-gray-600 file:mr-2 file:py-1 file:px-3 sm:file:py-2 sm:file:px-4 file:rounded-full file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
                  />
                  {resumeFile && <div className="text-xs mt-1 text-blue-600">{resumeFile.name}</div>}
                </div>

                <input 
                  placeholder="Or paste a resume link" 
                  value={resumeLink} 
                  onChange={(e) => setResumeLink(e.target.value)}
                  className="w-full rounded-lg border border-blue-300 px-3 py-2 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none"
                />

                <div>
                  <label className="block text-sm mb-1 text-gray-700">Cover letter (optional)</label>
                  <textarea
                    rows={3}
                    value={coverLetter}
                    onChange={(e) => setCoverLetter(e.target.value)}
                    className="w-full rounded-lg border border-blue-300 p-2 sm:p-3 text-sm focus:border-blue-500 focus:ring-blue-500"
                    placeholder="Tell us why you're a good fit for this role..."
                  />
                </div>

                {applyError && <div className="text-red-600 text-sm bg-red-50 p-2 rounded-lg">{applyError}</div>}
                {applySuccess && <div className="text-green-700 text-sm bg-green-50 p-2 rounded-lg">{applySuccess}</div>}

                <div className="flex gap-2">
                  <button 
                    className="w-full bg-blue-600 hover:bg-blue-700 text-white text-sm sm:text-base px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" 
                    onClick={submitApplication} 
                    disabled={applying || applied}
                  >
                    {applied ? "Applied" : applying ? "Applying..." : "Quick Apply"}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\guest\jobs\job-list.jsx ===
import { useState, useEffect } from "react";
import { useLocation } from "react-router-dom";
import {
  Building2,
  MapPin,
  Briefcase,
  GraduationCap,
  Bookmark,
  BookmarkCheck,
  Clock,
} from "lucide-react";
import api from "../../../components/apiconfig/apiconfig";

export default function Jobs() {
  const [jobList, setJobList] = useState([]);
  const [role, setRole] = useState("");
  const [location, setLocation] = useState("");
  const [exp, setExp] = useState("");
  const [type, setType] = useState("");
  const [mode, setMode] = useState("");
  const [filtered, setFiltered] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [savedStatus, setSavedStatus] = useState({});
  
  const locationHook = useLocation();

  useEffect(() => {
    const searchParams = new URLSearchParams(locationHook.search);
    const searchQuery = searchParams.get('search') || '';
    if (searchQuery) {
      setRole(searchQuery);
    }
  }, [locationHook]);

  const pageSize = 6;
  const [page, setPage] = useState(1);

  useEffect(() => {
    let alive = true;

    (async () => {
      try {
        setLoading(true);
        const { data } = await api.get("/jobs", { params: { limit: 100 } });

        if (!alive) return;

        if (data.ok && Array.isArray(data.jobs)) {
          const mapped = data.jobs.map((j) => ({
            id: j._id || j.id,
            title: j.title || j.jobTitle || "",
            company: j.company || j.companyName || "",
            location: j.location || j.jobLocation || "",
            type: j.type || j.jobType || "",
            mode: j.mode || j.workMode || j.workType || "",
            experience: j.experience || j.experiance || j.exp || "",
            skills: j.skills || j.tags || [], // Use skills field
            salary: j.salary || "",
            description: j.description || "",
          }));
          setJobList(mapped);
          setFiltered(mapped);

          await checkSavedStatusForJobs(mapped);
        }
      } catch (err) {
        setError((err && err.message) || "Something went wrong");
      } finally {
        setLoading(false);
      }
    })();

    return () => {
      alive = false;
    };
  }, []);

  const checkSavedStatusForJobs = async (jobs) => {
    const status = {};
    for (const job of jobs) {
      try {
        const response = await api.get(`/jobs/save/${job.id}`);
        status[job.id] = response.data.isSaved;
      } catch (error) {
        console.error(`Error checking saved status for job ${job.id}:`, error);
        status[job.id] = false;
      }
    }
    setSavedStatus(status);
  };

  const toggleSaveJob = async (jobId, isCurrentlySaved) => {
    try {
      if (isCurrentlySaved) {
        await api.delete(`/jobs/save/${jobId}`);
        setSavedStatus(prev => ({ ...prev, [jobId]: false }));
      } else {
        await api.post(`/jobs/save/${jobId}`);
        setSavedStatus(prev => ({ ...prev, [jobId]: true }));
      }
    } catch (error) {
      console.error('Error toggling save:', error);
      alert('Error saving job: ' + (error.response?.data?.message || error.message));
    }
  };

  const handleSearch = () => {
    if (jobList.length === 0) return;

    let data = [...jobList];

    const roleTrim = role.trim().toLowerCase();
    const locationTrim = location.trim().toLowerCase();

    if (roleTrim !== "") {
      data = data.filter((job) => {
        const titleMatch = job.title?.toLowerCase().includes(roleTrim) || false;
        const companyMatch = job.company?.toLowerCase().includes(roleTrim) || false;
        const skillsMatch = job.skills?.some(skill => 
          skill?.toLowerCase().includes(roleTrim)
        ) || false;
        const descriptionMatch = job.description?.toLowerCase().includes(roleTrim) || false;
        
        return titleMatch || companyMatch || skillsMatch || descriptionMatch;
      });
    }

    if (locationTrim !== "") {
      data = data.filter((job) =>
        job.location?.toLowerCase().includes(locationTrim)
      );
    }

    if (exp && exp !== "Experience") {
      data = data.filter((job) =>
        (job.experience || "").toLowerCase().includes(exp.toLowerCase())
      );
    }

    if (mode && mode !== "Work mode") {
      data = data.filter((job) =>
        (job.mode || "").toLowerCase().includes(mode.toLowerCase())
      );
    }

    setFiltered(data);
    setPage(1);
    
    const params = new URLSearchParams();
    if (roleTrim) params.set('search', roleTrim);
    if (locationTrim) params.set('location', locationTrim);
    if (exp && exp !== "Experience") params.set('experience', exp);
    if (type && type !== "Type") params.set('type', type);
    
    const newUrl = params.toString() ? `/jobs?${params.toString()}` : '/jobs';
    window.history.replaceState({}, '', newUrl);
  };

  useEffect(() => {
    handleSearch();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [role, location, exp, mode]);

  const totalPages = Math.ceil(filtered.length / pageSize) || 1;

  useEffect(() => {
    if (page > totalPages && totalPages > 0) {
      setPage(totalPages);
    } else if (totalPages === 0) {
      setPage(1);
    }
  }, [filtered, totalPages, page]);

  const paginated = filtered.slice((page - 1) * pageSize, page * pageSize);

  const startIdx = filtered.length === 0 ? 0 : (page - 1) * pageSize + 1;
  const endIdx = (page - 1) * pageSize + paginated.length;

  const hasFilters =
    !!role.trim() ||
    !!location.trim() ||
    (exp && exp !== "Experience") ||
    (mode && mode !== "Work mode");

  return (
    <div className="min-h-screen bg-slate-50/60">
      <div className="max-w-6xl mx-auto px-4 sm:px-6 md:px-8 lg:px-10 py-10 md:py-12">
        <header className="mb-8">
          <p className="inline-flex items-center gap-2 text-[11px] font-semibold uppercase tracking-[0.18em] text-blue-600 bg-blue-50 border border-blue-100 rounded-full px-3 py-1 mb-3">
            Browse jobs
          </p>
          <h1 className="text-2xl md:text-3xl font-extrabold text-slate-900">
            Open positions
          </h1>
          <p className="mt-1 text-sm md:text-base text-slate-600 max-w-2xl">
            Explore internships and early‑career roles across locations, experience levels, and work modes.
          </p>
        </header>

        <div className="grid grid-cols-1 md:grid-cols-[280px,1fr] gap-8 lg:gap-10">
          {/* Sidebar */}
          <aside className="bg-white border border-slate-200 rounded-2xl p-5 h-fit md:sticky md:top-6 shadow-sm">
            <div className="flex items-center justify-between mb-3">
              <h2 className="text-sm font-semibold text-slate-900">Filter jobs</h2>
              {hasFilters && (
                <button
                  className="inline-flex items-center gap-1 rounded-full border border-slate-200 px-2.5 py-1 text-[11px] text-slate-600 hover:bg-slate-50"
                  onClick={() => {
                    setRole("");
                    setLocation("");
                    setExp("");
                    setMode("");
                  }}
                >
                  Clear
                </button>
              )}
            </div>

            {hasFilters && (
              <div className="mb-3 flex flex-wrap gap-1.5">
                {role.trim() && (
                  <span className="inline-flex items-center gap-1 rounded-full bg-blue-50 border border-blue-100 px-2 py-0.5 text-[11px] text-blue-700">
                    Role: {role.trim()}
                  </span>
                )}
                {location.trim() && (
                  <span className="inline-flex items-center gap-1 rounded-full bg-blue-50 border border-blue-100 px-2 py-0.5 text-[11px] text-blue-700">
                    Location: {location.trim()}
                  </span>
                )}
                {exp && exp !== "Experience" && (
                  <span className="inline-flex items-center gap-1 rounded-full bg-blue-50 border border-blue-100 px-2 py-0.5 text-[11px] text-blue-700">
                    Exp: {exp}
                  </span>
                )}
                {mode && mode !== "Work mode" && (
                  <span className="inline-flex items-center gap-1 rounded-full bg-blue-50 border border-blue-100 px-2 py-0.5 text-[11px] text-blue-700">
                    Mode: {mode}
                  </span>
                )}
              </div>
            )}

            <div className="space-y-4 pt-1 border-t border-slate-100">
              <div>
                <label className="block text-xs font-medium text-slate-600 mb-1">
                  Role or keyword
                </label>
                <input
                  placeholder="e.g. Frontend, Designer"
                  value={role}
                  onChange={(e) => setRole(e.target.value)}
                  className="w-full text-sm bg-slate-50 border border-slate-200 rounded-xl px-3 py-2.5 outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"
                />
              </div>

              <div>
                <label className="block text-xs font-medium text-slate-600 mb-1">
                  Location
                </label>
                <input
                  placeholder="Remote, Bengaluru..."
                  value={location}
                  onChange={(e) => setLocation(e.target.value)}
                  className="w-full text-sm bg-slate-50 border border-slate-200 rounded-xl px-3 py-2.5 outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"
                />
              </div>

              <div className="grid grid-cols-2 gap-3">
                <div>
                  <label className="block text-xs font-medium text-slate-600 mb-1">
                    Experience
                  </label>
                  <select
                    className="w-full rounded-xl border border-slate-200 bg-slate-50 p-2 text-xs text-slate-800"
                    value={exp}
                    onChange={(e) => setExp(e.target.value)}
                  >
                    <option>Experience</option>
                    <option>Student</option>
                    <option>Fresher (0 yrs)</option>
                    <option>1–2 yrs</option>
                  </select>
                </div>

                <div>
                  <label className="block text-xs font-medium text-slate-600 mb-1">
                    Work mode
                  </label>
                  <select
                    className="w-full rounded-xl border border-slate-200 bg-slate-50 p-2 text-xs text-slate-800"
                    value={mode}
                    onChange={(e) => setMode(e.target.value)}
                  >
                    <option>Work mode</option>
                    <option>Remote</option>
                    <option>Hybrid</option>
                    <option>Office</option>
                  </select>
                </div>
              </div>

              <button
                onClick={handleSearch}
                className="w-full text-sm mt-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-sm hover:shadow-md transition-all px-4 py-2.5 rounded-xl"
              >
                Apply filters
              </button>
            </div>
          </aside>

          {/* Content */}
          <section className="space-y-4">
            {error && (
              <div className="mb-4 text-xs text-red-600 bg-red-50 border border-red-100 rounded-lg px-4 py-3">
                {error}
              </div>
            )}

            <div className="mb-4 flex items-center justify-between text-xs md:text-sm text-slate-600">
              <span>
                Showing {startIdx}–{endIdx} of {filtered.length} roles
              </span>
            </div>

            {loading ? (
              <div className="border border-slate-200 rounded-2xl bg-white p-10 text-center text-slate-500 text-sm shadow-sm">
                Loading roles…
              </div>
            ) : paginated.length === 0 ? (
              <div className="border border-slate-200 rounded-2xl bg-white p-10 text-center text-slate-500 text-sm shadow-sm">
                No roles match these filters.
              </div>
            ) : (
              <div className="space-y-4">
                {paginated.map((r) => (
                  <article
                    key={r.id}
                    className="bg-white border border-slate-200 rounded-2xl px-5 py-4 flex flex-col gap-3 shadow-sm hover:shadow-lg hover:border-blue-100 hover:-translate-y-1 transition-all duration-200"
                  >
                    <div className="flex flex-col gap-2 md:flex-row md:items-start md:justify-between">
                      <div>
                        <h3 className="text-base md:text-lg font-semibold text-slate-900">
                          {r.title}
                        </h3>
                        <div className="mt-1 flex flex-wrap items-center gap-3 text-sm text-slate-600">
                          <span className="inline-flex items-center gap-1.5">
                            <Building2 size={16} /> {r.company}
                          </span>
                          <span className="inline-flex items-center gap-1.5">
                            <MapPin size={16} /> {r.location}
                          </span>
                        </div>
                      </div>

                      <div className="flex flex-wrap gap-2 text-xs text-slate-600">
                        <span className="inline-flex items-center gap-1.5 px-2 py-1 rounded-full bg-slate-50 border border-slate-200">
                          <Briefcase size={14} /> {r.type}
                        </span>
                        <span className="inline-flex items-center gap-1.5 px-2 py-1 rounded-full bg-slate-50 border border-slate-200">
                          <Clock size={14} /> {r.mode}
                        </span>
                        <span className="inline-flex items-center gap-1.5 px-2 py-1 rounded-full bg-slate-50 border border-slate-200">
                          <GraduationCap size={14} /> {r.experience}
                        </span>
                      </div>
                    </div>

                    {r.skills && r.skills.length > 0 && (
                      <div className="flex flex-wrap gap-1.5 mt-1">
                        {r.skills.map((t) => (
                          <span
                            key={t}
                            className="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] border border-slate-200 text-slate-600 bg-slate-50"
                          >
                            {t}
                          </span>
                        ))}
                      </div>
                    )}

                    <div className="flex flex-col gap-2 pt-2 md:flex-row md:justify-end">
                      <a href={`/jobs/${r.id}`} className="md:w-auto w-full">
                        <button
                          className="w-full md:w-auto border border-blue-100 text-blue-700 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg text-sm font-medium transition-colors"
                        >
                          View details
                        </button>
                      </a>
                      <button className="md:w-auto w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-sm hover:shadow-md px-4 py-2 rounded-lg text-sm transition-colors">
                        Apply
                      </button>
                    </div>
                  </article>
                ))}
              </div>
            )}

            <div className="flex justify-center items-center gap-2 mt-6">
              <button
                className="rounded-full border border-slate-300 px-3 py-1.5 text-xs md:text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50"
                disabled={page === 1}
                onClick={() => setPage((p) => Math.max(1, p - 1))}
              >
                Previous
              </button>

              {Array.from({ length: totalPages }).map((_, i) => {
                const pageNum = i + 1;
                const active = page === pageNum;
                return (
                  <button
                    key={pageNum}
                    onClick={() => setPage(pageNum)}
                    className={`px-3 py-1.5 text-xs md:text-sm rounded-full border ${
                      active
                        ? "bg-blue-600 text-white border-blue-600 shadow-sm"
                        : "bg-white text-slate-700 border-slate-300 hover:bg-blue-50"
                    }`}
                  >
                    {pageNum}
                  </button>
                );
              })}

              <button
                className="rounded-full border border-slate-300 px-3 py-1.5 text-xs md:text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50"
                disabled={page === totalPages || filtered.length === 0}
                onClick={() => setPage((p) => Math.min(totalPages, p + 1))}
              >
                Next
              </button>
            </div>
          </section>
        </div>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\recruiter\home\home.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";

export default function RecruiterDashboard() {
  const [stats, setStats] = useState({
    totalJobs: 0,
    recentApplications: 0,
    recentActivity: [],
    shortlisted: 0
  });
  const [recentJobs, setRecentJobs] = useState([]);
  const [recentApplicants, setRecentApplicants] = useState([]);
  const [loading, setLoading] = useState(true);

  // Fetch dashboard stats on component mount
  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      
      // Fetch stats
      const statsResponse = await api.get("/recruiter/stats");
      if (statsResponse.data.ok) {
        setStats(statsResponse.data.stats);
      }

      // Fetch recent jobs
      const jobsResponse = await api.get("/recruiter/jobs?limit=3");
      if (jobsResponse.data.ok) {
        setRecentJobs(jobsResponse.data.jobs || []);
      }

      // Fetch recent applicants
      const applicantsResponse = await api.get("/recruiter/recent-applicants");
      if (applicantsResponse.data.ok) {
        setRecentApplicants(applicantsResponse.data.applicants || []);
      }

    } catch (err) {
      console.error("Error fetching dashboard data:", err);
    } finally {
      setLoading(false);
    }
  };

  // Format time ago utility
  const formatTimeAgo = (timestamp) => {
    const now = new Date();
    const time = new Date(timestamp);
    const diffInHours = Math.floor((now - time) / (1000 * 60 * 60));
    
    if (diffInHours < 1) return 'Just now';
    if (diffInHours < 24) return `${diffInHours}h ago`;
    if (diffInHours < 168) return `${Math.floor(diffInHours / 24)}d ago`;
    return `${Math.floor(diffInHours / 168)}w ago`;
  };

  // Format date
  const formatDate = (dateString) => {
    if (!dateString) return '';
    return new Date(dateString).toLocaleDateString('en-US', {
      month: 'short',
      day: 'numeric',
      year: 'numeric'
    });
  };                              

  return (
    <section className="p-4 md:p-8 space-y-6">
      {/* Mobile Header */}
      <div className="md:hidden mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">Recruiter Dashboard</h1>
        <p className="text-gray-600">Welcome back! Here's your hiring overview</p>
      </div>

      {/* Stats Grid - Matching your HTML design */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div className="bg-white rounded-xl border border-slate-200 p-4">
          <p className="text-xs text-slate-500">Active jobs</p>
          <p className="mt-2 text-2xl font-semibold">
            {loading ? '...' : stats.totalJobs}
          </p>
          <p className="mt-1 text-xs text-slate-500">Currently live on platform</p>
        </div>

        <div className="bg-white rounded-xl border border-slate-200 p-4">
          <p className="text-xs text-slate-500">New applicants (7 days)</p>
          <p className="mt-2 text-2xl font-semibold">
            {loading ? '...' : stats.recentApplications}
          </p>
          <p className="mt-1 text-xs text-slate-500">Across all open roles</p>
        </div>

        <div className="bg-white rounded-xl border border-slate-200 p-4">
          <p className="text-xs text-slate-500">Shortlisted</p>
          <p className="mt-2 text-2xl font-semibold">
            {loading ? '...' : stats.shortlisted}
          </p>
          <p className="mt-1 text-xs text-slate-500">Waiting for next step</p>
        </div>
      </div>

      {/* Recent jobs */}
      <div className="bg-white rounded-xl border border-slate-200 p-4">
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-sm font-semibold">Recent job posts</h3>
          <a href="/job-posted" className="text-xs text-slate-500 hover:underline">Manage all jobs</a>
        </div>
        <div className="space-y-3 text-sm">
          {loading ? (
            <div className="text-center py-4">
              <p className="text-gray-500">Loading jobs...</p>
            </div>
          ) : recentJobs.length > 0 ? (
            recentJobs.map((job) => (
              <div key={job.id} className="flex items-center justify-between border border-slate-100 rounded-lg p-3">
                <div>
                  <p className="font-medium">{job.title}</p>
                  <p className="text-xs text-slate-500">
                    {job.applicationCount || 0} applicants • Posted {formatDate(job.createdAt)}
                  </p>
                </div>
                <a 
                  href={`/recruiter/jobs/${job.id}/applicants`}
                  className="text-xs px-3 py-1.5 rounded-full border border-slate-200 hover:bg-slate-50"
                >
                  View applicants
                </a>
              </div>
            ))
          ) : (
            <div className="text-center py-4">
              <p className="text-gray-500">No jobs posted yet</p>
            </div>
          )}
        </div>
      </div>

      {/* Recent applicants */}
      <div className="bg-white rounded-xl border border-slate-200 p-4">
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-sm font-semibold">Recent applicants</h3>
          <a href="/applicants" className="text-xs text-slate-500 hover:underline">Go to Applicants</a>
        </div>
        <div className="space-y-3 text-xs">
          {loading ? (
            <div className="text-center py-2">
              <p className="text-gray-500">Loading applicants...</p>
            </div>
          ) : recentApplicants.length > 0 ? (
            recentApplicants.map((applicant, index) => (
              <div key={index} className="flex items-center justify-between">
                <div>
                  <p className="font-medium text-sm">
                    {applicant.user?.fullName || applicant.name || 'Anonymous'}
                  </p>
                  <p className="text-slate-500">
                    Applied for {applicant.jobTitle || 'a job'}
                  </p>
                </div>
                <p className="text-slate-400">
                  {formatTimeAgo(applicant.appliedAt || applicant.createdAt)}
                </p>
              </div>
            ))
          ) : (
            <div className="text-center py-2">
              <p className="text-gray-500">No recent applicants</p>
            </div>
          )}
        </div>
      </div>

      {/* Recent Activity Section */}
      <div className="bg-white rounded-xl border border-slate-200 p-4">
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-sm font-semibold">Recent Activity</h3>
          <a href="/activity" className="text-xs text-slate-500 hover:underline">View all</a>
        </div>
        <div className="space-y-4">
          {loading ? (
            <div className="text-center py-4">
              <p className="text-gray-500">Loading activity...</p>
            </div>
          ) : stats.recentActivity && stats.recentActivity.length > 0 ? (
            stats.recentActivity.map((activity, index) => (
              <div key={index} className="flex items-center justify-between">
                <div className="flex items-center space-x-3">
                  <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                  <span className="text-sm text-gray-700">{activity.message}</span>
                </div>
                <span className="text-xs text-gray-500">
                  {formatTimeAgo(activity.timestamp)}
                </span>
              </div>
            ))
          ) : (
            <div className="text-center py-4">
              <p className="text-gray-500">No recent activity</p>
            </div>
          )}
        </div>
      </div>
    </section>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\recruiter\jobs\job-post.jsx ===
import { useState } from "react";
import api from "../../../components/apiconfig/apiconfig";
// Component for creating a new job posting
export default function AdminPostJob() {
  const [form, setForm] = useState({
    title: "",
    company: "",
    jobType: "Full-time",
    city: "",
    locality: "",
    skills: "",
    minExperience: "",
    maxExperience: "",
    salary: "",
    vacancies: 1,
    description: "",
    interviewAddress: "",
    contactEmail: "",
    contactPhone: "",
    logoFile: null,
  });

  const [errors, setErrors] = useState({});
  const [submitting, setSubmitting] = useState(false);
  const [success, setSuccess] = useState(null);
// Update form field
  function updateField(name, value) {
    setForm((s) => ({ ...s, [name]: value }));
    setErrors((e) => ({ ...e, [name]: "" }));
  }
// Handle logo file change
  function handleLogoChange(e) {
    const file = e.target.files?.[0] ?? null;
    updateField("logoFile", file);
  }

  function validate() {
    const err = {};
    if (!form.title.trim()) err.title = "Job title is required";
    if (!form.company.trim()) err.company = "Company name is required";
    if (!form.city.trim()) err.city = "City required";
    if (!form.description.trim()) err.description = "Job description required";
    if (!form.contactEmail.trim() && !form.contactPhone.trim()) err.contact = "Provide email or phone";
    if (form.vacancies <= 0) err.vacancies = "Vacancies must be >= 1";
    setErrors(err);
    return Object.keys(err).length === 0;
  }

  // Helper: capitalize first character and lowercase the rest
  function capitalizeFirst(str) {
    if (!str && str !== "") return "";
    const s = String(str).trim();
    if (!s) return "";
    return s.charAt(0).toUpperCase() + s.slice(1).toLowerCase();
  }

  async function handleSubmit(e) {
    e.preventDefault();
    setSuccess(null);
    if (!validate()) return;

    setSubmitting(true);

    try {
      // normalize title + company before sending
      const normalizedTitle = capitalizeFirst(form.title);
      const normalizedCompany = capitalizeFirst(form.company);

      // Create formData for file upload
      const payload = new FormData();

      // Append all form fields
      payload.append("title", normalizedTitle);
      payload.append("company", normalizedCompany);
      payload.append("jobType", form.jobType);
      payload.append("city", form.city);
      payload.append("locality", form.locality);
      payload.append("skills", form.skills);
      payload.append("minExperience", form.minExperience);
      payload.append("maxExperience", form.maxExperience);
      payload.append("salary", form.salary);
      payload.append("vacancies", form.vacancies.toString());
      payload.append("description", form.description);
      payload.append("interviewAddress", form.interviewAddress);
      payload.append("contactEmail", form.contactEmail);
      payload.append("contactPhone", form.contactPhone);
      
      if (form.logoFile) {
        payload.append("logo", form.logoFile);
      }

      // send to backend using axios instance
      const { data } = await api.post("/recruiter/jobs/create", payload, {
        headers: {
          'Content-Type': 'multipart/form-data',
        },
      });

      setSuccess(data?.message || "Job posted successfully.");
      
      // clear form
      setForm({
        title: "",
        company: "",
        jobType: "Full-time",
        city: "",
        locality: "",
        skills: "",
        minExperience: "",
        maxExperience: "",
        salary: "",
        vacancies: 1,
        description: "",
        interviewAddress: "",
        contactEmail: "",
        contactPhone: "",
        logoFile: null,
      });
      setErrors({});
    } catch (err) {
      setSuccess(null);
      const errorMessage = err?.response?.data?.message || err.message || "Submit failed";
      setErrors((e) => ({ ...e, submit: errorMessage }));
      console.error("Job creation error:", err);
    } finally {
      setSubmitting(false);
    }
  }

  // small helper: display a logo preview (client-side)
  const logoPreview = form.logoFile ? URL.createObjectURL(form.logoFile) : null;

  // For preview only: show capitalized-first display (does not modify form state)
  const previewTitle = form.title ? capitalizeFirst(form.title) : "";
  const previewCompany = form.company ? capitalizeFirst(form.company) : "";

  return (
    <div className="max-w-6xl mx-auto px-6 py-10">
      <h1 className="text-2xl font-bold mb-6">Post a Job</h1>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Form column */}
        <div className="lg:col-span-2">
          <div className="rounded-2xl bg-white border border-gray-200 shadow-sm">
            <div className="p-6 border-b border-gray-200">
              <h2 className="text-lg font-semibold">Create Job Posting</h2>
            </div>

            <form onSubmit={handleSubmit}>
              <div className="p-6 space-y-4">
                {success && <div className="rounded-md bg-emerald-50 p-3 text-emerald-700">{success}</div>}
                {errors.submit && <div className="rounded-md bg-red-50 p-3 text-red-700">{errors.submit}</div>}

                <div>
                  <label className="block text-sm font-medium mb-1">Job Title *</label>
                  <input
                    value={form.title}
                    onChange={(e) => updateField("title", e.target.value)}
                    placeholder="e.g., Frontend Developer"
                    className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                  />
                  {errors.title && <p className="text-xs text-red-500 mt-1">{errors.title}</p>}
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium mb-1">Company *</label>
                    <input
                      value={form.company}
                      onChange={(e) => updateField("company", e.target.value)}
                      placeholder="Company name"
                      className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    />
                    {errors.company && <p className="text-xs text-red-500 mt-1">{errors.company}</p>}
                  </div>

                  <div>
                    <label className="block text-sm font-medium mb-1">Job Type</label>
                    <select
                      value={form.jobType}
                      onChange={(e) => updateField("jobType", e.target.value)}
                      className="rounded-xl border p-3 w-full text-sm"
                    >
                      <option>Full-time</option>
                      <option>Part-time</option>
                      <option>Contract</option>
                      <option>Internship</option>
                      <option>Work from Home</option>
                    </select>
                  </div>
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
                  <div>
                    <label className="block text-sm font-medium mb-1">City *</label>
                    <input value={form.city} onChange={(e) => updateField("city", e.target.value)} placeholder="City" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                    {errors.city && <p className="text-xs text-red-500 mt-1">{errors.city}</p>}
                  </div>
                  <div>
                    <label className="block text-sm font-medium mb-1">Locality</label>
                    <input value={form.locality} onChange={(e) => updateField("locality", e.target.value)} placeholder="Locality / area" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                  </div>
                  <div>
                    <label className="block text-sm font-medium mb-1">Vacancies</label>
                    <input
                      type="number"
                      value={form.vacancies}
                      onChange={(e) => updateField("vacancies", Math.max(1, Number(e.target.value || 1)))}
                      className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                    />
                    {errors.vacancies && <p className="text-xs text-red-500 mt-1">{errors.vacancies}</p>}
                  </div>
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
                  <div>
                    <label className="block text-sm font-medium mb-1">Experience (min)</label>
                    <input value={form.minExperience} onChange={(e) => updateField("minExperience", e.target.value)} placeholder="e.g., 0" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                  </div>
                  <div>
                    <label className="block text-sm font-medium mb-1">Experience (max)</label>
                    <input value={form.maxExperience} onChange={(e) => updateField("maxExperience", e.target.value)} placeholder="e.g., 3" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                  </div>
                  <div>
                    <label className="block text-sm font-medium mb-1">Salary</label>
                    <input value={form.salary} onChange={(e) => updateField("salary", e.target.value)} placeholder="e.g., 3 LPA" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium mb-1">Skills / Technologies (comma separated)</label>
                  <input value={form.skills} onChange={(e) => updateField("skills", e.target.value)} placeholder="React, Node.js, SQL, Docker" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                </div>

                <div>
                  <label className="block text-sm font-medium mb-1">Job Description *</label>
                  <textarea
                    value={form.description}
                    onChange={(e) => updateField("description", e.target.value)}
                    className="w-full rounded-xl border p-3 text-sm min-h-[140px]"
                    placeholder="Describe responsibilities, requirements, benefits..."
                  />
                  {errors.description && <p className="text-xs text-red-500 mt-1">{errors.description}</p>}
                </div>

                <div>
                  <label className="block text-sm font-medium mb-1">Interview Address / Office Address</label>
                  <input value={form.interviewAddress} onChange={(e) => updateField("interviewAddress", e.target.value)} placeholder="Full address" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium mb-1">Contact Email</label>
                    <input value={form.contactEmail} onChange={(e) => updateField("contactEmail", e.target.value)} placeholder="hr@company.com" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                  </div>
                  <div>
                    <label className="block text-sm font-medium mb-1">Contact Phone</label>
                    <input value={form.contactPhone} onChange={(e) => updateField("contactPhone", e.target.value)} placeholder="+91 98xxxxxxxx" className="w-full rounded-xl border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none" />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium mb-1">Company / Job Logo</label>
                  <input type="file" accept="image/*" onChange={handleLogoChange} className="text-sm" />
                  {logoPreview && <img src={logoPreview} alt="logo" className="mt-3 h-16 w-16 object-contain rounded-md border" />}
                </div>

                <div className="flex items-center justify-end gap-3 mt-4">
                  <button
                    type="button"
                    onClick={() => {
                      // reset
                      setForm({
                        title: "",
                        company: "",
                        jobType: "Full-time",
                        city: "",
                        locality: "",
                        skills: "",
                        minExperience: "",
                        maxExperience: "",
                        salary: "",
                        vacancies: 1,
                        description: "",
                        interviewAddress: "",
                        contactEmail: "",
                        contactPhone: "",
                        logoFile: null,
                      });
                      setErrors({});
                      setSuccess(null);
                    }}
                    className="px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors font-medium"
                  >
                    Reset
                  </button>

                  <button type="submit" className="rounded-full px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled={submitting}>
                    {submitting ? "Publishing..." : "Publish Job"}
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>

        {/* Preview column */}
        <div>
          <div className="rounded-2xl bg-white border border-gray-200 shadow-sm">
            <div className="p-4 border-b border-gray-200">
              <h2 className="text-base font-semibold">Preview</h2>
            </div>

            <div className="p-4 space-y-3">
              <div className="flex items-start gap-3">
                {logoPreview ? (
                  <img src={logoPreview} alt="logo" className="h-16 w-16 object-cover rounded-md border" />
                ) : (
                  <div className="h-16 w-16 rounded-md bg-slate-100 grid place-items-center text-slate-400">Logo</div>
                )}
                <div>
                  <div className="font-semibold text-lg">{previewTitle || "Job title preview"}</div>
                  <div className="text-sm text-slate-600">{previewCompany || "Company name"}</div>
                </div>
              </div>

              <div className="text-sm text-slate-600">
                <div>
                  <strong>Location:</strong> {form.city || "City"} {form.locality ? `— ${form.locality}` : ""}
                </div>
                <div>
                  <strong>Type:</strong> {form.jobType}
                </div>
                <div>
                  <strong>Experience:</strong> {(form.minExperience || "0") + (form.maxExperience ? ` - ${form.maxExperience} yrs` : " yrs")}
                </div>
                <div>
                  <strong>Salary:</strong> {form.salary || "NA"}
                </div>
                <div className="mt-2">
                  <strong>Skills:</strong> {form.skills || "—"}
                </div>
              </div>

              <div className="text-sm mt-2">
                <div className="font-medium">Short description</div>
                <div className="text-slate-600 text-sm">
                  {form.description ? (form.description.length > 220 ? form.description.slice(0, 220) + "..." : form.description) : "Job description will appear here."}
                </div>
              </div>

              <div className="pt-3 border-t">
                <div className="text-xs text-slate-500">Contact</div>
                <div className="text-sm">{form.contactEmail || form.contactPhone || "No contact provided"}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\recruiter\jobs\job-posted.jsx ===
import { useState, useEffect } from "react";
import api from "../../../components/apiconfig/apiconfig";
import { Link } from "react-router-dom";

export default function JobPosted() {
  const [jobs, setJobs] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState("");

  useEffect(() => {
    fetchPostedJobs();
  }, []);

  const fetchPostedJobs = async () => {
    try {
      setLoading(true);
      const { data } = await api.get("/recruiter/jobs");

      if (data.ok) {
        setJobs(data.jobs);
      } else {
        setError("Failed to fetch jobs");
      }
    } catch (err) {
      setError(err.response?.data?.message || "Failed to fetch jobs");
      console.error("Error fetching jobs:", err);
    } finally {
      setLoading(false);
    }
  };

  const formatDate = (dateString) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };

  if (loading) {
    return (
      <div className="space-y-4">
        <div className="animate-pulse">
          <div className="h-8 bg-gray-200 rounded w-1/4 mb-4"></div>
          {[1, 2, 3].map((i) => (
            <div key={i} className="rounded-2xl bg-white border border-gray-200">
              <div className="py-4 px-6">
                <div className="h-4 bg-gray-200 rounded w-1/4 mb-2"></div>
                <div className="h-3 bg-gray-200 rounded w-1/3"></div>
              </div>
            </div>
          ))}
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Header - Remove max-w-6xl mx-auto */}
      <div className="flex justify-between items-center">
        <h1 className="text-2xl md:text-3xl font-bold text-gray-900">Posted Jobs</h1>
        <div className="text-sm text-gray-600">
          {jobs.length} job{jobs.length !== 1 ? 's' : ''} posted
        </div>
      </div>

      {error && (
        <div className="rounded-md bg-red-50 p-4">
          <p className="text-red-700">{error}</p>
        </div>
      )}

      {jobs.length === 0 ? (
        <div className="rounded-2xl text-center py-12 bg-white border border-gray-200">
          <div className="px-6">
            <div className="text-gray-500 mb-4">
              <svg className="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
            </div>
            <h3 className="text-lg font-semibold text-gray-900 mb-2">No jobs posted yet</h3>
            <p className="text-gray-600 mb-4">Start by creating your first job posting</p>
            <Link 
              to="/create-job"
              className="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors"
            >
              Post Your First Job
            </Link>
          </div>
        </div>
      ) : (
        <div className="space-y-4">
          {jobs.map((job) => (
            <div key={job.id} className="rounded-2xl hover:shadow-md transition-shadow bg-white border border-gray-200">
              <div className="py-6 px-6">
                <div className="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
                  <div className="flex-1">
                    <div className="flex items-start gap-4">
                      <div className="flex-1">
                        <h3 className="font-semibold text-lg text-gray-900">{job.title}</h3>
                        <p className="text-gray-600">
                          {job.company} • {job.location} • {job.type}
                        </p>
                        <div className="flex flex-wrap gap-2 mt-2">
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                            {job.vacancies} vacancy{job.vacancies !== 1 ? 'ies' : ''}
                          </span>
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            {job.applicationCount} application{job.applicationCount !== 1 ? 's' : ''}
                          </span>
                        </div>
                        <p className="text-sm text-gray-500 mt-2">
                          Posted on {formatDate(job.createdAt)}
                        </p>
                      </div>
                    </div>
                  </div>
                  
                  <div className="flex gap-2 flex-shrink-0">
                    <Link 
                      to={`/recruiter/jobs/${job.id}/applicants`}
                      className="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"
                    >
                      View Applicants
                    </Link>
                    <button className="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                      Edit Job
                    </button>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\recruiter\jobs\Job-response-list.jsx ===
import { useState, useEffect } from "react";
import { useParams, Link } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";

export default function JobApplicants() {
  const { jobId } = useParams();
  const [applicants, setApplicants] = useState([]);
  const [job, setJob] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState("");

  useEffect(() => {
    if (jobId) {
      fetchApplicants();
    }
  }, [jobId]);

  const fetchApplicants = async () => {
    try {
      setLoading(true);
      const { data } = await api.get(`/recruiter/jobs/${jobId}/applicants`);
      if (data.ok) {
        setApplicants(data.applicants);
        // Also fetch job details
        const jobData = await api.get("/recruiter/jobs");
        if (jobData.data.ok) {
          const currentJob = jobData.data.jobs.find(j => j.id === parseInt(jobId));
          setJob(currentJob);
        }
      } else {
        setError("Failed to fetch applicants");
      }
    } catch (err) {
      setError(err.response?.data?.message || "Failed to fetch applicants");
      console.error("Error fetching applicants:", err);
    } finally {
      setLoading(false);
    }
  };

  const formatDate = (dateString) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  const getStatusColor = (status) => {
    const colors = {
      applied: 'bg-blue-100 text-blue-800',
      reviewed: 'bg-yellow-100 text-yellow-800',
      shortlisted: 'bg-green-100 text-green-800',
      rejected: 'bg-red-100 text-red-800',
      hired: 'bg-purple-100 text-purple-800'
    };
    return colors[status] || 'bg-gray-100 text-gray-800';
  };

  const downloadResume = (resumePath, applicantName) => {
    if (resumePath) {
      const link = document.createElement('a');
      link.href = `/${resumePath}`;
      link.download = `${applicantName.replace(/\s+/g, '_')}_resume${resumePath.substring(resumePath.lastIndexOf('.'))}`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  };

  if (loading) {
    return (
      <div className="animate-pulse space-y-4">
        <div className="h-8 bg-gray-200 rounded w-1/3 mb-4"></div>
        {[1, 2, 3].map((i) => (
          <div key={i} className="rounded-2xl bg-white border border-gray-200">
            <div className="py-4 px-6">
              <div className="h-4 bg-gray-200 rounded w-1/4 mb-2"></div>
              <div className="h-3 bg-gray-200 rounded w-1/3"></div>
            </div>
          </div>
        ))}
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Header - Remove max-w-6xl mx-auto */}
      <div className="mb-6">
        <Link to="/job-posted" className="text-blue-600 hover:text-blue-800 mb-4 inline-block">
          ← Back to Posted Jobs
        </Link>
        <div className="flex justify-between items-center">
          <div>
            <h1 className="text-2xl md:text-3xl font-bold text-gray-900">
              Applicants for {job?.title || 'Job'}
            </h1>
            {job && (
              <p className="text-gray-600 mt-2">
                {job.company} • {job.location} • {applicants.length} applicant{applicants.length !== 1 ? 's' : ''}
              </p>
            )}
          </div>
        </div>
      </div>

      {error && (
        <div className="rounded-md bg-red-50 p-4">
          <p className="text-red-700">{error}</p>
        </div>
      )}

      {applicants.length === 0 ? (
        <div className="rounded-2xl text-center py-12 bg-white border border-gray-200">
          <div className="px-6">
            <div className="text-gray-500 mb-4">
              <svg className="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
            </div>
            <h3 className="text-lg font-semibold text-gray-900 mb-2">No applicants yet</h3>
            <p className="text-gray-600">No one has applied to this job yet.</p>
          </div>
        </div>
      ) : (
        <div className="space-y-4">
          {applicants.map((applicant) => (
            <div key={applicant.applicationId} className="rounded-2xl hover:shadow-md transition-shadow bg-white border border-gray-200">
              <div className="py-6 px-6">
                <div className="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4">
                  <div className="flex-1">
                    <div className="flex items-start gap-4">
                      <div className="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0">
                        <span className="text-sm font-medium text-gray-600">
                          {applicant.user.fullName ? applicant.user.fullName.charAt(0).toUpperCase() : 'U'}
                        </span>
                      </div>
                      <div className="flex-1">
                        <div className="flex items-center gap-3 mb-2">
                          <h3 className="font-semibold text-lg text-gray-900">
                            {applicant.user.fullName || 'Anonymous User'}
                          </h3>
                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(applicant.status)}`}>
                            {applicant.status.charAt(0).toUpperCase() + applicant.status.slice(1)}
                          </span>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm text-gray-600">
                          <div>
                            <strong>Email:</strong> {applicant.user.email}
                          </div>
                          {applicant.user.phone && (
                            <div>
                              <strong>Phone:</strong> {applicant.user.phone}
                            </div>
                          )}
                          {applicant.user.location && (
                            <div>
                              <strong>Location:</strong> {applicant.user.location}
                            </div>
                          )}
                          {applicant.user.experienceYears && (
                            <div>
                              <strong>Experience:</strong> {applicant.user.experienceYears} years
                            </div>
                          )}
                          {applicant.user.highestEducation && (
                            <div>
                              <strong>Education:</strong> {applicant.user.highestEducation}
                            </div>
                          )}
                        </div>

                        {applicant.coverLetter && (
                          <div className="mt-3">
                            <p className="text-sm text-gray-700 bg-gray-50 p-3 rounded-lg">
                              {applicant.coverLetter}
                            </p>
                          </div>
                        )}

                        <div className="flex gap-3 mt-3">
                          {applicant.user.linkedinUrl && (
                            <a 
                              href={applicant.user.linkedinUrl} 
                              target="_blank" 
                              rel="noopener noreferrer"
                              className="text-blue-600 hover:text-blue-800 text-sm"
                            >
                              LinkedIn
                            </a>
                          )}
                          {applicant.user.portfolioUrl && (
                            <a 
                              href={applicant.user.portfolioUrl} 
                              target="_blank" 
                              rel="noopener noreferrer"
                              className="text-green-600 hover:text-green-800 text-sm"
                            >
                              Portfolio
                            </a>
                          )}
                        </div>

                        <p className="text-xs text-gray-500 mt-2">
                          Applied on {formatDate(applicant.appliedAt)}
                        </p>
                      </div>
                    </div>
                  </div>
                  
                  <div className="flex gap-2 flex-shrink-0">
                    {applicant.resumePath && (
                      <button 
                        className="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"
                        onClick={() => downloadResume(applicant.resumePath, applicant.user.fullName || 'applicant')}
                      >
                        Download Resume
                      </button>
                    )}
                    <button className="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                      Contact
                    </button>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\recruiter\profile\recruiter-profile-form.jsx ===
import React, { useEffect, useState } from "react";
import api from "../../../components/apiconfig/apiconfig";

/**
 * RecruiterProfileEdit (PUT-only)
 *
 * Props:
 *  - initialData: optional object to prefill the form (fetched by parent)
 *  - onSaved: optional callback after successful save
 *  - onCancel: optional callback (optional)
 *
 * This component DOES NOT perform GET.
 */
export default function RecruiterProfileEdit({ initialData = null, onSaved = null, onCancel = null }) {
  const [saving, setSaving] = useState(false);
  const [message, setMessage] = useState(null);

  const [form, setForm] = useState({
    company_name: "",
    company_website: "",
    company_type: "company",
    address_line1: "",
    address_line2: "",
    city: "",
    state: "",
    country: "",
    pincode: "",
    verified: 0,
    verification_notes: ""
  });

  // Prefill only from initialData
  useEffect(() => {
    if (initialData) {
      setForm(f => ({
        ...f,
        company_name: initialData.company_name ?? "",
        company_website: initialData.company_website ?? "",
        company_type: initialData.company_type ?? "company",
        address_line1: initialData.address_line1 ?? "",
        address_line2: initialData.address_line2 ?? "",
        city: initialData.city ?? "",
        state: initialData.state ?? "",
        country: initialData.country ?? "",
        pincode: initialData.pincode ?? "",
        verified:
          typeof initialData.verified !== "undefined" && initialData.verified !== null
            ? (initialData.verified ? 1 : 0)
            : 0,
        verification_notes: initialData.verification_notes ?? ""
      }));
    }
  }, [initialData]);

  const handleChange = e => {
    const { name, value, type, checked } = e.target;
    setForm(f => ({
      ...f,
      [name]: type === "checkbox" ? (checked ? 1 : 0) : value
    }));
    setMessage(null);
  };

  const validate = () => {
    const errors = [];
    if (!form.company_name.trim()) errors.push("Company name is required.");
    if (!form.address_line1.trim()) errors.push("Address line 1 is required.");
    if (!form.city.trim()) errors.push("City is required.");
    if (form.pincode && !/^[0-9]{3,10}$/.test(form.pincode)) errors.push("Pincode must be 3-10 digits.");
    return errors;
  };

  const handleSubmit = async e => {
    e.preventDefault();
    setMessage(null);

    const errors = validate();
    if (errors.length) {
      setMessage({ type: "error", text: errors.join(" ") });
      return;
    }

    setSaving(true);

    try {
      const res = await api.put("/profile/recruiter", form);
      const payload = res.data || {};

      setMessage({ type: "success", text: payload.message || "Profile saved successfully." });

      if (typeof onSaved === "function") {
        onSaved(payload);
      }
    } catch (err) {
      if (err.response) {
        const msg = err.response.data?.message || "Failed to save profile.";
        setMessage({ type: "error", text: msg });
      } else {
        setMessage({ type: "error", text: "Network error while saving." });
      }
    } finally {
      setSaving(false);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <div className="max-w-3xl mx-auto">
        <h2 className="text-lg font-semibold mb-4">Edit Recruiter Profile</h2>

        <form
          onSubmit={handleSubmit}
          className="bg-white rounded-xl shadow-md border border-gray-100 p-6"
        >
          {message && (
            <div
              className={`mb-4 px-4 py-2 rounded ${
                message.type === "success"
                  ? "bg-green-50 border border-green-200 text-green-700"
                  : "bg-red-50 border border-red-200 text-red-700"
              }`}
            >
              {message.text}
            </div>
          )}

          <div className="mb-4">
            <label className="block text-sm mb-2">Company Name *</label>
            <input
              name="company_name"
              value={form.company_name}
              onChange={handleChange}
              className="w-full px-4 py-3 rounded border"
            />
          </div>

          <div className="mb-4">
            <label className="block text-sm mb-2">Company Website</label>
            <input
              name="company_website"
              value={form.company_website}
              onChange={handleChange}
              className="w-full px-4 py-3 rounded border"
              placeholder="https://example.com"
            />
          </div>

          <div className="mb-4">
            <label className="block text-sm mb-2">Company Type</label>
            <select
              name="company_type"
              value={form.company_type}
              onChange={handleChange}
              className="w-full px-4 py-3 rounded border"
            >
              <option value="company">Company</option>
              <option value="consultancy">Consultancy</option>
              <option value="startup">Startup</option>
            </select>
          </div>

          <div className="mb-4">
            <label className="block text-sm mb-2">Address Line 1 *</label>
            <input
              name="address_line1"
              value={form.address_line1}
              onChange={handleChange}
              className="w-full px-4 py-3 rounded border"
            />
          </div>

          <div className="mb-4">
            <label className="block text-sm mb-2">Address Line 2</label>
            <input
              name="address_line2"
              value={form.address_line2}
              onChange={handleChange}
              className="w-full px-4 py-3 rounded border"
            />
          </div>

          <div className="grid grid-cols-2 gap-4 mb-4">
            <div>
              <label className="block text-sm mb-2">City *</label>
              <input
                name="city"
                value={form.city}
                onChange={handleChange}
                className="w-full px-4 py-3 rounded border"
              />
            </div>

            <div>
              <label className="block text-sm mb-2">State</label>
              <input
                name="state"
                value={form.state}
                onChange={handleChange}
                className="w-full px-4 py-3 rounded border"
              />
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4 mb-4">
            <div>
              <label className="block text-sm mb-2">Country</label>
              <input
                name="country"
                value={form.country}
                onChange={handleChange}
                className="w-full px-4 py-3 rounded border"
              />
            </div>

            <div>
              <label className="block text-sm mb-2">Pincode</label>
              <input
                name="pincode"
                value={form.pincode}
                onChange={handleChange}
                className="w-full px-4 py-3 rounded border"
              />
            </div>
          </div>

          <div className="flex items-center gap-3 mb-4">
            <input
              id="verified"
              type="checkbox"
              name="verified"
              checked={form.verified === 1}
              onChange={handleChange}
            />
            <label htmlFor="verified" className="text-sm">Verified</label>
          </div>

          <div className="mb-4">
            <label className="block text-sm mb-2">Verification Notes</label>
            <textarea
              name="verification_notes"
              value={form.verification_notes}
              onChange={handleChange}
              className="w-full px-4 py-3 rounded border"
              rows={3}
            />
          </div>

          <div className="flex justify-end">
            <button
              type="button"
              onClick={() => (onCancel ? onCancel() : window.history.back())}
              className="px-4 py-2 border rounded mr-3"
            >
              Cancel
            </button>

            <button
              type="submit"
              disabled={saving}
              className={`px-6 py-2 rounded-full text-white ${
                saving ? "bg-gray-400" : "bg-blue-600 hover:brightness-95"
              }`}
            >
              {saving ? "Saving..." : "Save Profile"}
            </button>
          </div>
        </form>
      </div>
    </div>
  );
}


--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\modules\recruiter\profile\recruiter-profile.jsx ===
import React, { useEffect, useState } from "react";
import { Link } from "react-router-dom";
import api from "../../../components/apiconfig/apiconfig";

export default function RecruiterProfileView() {
  const [loading, setLoading] = useState(true);
  const [profile, setProfile] = useState(null);
  const [error, setError] = useState("");
  const [isEditing, setIsEditing] = useState(false);
  const [form, setForm] = useState({
    company_name: "",
    company_website: "",
    company_type: "",
    address_line1: "",
    address_line2: "",
    city: "",
    state: "",
    country: "",
    pincode: ""
  });

  useEffect(() => {
    let mounted = true;

    async function loadProfile() {
      try {
        const res = await api.get("/profile/recruiter");
        if (!mounted) return;
        const profileData = res.data?.recruiter ?? null;
        setProfile(profileData);
        if (profileData) {
          setForm({
            company_name: profileData.company_name || "",
            company_website: profileData.company_website || "",
            company_type: profileData.company_type || "",
            address_line1: profileData.address_line1 || "",
            address_line2: profileData.address_line2 || "",
            city: profileData.city || "",
            state: profileData.state || "",
            country: profileData.country || "",
            pincode: profileData.pincode || ""
          });
        }
      } catch (err) {
        if (err.response) {
          if (err.response.status === 404) {
            setError("You don't have a recruiter profile yet.");
          } else if (err.response.status === 401) {
            setError("You must be logged in to view this page.");
          } else {
            console.error("Server error loading recruiter profile:", err.response.data || err);
            setError("Failed to load profile (server error).");
          }
        } else {
          console.error("Network error loading recruiter profile:", err);
          setError("Failed to load profile (network error).");
        }
      } finally {
        if (mounted) setLoading(false);
      }
    }

    loadProfile();
    return () => { mounted = false; };
  }, []);

  const handleChange = (e) => {
    const { name, value } = e.target;
    setForm(prev => ({ ...prev, [name]: value }));
  };

  const handleSave = async (e) => {
    e.preventDefault();
    try {
      const res = await api.put("/profile/recruiter", form);
      setProfile(res.data?.recruiter);
      setIsEditing(false);
    } catch (err) {
      console.error("Error saving profile:", err);
      setError("Failed to save profile. Please try again.");
    }
  };

  const handleCancel = () => {
    if (profile) {
      setForm({
        company_name: profile.company_name || "",
        company_website: profile.company_website || "",
        company_type: profile.company_type || "",
        address_line1: profile.address_line1 || "",
        address_line2: profile.address_line2 || "",
        city: profile.city || "",
        state: profile.state || "",
        country: profile.country || "",
        pincode: profile.pincode || ""
      });
    }
    setIsEditing(false);
  };

  if (loading) {
    return (
      <div className="space-y-4">
        <div className="animate-pulse">
          <div className="h-8 bg-gray-200 rounded w-1/4 mb-4"></div>
          <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <div className="lg:col-span-1">
              <div className="bg-gray-200 rounded-2xl h-64"></div>
            </div>
            <div className="lg:col-span-3">
              <div className="bg-gray-200 rounded-2xl h-96"></div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  if (error && !profile) {
    return (
      <div className="space-y-4">
        <div className="bg-red-50 border border-red-200 rounded-xl p-6 text-center">
          <div className="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg className="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h3 className="text-lg font-medium text-red-800 mb-2">Unable to load profile</h3>
          <p className="text-red-700 mb-4">{error}</p>
          <button
            onClick={() => setIsEditing(true)}
            className="inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"
          >
            Create Profile
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex justify-between items-center">
        <div>
          <h1 className="text-2xl md:text-3xl font-bold text-gray-900">Recruiter Profile</h1>
          <p className="text-gray-600 mt-2">Manage your company information and recruitment details</p>
        </div>
        {!isEditing && profile && (
          <button
            onClick={() => setIsEditing(true)}
            className="inline-flex items-center px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm"
          >
            <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
            Edit Profile
          </button>
        )}
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
        {/* Sidebar - Company Overview */}
        <div className="lg:col-span-1">
          <div className="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sticky top-8">
            {/* Company Badge */}
            <div className="text-center mb-6">
              <div className="w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4">
                {form.company_name ? form.company_name.charAt(0).toUpperCase() : "C"}
              </div>
              <h2 className="font-bold text-lg text-gray-900 truncate">{form.company_name || "Your Company"}</h2>
              <p className="text-sm text-gray-600 mt-1">{form.company_type || "Company"}</p>
              
              {/* Verification Badge */}
              {profile && (
                <div className="mt-3">
                  {profile.verified === 1 ? (
                    <span className="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                      <svg className="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                        <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                      </svg>
                      Verified
                    </span>
                  ) : (
                    <span className="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                      <svg className="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      Pending Verification
                    </span>
                  )}
                </div>
              )}
            </div>

            {/* Quick Links */}
            {form.company_website && (
              <div className="border-t pt-4">
                <a
                  href={form.company_website.startsWith('http') ? form.company_website : `https://${form.company_website}`}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="flex items-center text-sm text-blue-600 hover:text-blue-700 font-medium"
                >
                  <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                  </svg>
                  Visit Website
                </a>
              </div>
            )}
          </div>
        </div>

        {/* Main Content */}
        <div className="lg:col-span-3">
          <div className="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
            {/* Card Header */}
            <div className="px-6 py-4 border-b border-gray-200 bg-gray-50">
              <h3 className="text-lg font-semibold text-gray-900">
                {isEditing ? "Edit Company Information" : "Company Information"}
              </h3>
              <p className="text-sm text-gray-600 mt-1">
                {isEditing ? "Update your business details below" : "Complete business details and verification status"}
              </p>
            </div>

            {/* Card Body */}
            <div className="p-6">
              {isEditing ? (
                <form onSubmit={handleSave} className="space-y-6">
                  {/* Company Details Section */}
                  <InfoSection title="Company Details" icon="business">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Company Name *
                        </label>
                        <input
                          name="company_name"
                          value={form.company_name}
                          onChange={handleChange}
                          required
                          placeholder="Enter company name"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Company Type
                        </label>
                        <input
                          name="company_type"
                          value={form.company_type}
                          onChange={handleChange}
                          placeholder="e.g., Technology, Healthcare"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div className="md:col-span-2">
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Company Website
                        </label>
                        <input
                          name="company_website"
                          value={form.company_website}
                          onChange={handleChange}
                          placeholder="https://yourcompany.com"
                          type="url"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                    </div>
                  </InfoSection>

                  {/* Address Section */}
                  <InfoSection title="Company Address" icon="location">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div className="md:col-span-2">
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Address Line 1
                        </label>
                        <input
                          name="address_line1"
                          value={form.address_line1}
                          onChange={handleChange}
                          placeholder="Street address, P.O. box"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div className="md:col-span-2">
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Address Line 2
                        </label>
                        <input
                          name="address_line2"
                          value={form.address_line2}
                          onChange={handleChange}
                          placeholder="Apartment, suite, unit, building, floor, etc."
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          City
                        </label>
                        <input
                          name="city"
                          value={form.city}
                          onChange={handleChange}
                          placeholder="City"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          State
                        </label>
                        <input
                          name="state"
                          value={form.state}
                          onChange={handleChange}
                          placeholder="State / Province"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Country
                        </label>
                        <input
                          name="country"
                          value={form.country}
                          onChange={handleChange}
                          placeholder="Country"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                          Pincode
                        </label>
                        <input
                          name="pincode"
                          value={form.pincode}
                          onChange={handleChange}
                          placeholder="Postal code"
                          className="w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors outline-none"
                        />
                      </div>
                    </div>
                  </InfoSection>

                  {/* Action Buttons */}
                  <div className="flex items-center justify-end gap-3 pt-6 border-t border-gray-200">
                    <button
                      type="button"
                      onClick={handleCancel}
                      className="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center"
                    >
                      <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                      </svg>
                      Save Changes
                    </button>
                  </div>
                </form>
              ) : (
                <div className="space-y-6">
                  {/* Company Details Section */}
                  <InfoSection title="Company Details" icon="business">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <InfoItem 
                        label="Company Name" 
                        value={profile?.company_name}
                        icon="building"
                      />
                      <InfoItem 
                        label="Company Type" 
                        value={profile?.company_type}
                        icon="category"
                      />
                      <InfoItem 
                        label="Website" 
                        value={profile?.company_website}
                        icon="link"
                        isLink={true}
                      />
                      <InfoItem 
                        label="Verification Status" 
                        value={profile?.verified === 1 ? "Verified" : "Pending Verification"}
                        icon="verified"
                        status={profile?.verified === 1 ? "success" : "warning"}
                      />
                    </div>
                  </InfoSection>

                  {/* Address Section */}
                  <InfoSection title="Company Address" icon="location">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <InfoItem 
                        label="Address Line 1" 
                        value={profile?.address_line1}
                        icon="location"
                      />
                      <InfoItem 
                        label="Address Line 2" 
                        value={profile?.address_line2}
                        icon="location"
                      />
                      <InfoItem 
                        label="City" 
                        value={profile?.city}
                        icon="city"
                      />
                      <InfoItem 
                        label="State" 
                        value={profile?.state}
                        icon="region"
                      />
                      <InfoItem 
                        label="Country" 
                        value={profile?.country}
                        icon="country"
                      />
                      <InfoItem 
                        label="Pincode" 
                        value={profile?.pincode}
                        icon="pin"
                      />
                    </div>
                  </InfoSection>

                  {/* Verification & Metadata Section */}
                  {profile && (
                    <InfoSection title="Profile Information" icon="info">
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <InfoItem 
                          label="Verification Notes" 
                          value={profile.verification_notes || "No notes provided"}
                          icon="notes"
                        />
                        <InfoItem 
                          label="Profile Created" 
                          value={profile.created_at ? new Date(profile.created_at).toLocaleDateString('en-US', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric'
                          }) : "—"}
                          icon="calendar"
                        />
                        <InfoItem 
                          label="Last Updated" 
                          value={profile.updated_at ? new Date(profile.updated_at).toLocaleDateString('en-US', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                          }) : "—"}
                          icon="update"
                        />
                      </div>
                    </InfoSection>
                  )}
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

// Info Section Component (keep as is)
function InfoSection({ title, icon, children }) {
  const getIcon = (iconName) => {
    const icons = {
      business: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
      location: "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z",
      info: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
    };
    return icons[icon] || icons.info;
  };

  return (
    <div className="bg-gray-50 rounded-xl p-6">
      <div className="flex items-center mb-4">
        <svg className="w-5 h-5 text-gray-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d={getIcon(icon)} />
        </svg>
        <h4 className="text-lg font-semibold text-gray-900">{title}</h4>
      </div>
      {children}
    </div>
  );
}

// Info Item Component (keep as is)
function InfoItem({ label, value, icon, isLink = false, status }) {
  const getIcon = (iconName) => {
    const icons = {
      building: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
      category: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",
      link: "M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1",
      verified: "M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",
      location: "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",
      city: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
      region: "M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      country: "M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      pin: "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",
      notes: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",
      calendar: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",
      update: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
    };
    return icons[icon] || icons.info;
  };

  const getStatusColor = (status) => {
    const colors = {
      success: "text-green-600 bg-green-100",
      warning: "text-yellow-600 bg-yellow-100",
      error: "text-red-600 bg-red-100"
    };
    return colors[status] || "text-gray-600 bg-gray-100";
  };

  return (
    <div>
      <dt className="flex items-center text-sm font-medium text-gray-600 mb-2">
        <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d={getIcon(icon)} />
        </svg>
        {label}
      </dt>
      <dd className="ml-6">
        {isLink && value && value !== "Not provided" ? (
          <a
            href={value.startsWith('http') ? value : `https://${value}`}
            target="_blank"
            rel="noopener noreferrer"
            className="text-blue-600 hover:text-blue-700 font-medium text-sm truncate block"
          >
            {value}
          </a>
        ) : status ? (
          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(status)}`}>
            {value}
          </span>
        ) : (
          <span className="text-gray-900 font-medium text-sm">{value || "Not provided"}</span>
        )}
      </dd>
    </div>
  );
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\protected\ProtectedRoute.jsx ===
import { Navigate, useLocation } from "react-router-dom";
import { useState, useEffect } from "react";
import api from "../components/apiconfig/apiconfig";

export default function ProtectedRoute({ children, roles }) {
  const [loading, setLoading] = useState(true);
  const [user, setUser] = useState(null);
  const location = useLocation();

  useEffect(() => {
    let alive = true;
    (async () => {
      try {
        const { data } = await api.get("/auth/authcheck");
        if (alive) setUser(data?.user || null);
      } catch (e) {
        if (alive) setUser(null);
      } finally {
        if (alive) setLoading(false);
      }
    })();
    return () => {
      alive = false;
    };
  }, []);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  // If user is not logged in, redirect to login
  if (!user) {
    // For admin routes, redirect to admin signin
    if (location.pathname.startsWith('/admin')) {
      return <Navigate to="/admin/signin" replace state={{ from: location }} />;
    }
    return <Navigate to="/sign-in" replace state={{ from: location }} />;
  }

  const role = user?.role;
  
  // Check if user has required role
  // Treat "candidate" and "user" as equivalent for backward compatibility
  const normalizedRole = role === "candidate" ? "user" : role;
  const normalizedRoles = roles?.map(r => r === "candidate" ? "user" : r) || [];
  const hasAccess = normalizedRoles.length === 0 || normalizedRoles.includes(normalizedRole);
  
  if (roles && roles.length > 0 && !hasAccess) {
    // If user tries to access wrong role's pages, redirect them to appropriate page
    if (role === "admin") {
      return <Navigate to="/admin-dashboard" replace />;
    } else if (role === "recruiter") {
      return <Navigate to="/recruiter-dashboard" replace />;
    } else {
      return <Navigate to="/home" replace />;
    }
  }

  // Authenticated + allowed role → Show protected content
  return children;
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\src\routes\router.jsx ===
import React from "react";
import { createBrowserRouter, Navigate } from "react-router-dom";
import ProtectedRoute from "../protected/ProtectedRoute.jsx";

// Import Layouts
import GuestLayout from "../components/layout/guest-layout/GuestLayout.jsx";
import CandidateLayout from "../components/layout/candidate-layout/CandidateLayout.jsx";
import RecruiterLayout from "../components/layout/recruiter-layout/RecruiterLayout.jsx";
import AdminLayout from "../components/layout/admin-layout/AdminLayout.jsx";

// Import Public/Guest Components (renamed)
import Home from "../modules/guest/Home.jsx";
import Companies from "../modules/guest/companies/companies.jsx";
import CareerGuide from "../modules/guest/guide/career-guide.jsx";
import Jobs from "../modules/guest/jobs/job-list.jsx";
import JobDetail from "../modules/guest/jobs/job-list-details.jsx";
import Profile from "../components/profile/profile.jsx";

// Import Auth Components (Candidate/Recruiter - Google Login Only)
import SignIn from "../modules/auth/candidate-recruiter/SignIn.jsx";
import SignUp from "../modules/auth/candidate-recruiter/SignUp.jsx";
import Forgot from "../modules/auth/candidate-recruiter/Forgot.jsx";
import SignInModal from "../modules/auth/candidate-recruiter/SignInModal.jsx";

// Import Candidate Dashboard Components (renamed paths)
import Dashboard from "../modules/candidate/dashboard/home.jsx";
import UserProfile from "../modules/candidate/dashboard/profile.jsx";
import Saved from "../modules/candidate/jobs/saved-list.jsx";
import Applied from "../modules/candidate/jobs/applied-list.jsx";

// Import Recruiter Components
import RecruiterDashboard from "../modules/recruiter/home/home.jsx";
import RecruiterPostJob from "../modules/recruiter/jobs/job-post.jsx";
import JobPosted from "../modules/recruiter/jobs/job-posted.jsx";
import JobApplicants from "../modules/recruiter/jobs/Job-response-list.jsx";
import RecruiterProfile from "../modules/recruiter/profile/recruiter-profile.jsx";
import RecruiterProfileForm from "../modules/recruiter/profile/recruiter-profile-form.jsx";

// Import Admin Auth Components (Username/Password Login)
import AdminSignIn from "../modules/auth/admin/SignIn.jsx";
import AdminSignUp from "../modules/auth/admin/SignUp.jsx";
import AdminDashboard from "../modules/admin/dashboard/dashboard.jsx";
import AdminUsers from "../modules/admin/candidate/candidate-list.jsx";
import AdminRecruiters from "../modules/admin/recruiter/recruiters-list.jsx";
import AdminJobs from "../modules/admin/jobs/jobs-list.jsx";
import PendingRecruiters from "../modules/admin/recruiter/pending-recruiters.jsx";
import VerifiedRecruiters from "../modules/admin/recruiter/verified-recruiters.jsx";
import PendingJobs from "../modules/admin/approval-management/pending-jobs-list.jsx";
import ApprovedJobs from "../modules/admin/approval-management/approval-job-list.jsx";
import ClosedJobs from "../modules/admin/approval-management/closed-jobs-list.jsx";
import RejectedJobs from "../modules/admin/approval-management/rejected-jobs.jsx";

// Define application routes
const router = createBrowserRouter([
  // ================= GUEST/PUBLIC ROUTES (Navbar + Footer) =================
  {
    path: "/",
    element: <GuestLayout />,
    children: [
      { index: true, element: <Navigate to="/home" replace /> },

      // Public pages (accessible without login)
      { path: "home", element: <Home /> },
      { path: "companies", element: <Companies /> },
      { path: "career-guide", element: <CareerGuide /> },
      { path: "jobs", element: <Jobs /> },
      { path: "jobs/:id", element: <JobDetail /> },

      // Auth pages (accessible without login) - No footer on these
      { path: "sign-in", element: <SignIn /> },
      { path: "sign-up", element: <SignUp /> },
      { path: "forgot", element: <Forgot /> },
      { path: "sign-in-modal", element: <SignInModal /> },

      // Admin Auth pages (accessible without login)
      { path: "admin/signin", element: <AdminSignIn /> },
      { path: "admin/signup", element: <AdminSignUp /> },

      // Profile - Public
      { path: "profile", element: <Profile /> },

      { path: "*", element: <Navigate to="/home" replace /> },
    ],
  },

  // ================= CANDIDATE/USER ROUTES WITH SIDEBAR =================
  {
    path: "/",
    element: (
      <ProtectedRoute roles={["user", "candidate"]}>
        <CandidateLayout />
      </ProtectedRoute>
    ),
    children: [
      {
        path: "dashboard",
        element: <Dashboard />,
      },
      {
        path: "dashboard/profile",
        element: <UserProfile />,
      },
      {
        path: "dashboard/saved",
        element: <Saved />,
      },
      {
        path: "dashboard/applied",
        element: <Applied />,
      },
    ],
  },

  // ================= RECRUITER ROUTES WITH SIDEBAR =================
  {
    path: "/",
    element: (
      <ProtectedRoute roles={["recruiter"]}>
        <RecruiterLayout />
      </ProtectedRoute>
    ),
    children: [
      {
        path: "recruiter-dashboard",
        element: <RecruiterDashboard />,
      },
      {
        path: "recruiter-profile",
        element: <RecruiterProfile />,
      },
      {
        path: "recruiter-profile-form",
        element: <RecruiterProfileForm />,
      },
      {
        path: "create-job",
        element: <RecruiterPostJob />,
      },
      {
        path: "job-posted",
        element: <JobPosted />,
      },
      {
        path: "recruiter/jobs/:jobId/applicants",
        element: <JobApplicants />,
      },
    ],
  },

  // ================= ADMIN ROUTES WITH SIDEBAR =================
  {
    path: "admin",
    element: (
      <ProtectedRoute roles={["admin"]}>
        <AdminLayout />
      </ProtectedRoute>
    ),
    children: [
      { index: true, element: <AdminDashboard /> },
      { path: "users", element: <AdminUsers /> },
      { path: "recruiters", element: <AdminRecruiters /> },
      { path: "jobs", element: <AdminJobs /> },
      { path: "pending-recruiters", element: <PendingRecruiters /> },
      { path: "verified-recruiters", element: <VerifiedRecruiters /> },
      { path: "pending-jobs", element: <PendingJobs /> },
      { path: "approved-jobs", element: <ApprovedJobs /> },
      { path: "closed-jobs", element: <ClosedJobs /> },
      { path: "rejected-jobs", element: <RejectedJobs /> },
    ],
  },
]);

export default router;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\tailwind.config.js ===
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          DEFAULT: '#1769E0',
          light: '#2E8CFF',
        },
        chip: {
          bg: '#E8F1FF',
        },
        bg: '#F5F7FA',
        text: {
          dark: '#111111',
          muted: '#555555',
        },
        border: '#E5E7EB',
        highlight: '#F7C948',
      },
      fontFamily: {
        sans: ['Inter', 'Poppins', 'system-ui', 'sans-serif'],
      },
      borderRadius: {
        'card': '12px',
        'button': '10px',
        'chip': '20px',
      },
      boxShadow: {
        'soft': '0 2px 8px rgba(0, 0, 0, 0.08)',
      },
    },
  },
  plugins: [],
}
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\client\vite.config.js ===
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\server.js ===
require('dotenv').config();
const express = require('express');
const cors = require('cors');
const cookieParser = require('cookie-parser');

const app = express();

// Middlewares
app.use(cors({
  origin: [
    process.env.CLIENT_ORIGIN,
    'http://localhost:3000', 
    'http://localhost:5173'
  ].filter(Boolean),
  credentials: true
}));

app.use(cookieParser());
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true }));

// Health check
app.get('/api/health', (req, res) => {
  res.json({ 
    status: 'OK', 
    environment: process.env.NODE_ENV || 'development' 
  });
});

// API Routes
const routes = require('./src/routes/routes');
app.use('/api', routes);

// API 404 handler
app.use((req, res) => {
  if (req.path?.startsWith('/api/')) {
    res.status(404).json({ 
      success: false,
      error: 'Endpoint not found'
    });
  }
});

// Error handler
app.use((err, req, res, next) => {
  console.error('Server Error:', err.message);
  
  res.status(500).json({ 
    success: false,
    error: 'Internal server error'
  });
});

// Start server
const PORT = process.env.PORT || 5000;
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});

module.exports = app;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\auth\google-auth.js ===
const { OAuth2Client } = require('google-auth-library');
const jwt = require('jsonwebtoken');
const pool = require('../config/db');

/**
 * signToken(payload)
 * -------------------
 * Helper function to generate a JSON Web Token.
 */
function signToken(payload) {
  const secret = process.env.JWT_SECRET;
  const expiresIn = process.env.JWT_EXPIRES_IN || '7d';
  return jwt.sign(payload, secret, { expiresIn });
}

/**
 * POST /api/auth/google
 * ---------------------
 * Steps:
 * 1. Verify Google ID token from client.
 * 2. Extract user info (email, name, google_id).
 * 3. Check if user exists by email or google_id.
 * 4. If exists: update last_login and google_id if needed, then login.
 * 5. If not exists: create new user with role from request body.
 * 6. Generate JWT token and set cookie.
 * 7. Return user details.
 */
async function googleAuth(req, res) {
  try {
    const { credential, role } = req.body || {};

    if (!credential) {
      return res.status(400).json({ message: 'Google credential token is required' });
    }

    // Validate role (default to 'candidate' if not provided or invalid)
    // Store 'recruiter' for recruiters, 'candidate' for candidates
    const userRole = (role === 'recruiter' ? 'recruiter' : 'candidate');

    // Initialize Google OAuth client
    const client = new OAuth2Client(process.env.GOOGLE_CLIENT_ID);

    // Verify the Google ID token
    let ticket;
    try {
      ticket = await client.verifyIdToken({
        idToken: credential,
        audience: process.env.GOOGLE_CLIENT_ID,
      });
    } catch (err) {
      console.error('Google token verification error:', err);
      return res.status(401).json({ message: 'Invalid Google token' });
    }

    const payload = ticket.getPayload();
    const { email, name, sub: googleId } = payload;

    if (!email) {
      return res.status(400).json({ message: 'Email not provided by Google' });
    }

    // Get DB connection
    const conn = await pool.getConnection();
    try {
      // Check if user exists by email or google_id
      const [existing] = await conn.execute(
        'SELECT id, email, name, role, google_id, auth_provider FROM users WHERE email = ? OR google_id = ? LIMIT 1',
        [email, googleId]
      );

      let user;

      if (existing.length) {
        console.log('User exists - updating last_login and google_id/auth_provider if needed');
        // User exists - update last_login and google_id/auth_provider if needed
        const existingUser = existing[0];
        const updates = [];
        const values = [];

        // Update google_id if not set
        if (!existingUser.google_id) {
          updates.push('google_id = ?');
          values.push(googleId);
        }

        // Update auth_provider if not set
        if (!existingUser.auth_provider || existingUser.auth_provider !== 'google') {
          updates.push('auth_provider = ?');
          values.push('google');
        }

        // Update name if changed
        if (name && existingUser.name !== name) {
          updates.push('name = ?');
          values.push(name);
        }

        // Always update last_login
        updates.push('last_login = NOW()');
        values.push(existingUser.id);

        if (updates.length > 1) {
          // More than just last_login
          await conn.execute(
            `UPDATE users SET ${updates.join(', ')} WHERE id = ?`,
            values
          );
        } else {
          // Only last_login
          await conn.execute(
            'UPDATE users SET last_login = NOW() WHERE id = ?',
            [existingUser.id]
          );
        }

        // Fetch updated user
        const [updated] = await conn.execute(
          'SELECT id, email, name, role FROM users WHERE id = ?',
          [existingUser.id]
        );
        user = updated[0];
      } else {
        console.log('New user - creating account with role:', userRole);
        // New user - create account with role from frontend (userRole)
        const randomPassword = require('crypto').randomBytes(32).toString('hex');
        const passwordHash = await require('bcryptjs').hash(randomPassword, 10);

        const [result] = await conn.execute(
          'INSERT INTO users (email, name, password_hash, role, google_id, auth_provider, last_login) VALUES (?, ?, ?, ?, ?, ?, NOW())',
          [email, name || email.split('@')[0], passwordHash, userRole, googleId, 'google']
        );

        user = {
          id: result.insertId,
          email,
          name: name || email.split('@')[0],
          role: userRole,
        };
      }

      // Generate JWT token
      const token = signToken({
        sub: user.id,
        email: user.email,
        role: user.role,
      });

      // Set secure HttpOnly cookie
      const isProd = process.env.NODE_ENV === 'production';
      res.cookie('token', token, {
        httpOnly: true,
        secure: isProd,
        sameSite: isProd ? 'none' : 'lax',
        maxAge: 7 * 24 * 60 * 60 * 1000, // 7 days
      });

      return res.json({
        user,
        token,
        message: 'Google authentication successful',
      });
    } finally {
      conn.release();
    }
  } catch (err) {
    console.error('Google auth error:', err);
    return res.status(500).json({ message: 'Internal server error' });
  }
}

module.exports = googleAuth;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\auth\logout.js ===
async function  logout(req, res) {
  try {
    const isProd = process.env.NODE_ENV === 'production';
    // Clear cookie by using clearCookie with same options used when setting it
    res.clearCookie('token', {
      httpOnly: true,
      secure: isProd,
      sameSite: isProd ? 'none' : 'lax',
      path: '/',
    });

    return res.json({ message: 'Logged out' });
  } catch (err) {
    console.error('Logout error', err);
    return res.status(500).json({ message: 'Internal server error' });
  }
};
module.exports = logout;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\auth\sign-in.js ===
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const pool = require('../config/db');

/**
 * signToken(payload)
 * -------------------
 * Helper function to generate a JSON Web Token.
 * - payload: data stored inside the token (user ID, username, role).
 * - expiresIn: defaults to 7 days if not provided.
 */
function signToken(payload) {
  const secret = process.env.JWT_SECRET;
  const expiresIn = process.env.JWT_EXPIRES_IN || '7d';
  return jwt.sign(payload, secret, { expiresIn });
}

/**
 * POST /api/auth/login
 * ---------------------
 * Steps:
 * 1. Validate body input.
 * 2. Fetch user by email.
 * 3. Compare input password with stored password hash.
 * 4. Update last_login timestamp.
 * 5. Generate JWT token.
 * 6. Set authentication cookie.
 * 7. Return logged-in user details.
 */
async function signIn(req, res) {
  try {
    const { identifier, password } = req.body || {};

    // identifier is email (username removed from schema)
    if (!identifier || !password) {
      return res.status(400).json({ message: 'email and password are required' });
    }

    // Get DB connection from pool
    const conn = await pool.getConnection();
    try {
      /**
       * Step 1: Look up user by email
       * ------------------------------
       * Email is the identifier now (username removed).
       */
      const [rows] = await conn.execute(
        'SELECT id, name, email, role, password_hash FROM users WHERE email = ? LIMIT 1',
        [identifier]
      );

      // User not found
      if (!rows.length) {
        return res.status(401).json({ message: 'Invalid credentials' });
      }

      const userRow = rows[0];

      /**
       * Step 2: Compare input password with stored hash
       * ------------------------------------------------
       * bcrypt.compare() returns true if passwords match.
       */
      const valid = await bcrypt.compare(password, userRow.password_hash);
      if (!valid) {
        return res.status(401).json({ message: 'Invalid credentials' });
      }

      /**
       * Step 3: Update last_login timestamp
       */
      await conn.execute(
        'UPDATE users SET last_login = NOW() WHERE id = ?',
        [userRow.id]
      );

      /**
       * Step 4: Prepare safe user object (never send password_hash)
       */
      const user = {
        id: userRow.id,
        name: userRow.name,
        email: userRow.email,
        role: userRow.role,
      };

      /**
       * Step 5: Generate JWT token
       * ---------------------------
       * Payload includes:
       *  - sub (ID)
       *  - email
       *  - role
       */
      const token = signToken({
        sub: user.id,
        email: user.email,
        role: user.role,
      });

      /**
       * Step 5: Set secure HttpOnly cookie
       * ----------------------------------
       * - httpOnly: JS cannot read it (protects against XSS)
       * - secure: only works over HTTPS in production
       * - sameSite:
       *     - "none" for cross-site cookies in production
       *     - "lax" for local development
       */
      const isProd = process.env.NODE_ENV === 'production';
      res.cookie('token', token, {
        httpOnly: true,
        secure: isProd,
        sameSite: isProd ? 'none' : 'lax',
        maxAge: 7 * 24 * 60 * 60 * 1000, // 7 days
      });

      return res.json({
        user,
        token,
        message: 'Login successful',
      });

    } finally {
      // Always release DB connection
      conn.release();
    }

  } catch (err) {
    console.error('Login error', err);
    return res.status(500).json({ message: 'Internal server error' });
  }
}

module.exports = signIn;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\auth\sign-up.js ===
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const pool = require('../config/db');

/**
 * signToken(payload)
 * -------------------
 * Utility function to generate a signed JSON Web Token.
 *
 * - payload: Data we store in the token (sub, username, role).
 * - secret: Loaded from environment variable JWT_SECRET.
 * - expiresIn: Token expiry (default 7 days).
 */
function signToken(payload) {
  const secret = process.env.JWT_SECRET;
  const expiresIn = process.env.JWT_EXPIRES_IN || '7d';
  return jwt.sign(payload, secret, { expiresIn });
}

/**
 * POST /api/auth/signup
 * ----------------------
 * Steps:
 * 1. Validate required input fields.
 * 2. Enforce role safety (only "recruiter" or default to "user").
 * 3. Get DB connection from pool.
 * 4. Check if user already exists (email OR username).
 * 5. Hash the password using bcrypt.
 * 6. Insert new user into database.
 * 7. Generate JWT token for authentication.
 * 8. Set HttpOnly cookie containing the token.
 * 9. Return newly created user.
 */
async function signUp(req, res) {
  try {
    // Extract fields from request body
    const { name, email, password, role: inputRole } = req.body || {};

    // Basic input validation
    if (!name || !email || !password) {
      return res.status(400).json({ message: 'name, email and password are required' });
    }

    // Prevent clients from setting arbitrary roles
    const role = (inputRole === 'recruiter' ? 'recruiter' : 'user');

    // Get a DB connection from the pool
    const conn = await pool.getConnection();
    try {
      /**
       * Step 1: Check if user already exists
       * -------------------------------------
       * Check by email only (username removed from schema)
       */
      const [existing] = await conn.execute(
        'SELECT id FROM users WHERE email = ? LIMIT 1',
        [email]
      );

      if (existing.length) {
        return res.status(409).json({ message: 'User already exists' });
      }

      /**
       * Step 2: Hash password
       * ----------------------
       * bcrypt.hash(password, 10)
       *  - 10 rounds of salting (standard strength)
       */
      const passwordHash = await bcrypt.hash(password, 10);

      /**
       * Step 3: Insert new user
       * ------------------------
       * Store hashed password, not plain text.
       * Using 'password_hash' column name as per schema.
       */
      const [result] = await conn.execute(
        'INSERT INTO users (name, email, password_hash, role, auth_provider) VALUES (?, ?, ?, ?, ?)',
        [name, email, passwordHash, role, 'local']
      );

      // Build user object for frontend response
      const user = { id: result.insertId, name, email, role };

      /**
       * Step 4: Generate token
       * ------------------------
       * Token contains:
       *  - sub: user ID
       *  - email
       *  - role
       */
      const token = signToken({
        sub: user.id,
        email: user.email,
        role: user.role,
      });

      /**
       * Step 5: Set cookie
       * -------------------
       * Secure cookie settings:
       *  - httpOnly: cannot be accessed via JS (prevents XSS)
       *  - secure: only HTTPS in production
       *  - sameSite:
       *      "none" for cross-site cookies in production
       *      "lax" for local dev
       */
      const isProd = process.env.NODE_ENV === 'production';
      res.cookie('token', token, {
        httpOnly: true,
        secure: isProd,
        sameSite: isProd ? 'none' : 'lax',
        maxAge: 7 * 24 * 60 * 60 * 1000, // 7 days
      });

      // Final response
      return res.status(201).json({
        user,
        token,
        message: 'Signup successful',
      });
    } finally {
      // Always release connection back to pool
      conn.release();
    }
  } catch (err) {
    console.error('Signup error', err);
    return res.status(500).json({ message: 'Internal server error' });
  }
}

module.exports = signUp;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\auth\update.js ===
const pool = require('../config/db');

async function updateProfile(req, res) {
  try {
    const userId = req.user && req.user.id;
    if (!userId) return res.status(401).json({ message: 'Unauthorized' });

    const allowed = ['username', 'email', 'name'];
    const payload = req.body || {};
    const requested = Object.keys(payload).filter(k => allowed.includes(k));
    if (!requested.length) return res.status(400).json({ message: 'No valid fields to update' });

    const conn = await pool.getConnection();
    try {
      // Get actual columns present in users table
      const [cols] = await conn.query('SHOW COLUMNS FROM users');
      const colNames = cols.map(c => c.Field);

      // Only update fields that actually exist
      const toUpdate = requested.filter(f => colNames.includes(f));
      if (!toUpdate.length) return res.status(400).json({ message: 'No updatable fields available' });

      const setParts = toUpdate.map(f => `${f} = ?`).join(', ');
      const values = toUpdate.map(f => payload[f]);
      values.push(userId);

      const sql = `UPDATE users SET ${setParts} WHERE id = ?`;
      await conn.execute(sql, values);

      // Build select list to return updated user
      const base = ['id','username','email','role'];
      const optional = ['name','created_at','last_login'].filter(c => colNames.includes(c));
      const selectCols = base.concat(optional).join(', ');
      const [rows] = await conn.execute(`SELECT ${selectCols} FROM users WHERE id = ? LIMIT 1`, [userId]);
      if (!rows.length) return res.status(404).json({ message: 'User not found' });

      return res.json({ user: rows[0] });
    } finally {
      conn.release();
    }
  } catch (err) {
    console.error('Update profile error', err);
    return res.status(500).json({ message: 'Internal server error' });
  }
}

module.exports = updateProfile;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\config\db.js ===
const mysql = require('mysql2/promise');

/**
 * MySQL Connection Pool
 * ----------------------
 * Purpose:
 *   - Create a reusable pool of MySQL connections.
 *   - Avoid opening a new DB connection for every request (better performance).
 *   - Use async/await because mysql2/promise is being used.
 *
 * Environment Variables (loaded from .env):
 *   - DB_HOST: Database server hostname
 *   - DB_USER: Username for DB authentication
 *   - DB_PASSWORD: Password for DB authentication
 *   - DB_NAME: Database name to connect to
 *
 * Options:
 *   waitForConnections: true
 *       → Queue incoming requests when all connections are busy.
 *
 *   connectionLimit: 10
 *       → Max number of active connections allowed in the pool at once.
 *         (Customize based on server resources.)
 *
 *   queueLimit: 0
 *       → 0 = unlimited queued connection requests.
 */
const pool = mysql.createPool({
  host: process.env.DB_HOST,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME,
  waitForConnections: true,
  connectionLimit: 10,
  queueLimit: 0,
});

// Export pool so other files can run queries using:
// const [rows] = await pool.query("SELECT * FROM users");
module.exports = pool;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\applications.js ===
const path = require("path");
const fs = require("fs");
const multer = require("multer");
const pool = require("../config/db");
const { requireAuth } = require("../../middlewares/auth");

// Ensure upload directory exists
const UPLOAD_DIR = path.join(__dirname, "..", "uploads", "resumes");
if (!fs.existsSync(UPLOAD_DIR)) fs.mkdirSync(UPLOAD_DIR, { recursive: true });

// Multer storage config
const storage = multer.diskStorage({
  destination: (req, file, cb) => cb(null, UPLOAD_DIR),
  filename: (req, file, cb) => {
    const ext = path.extname(file.originalname);
    const base = path.basename(file.originalname, ext).replace(/\s+/g, "_");
    const unique = `${Date.now()}_${Math.round(Math.random() * 1e6)}`;
    cb(null, `${base}_${unique}${ext}`);
  },
});

const upload = multer({
  storage,
  limits: { fileSize: 5 * 1024 * 1024 },
  fileFilter: (req, file, cb) => {
    const allowed = [".pdf", ".doc", ".docx"];
    const ext = path.extname(file.originalname).toLowerCase();
    if (allowed.includes(ext)) cb(null, true);
    else cb(new Error("Only PDF / DOC / DOCX resumes are allowed"));
  },
});

// POST /applications function
const postApplication = async (req, res) => {
  const conn = await pool.getConnection();
  try {
    const userId = req.user && req.user.id;
    if (!userId) {
      return res.status(401).json({ ok: false, error: "Unauthorized" });
    }

    const { job_id, cover_letter } = req.body;
    if (!job_id) {
      return res.status(400).json({ ok: false, error: "job_id is required" });
    }

    // Check if job exists
    const [jobRows] = await conn.query("SELECT id FROM jobs WHERE id = ? LIMIT 1", [job_id]);
    if (jobRows.length === 0) {
      return res.status(404).json({ ok: false, error: "Job not found" });
    }

    // Prevent duplicate application
    const [existing] = await conn.query(
      "SELECT id FROM job_applications WHERE job_id = ? AND user_id = ? LIMIT 1",
      [job_id, userId]
    );
    if (existing.length > 0) {
      return res.status(409).json({ ok: false, error: "You have already applied to this job" });
    }

    const resumePath = req.file ? path.join("uploads", "resumes", req.file.filename) : null;
    const status = "applied";

    const insertSql = `
      INSERT INTO job_applications
        (job_id, user_id, status, cover_letter, resume_path, applied_at, updated_at)
      VALUES (?, ?, ?, ?, ?, NOW(), NOW())
    `;

    const [result] = await conn.query(insertSql, [
      job_id,
      userId,
      status,
      cover_letter || null,
      resumePath,
    ]);

    const insertedId = result.insertId;

    res.status(201).json({
      ok: true,
      application_id: insertedId,
      job_id: Number(job_id),
      user_id: userId,
      status,
      resume_path: resumePath,
    });
  } catch (err) {
    console.error("Apply error:", err);
    // If multer produced file but DB failed, do cleanup
    if (req.file) {
      try {
        fs.unlinkSync(path.join(UPLOAD_DIR, req.file.filename));
      } catch (e) {
        // ignore
      }
    }
    res.status(500).json({ ok: false, error: "Server error", details: err.message });
  } finally {
    conn.release();
  }
};

// Export the upload middleware and postApplication function
module.exports = {
  upload,
  postApplication
};
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\get-jobdetails.js ===
const express = require('express');
const pool = require('../config/db');
const router = express.Router();

async function getjobdetails(req, res)  {
  try {
    const id = parseInt(req.params.id, 10);
    if (Number.isNaN(id)) return res.status(400).json({ ok: false, message: 'Invalid job id' });

    const sql = `
      SELECT
        id,
        title,
        company,
        job_type,
        city,
        locality,
        min_experience,
        max_experience,
        salary,
        vacancies,
        description,
        logo_path,
        created_at,
        contact_email,
        contact_phone,
        interview_address
      FROM jobs
      WHERE id = ?
      LIMIT 1
    `;
    const [rows] = await pool.query(sql, [id]);
    if (!rows || rows.length === 0) return res.status(404).json({ ok: false, message: 'Job not found' });

    const r = rows[0];
    let experiance = 'Not specified';
    if (r.min_experience == null && r.max_experience == null) experiance = 'Fresher';
    else if (r.min_experience != null && r.max_experience == null) experiance = `${r.min_experience}+ yrs`;
    else if (r.min_experience == null && r.max_experience != null) experiance = `Up to ${r.max_experience} yrs`;
    else experiance = `${r.min_experience}-${r.max_experience} yrs`;

    // fetch tags from tag tables if available (silent fallback)
    let tags = [];
    try {
      const [tagRows] = await pool.query(
        `SELECT jtm.job_id, jt.name as tag FROM job_tag_map jtm JOIN job_tags jt ON jt.id = jtm.tag_id WHERE jtm.job_id = ?`,
        [id]
      );
      tags = tagRows.map(tr => tr.tag);
    } catch (e) {
      // ignore if tag tables aren't present
    }

    const job = {
      id: r.id,
      title: r.title,
      company: r.company,
      type: r.job_type || 'Full-time',
      location: r.city + (r.locality ? `, ${r.locality}` : ''),
      tags: tags.length ? tags : (r.skills || '').split(',').map(s => s.trim()).filter(Boolean),
      salary: r.salary || null,
      vacancies: r.vacancies,
      description: r.description,
      logoPath: r.logo_path || null,
      createdAt: r.created_at,
      experiance,
      min_experience: r.min_experience,
      max_experience: r.max_experience,
      contactEmail: r.contact_email || null,
      contactPhone: r.contact_phone || null,
      interviewAddress: r.interview_address || null,
    };

    res.json({ ok: true, job });
  } catch (err) {
    console.error('GET /api/jobs/:id error:', err);
    res.status(500).json({ ok: false, message: 'Internal Server Error' });
  }
};
module.exports = getjobdetails;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\get-jobs.js ===
const express = require('express');
const pool = require('../config/db'); 
const router = express.Router();

function parseSkills(skills) {
  if (!skills) return [];
  return skills.split(',').map(s => s.trim()).filter(Boolean);
}

async function getjobs (req, res) {
  try {
    const limit = Math.max(1, Math.min(100, parseInt(req.query.limit || '10', 10)));
    const sql = `
      SELECT
        id,
        title,
        company,
        job_type,
        city,
        locality,
        min_experience,
        max_experience,
        salary,
        vacancies,
        description,
        logo_path,
        status, -- Add status field
        created_at
      FROM jobs
      WHERE status = 'approved' -- Only show approved jobs
      ORDER BY created_at DESC
      LIMIT ?
    `;
    const [rows] = await pool.query(sql, [limit]);

    // Fetch tags from normalized tables when available (silent fallback)
    let tagMap = {};
    if (Array.isArray(rows) && rows.length) {
      try {
        const ids = rows.map((r) => r.id);
        const placeholders = ids.map(() => '?').join(',');
        const tagSql = `SELECT jtm.job_id, jt.name as tag FROM job_tag_map jtm JOIN job_tags jt ON jt.id = jtm.tag_id WHERE jtm.job_id IN (${placeholders})`;
        const [tagRows] = await pool.query(tagSql, ids);
        tagRows.forEach((tr) => {
          tagMap[tr.job_id] = tagMap[tr.job_id] || [];
          tagMap[tr.job_id].push(tr.tag);
        });
      } catch (e) {
        // silently ignore missing tag tables or errors
      }
    }

    const jobs = rows.map(r => {
      let experiance = 'Not specified';
      if (r.min_experience == null && r.max_experience == null) experiance = 'Fresher';
      else if (r.min_experience != null && r.max_experience == null) experiance = `${r.min_experience}+ yrs`;
      else if (r.min_experience == null && r.max_experience != null) experiance = `Up to ${r.max_experience} yrs`;
      else experiance = `${r.min_experience}-${r.max_experience} yrs`;

      return {
        id: r.id,
        title: r.title,
        company: r.company,
        type: r.job_type || 'Full-time',
        location: r.city + (r.locality ? `, ${r.locality}` : ''),
        tags: tagMap[r.id] || parseSkills(r.skills || r.tags || r.skill || ''),
        salary: r.salary || null,
        vacancies: r.vacancies,
        description: r.description,
        logoPath: r.logo_path || null,
        status: r.status, // Include status
        createdAt: r.created_at,
        experiance,
      };
    });

    res.json({ ok: true, jobs });
  } catch (err) {
    console.error('GET /api/jobs error:', err);
    try {
      const fs = require('fs');
      const path = require('path');
      const dbgPath = path.join(__dirname, '../../../debug_jobs.log');
      const now = new Date().toISOString();
      fs.appendFileSync(dbgPath, `${now} - ERROR: ${err && err.stack ? err.stack : String(err)}\n`);
    } catch (e) {
      // ignore file logging errors
    }
    res.status(500).json({ ok: false, message: 'Internal Server Error' });
  }
};

module.exports = getjobs;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\getapplied.js ===
const pool = require("../../api/config/db");
const { requireAuth } = require("../../middlewares/auth");

// GET /applied-jobs - Get all applied jobs for current login  user
const getAppliedJobs = async (req, res) => {
  const connection = await pool.getConnection();
  
  try {
    const userId = req.user?.id;
    if (!userId) {
      return res.status(401).json({ 
        ok: false, 
        error: "Unauthorized" 
      });
    }

    const sql = `
      SELECT 
        ja.id,
        ja.job_id,
        ja.status,
        ja.applied_at,
        j.title,
        j.company,
        j.job_type,
        j.city,
        j.locality,
        j.salary,
        j.logo_path
      FROM job_applications ja
      JOIN jobs j ON ja.job_id = j.id
      WHERE ja.user_id = ?
      ORDER BY ja.applied_at DESC
    `;

    const [applications] = await connection.query(sql, [userId]);

    res.json({
      ok: true,
      applications: applications,
      count: applications.length
    });

  } catch (err) {
    console.error("Get applied jobs error:", err);
    res.status(500).json({ 
      ok: false, 
      error: "Server error while fetching applications"
    });
  } finally {
    connection.release();
  }
};

module.exports = getAppliedJobs;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\savejobs\checkSavedJob.js ===
const pool = require('../../config/db');

const checkSavedJob = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const userId = req.user.id;
    const { job_id } = req.params;

    const [rows] = await connection.execute(
      'SELECT * FROM saved_jobs WHERE user_id = ? AND job_id = ?',
      [userId, job_id]
    );

    res.json({ 
      success: true, 
      isSaved: rows.length > 0,
      data: rows.length > 0 ? rows[0] : null
    });
  } catch (error) {
    console.error('Check saved job error:', error);
    res.status(500).json({ success: false, message: 'Internal server error' });
  } finally {
    connection.release();
  }
};

module.exports = checkSavedJob;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\savejobs\getSavedJobs.js ===
const pool = require('../../config/db');

const getSavedJobs = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const userId = req.user.id;
  

    // Use the exact column names from my jobs table
    const [rows] = await connection.execute(`
      SELECT 
        sj.job_id,
        sj.saved_at,
        j.id,
        j.title,
        j.company,
        j.job_type as type,
        j.city,
        j.locality,
        j.min_experience,
        j.max_experience,
        j.salary,
        j.vacancies,
        j.description,
        j.logo_path,
        j.created_at
      FROM saved_jobs sj
      LEFT JOIN jobs j ON sj.job_id = j.id
      WHERE sj.user_id = ?
      ORDER BY sj.saved_at DESC
    `, [userId]);

    // Process the jobs to match my frontend format
    const processedJobs = rows.map(job => {
      // Calculate experience string (same as your getjobs API)
      let experience = 'Not specified';
      if (job.min_experience == null && job.max_experience == null) {
        experience = 'Fresher';
      } else if (job.min_experience != null && job.max_experience == null) {
        experience = `${job.min_experience}+ yrs`;
      } else if (job.min_experience == null && job.max_experience != null) {
        experience = `Up to ${job.max_experience} yrs`;
      } else {
        experience = `${job.min_experience}-${job.max_experience} yrs`;
      }

      // Build location (same as my getjobs API)
      const location = job.city + (job.locality ? `, ${job.locality}` : '');

      return {
        job_id: job.job_id,
        saved_at: job.saved_at,
        id: job.id,
        title: job.title || 'Job Title',
        company: job.company || 'Company',
        location: location || 'Location not specified',
        type: job.type || 'Full-time',
        experience: experience,
        salary: job.salary || null,
        description: job.description || '',
        logo_path: job.logo_path || null,
        created_at: job.created_at,
        // Add empty tags array for compatibility
        tags: []
      };
    });

    res.json({ 
      success: true, 
      data: processedJobs,
      count: processedJobs.length
    });
  } catch (error) {
    console.error('Get saved jobs error:', error);
    console.error('Error details:', {
      message: error.message,
      code: error.code,
      sqlMessage: error.sqlMessage
    });
    
    res.status(500).json({ 
      success: false, 
      message: 'Internal server error',
      error: process.env.NODE_ENV === 'development' ? error.message : undefined
    });
  } finally {
    connection.release();
  }
};

module.exports = getSavedJobs;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\savejobs\removeSavedJob.js ===
const pool = require('../../config/db');

const removeSavedJob = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const userId = req.user.id;
    const { job_id } = req.params;

    if (!job_id) {
      return res.status(400).json({ success: false, message: 'Job ID is required' });
    }

    const [result] = await connection.execute(
      'DELETE FROM saved_jobs WHERE user_id = ? AND job_id = ?',
      [userId, job_id]
    );

    if (result.affectedRows === 0) {
      return res.status(404).json({ success: false, message: 'Saved job not found' });
    }

    res.json({ 
      success: true, 
      message: 'Job removed from saved items',
      data: { job_id }
    });
  } catch (error) {
    console.error('Remove saved job error:', error);
    res.status(500).json({ success: false, message: 'Internal server error' });
  } finally {
    connection.release();
  }
};

module.exports = removeSavedJob;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\jobs\savejobs\savedJobs.js ===
const pool = require('../../config/db');

const saveJob = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const userId = req.user.id;
    const { job_id } = req.params; 

    if (!job_id) {
      return res.status(400).json({ success: false, message: 'Job ID is required' });
    }

    // Check if job exists in jobs table
    const [jobExists] = await connection.execute(
      'SELECT id FROM jobs WHERE id = ?',
      [job_id]
    );

    if (jobExists.length === 0) {
      return res.status(404).json({ success: false, message: 'Job not found' });
    }

    // Check if job is already saved
    const [existing] = await connection.execute(
      'SELECT * FROM saved_jobs WHERE user_id = ? AND job_id = ?',
      [userId, job_id]
    );

    if (existing.length > 0) {
      return res.status(409).json({ success: false, message: 'Job already saved' });
    }

    // Save the job
    await connection.execute(
      'INSERT INTO saved_jobs (user_id, job_id, saved_at) VALUES (?, ?, NOW())',
      [userId, job_id]
    );

    res.status(201).json({ 
      success: true, 
      message: 'Job saved successfully',
      data: { user_id: userId, job_id, saved_at: new Date().toISOString() }
    });
  } catch (error) {
    console.error('Save job error:', error);
    res.status(500).json({ success: false, message: 'Internal server error' });
  } finally {
    connection.release();
  }
};

module.exports = saveJob;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-jobs.js ===
const pool = require('../../config/db');

const getAdminJobs = async (req, res) => {
  try {
    const { status } = req.query;
    
    let sql = `
      SELECT 
        j.id,
        j.title,
        j.company,
        j.job_type,
        j.city,
        j.locality,
        j.min_experience,
        j.max_experience,
        j.salary,
        j.vacancies,
        j.description,
        j.contact_email,
        j.contact_phone,
        j.interview_address,
        j.logo_path,
        j.status,
        j.posted_at,
        j.created_at,
        j.updated_at,
        u.email as recruiter_email,
        u.username as recruiter_username,
        rp.company_name
      FROM jobs j
      LEFT JOIN users u ON j.recruiter_id = u.id
      LEFT JOIN recruiter_profiles rp ON j.recruiter_id = rp.user_id
    `;
    
    // Add status filter if provided
    if (status && status !== 'all') {
      sql += ` WHERE j.status = ?`;
    }
    
    sql += ` ORDER BY j.created_at DESC`;
    
    const params = status && status !== 'all' ? [status] : [];
    const [jobs] = await pool.execute(sql, params);

    const jobsWithFormattedData = (jobs || []).map(job => {
      let experience = 'Not specified';
      if (job.min_experience == null && job.max_experience == null) experience = 'Fresher';
      else if (job.min_experience != null && job.max_experience == null) experience = `${job.min_experience}+ yrs`;
      else if (job.min_experience == null && job.max_experience != null) experience = `Up to ${job.max_experience} yrs`;
      else experience = `${job.min_experience}-${job.max_experience} yrs`;

      return {
        ...job,
        experience,
        location: job.city + (job.locality ? `, ${job.locality}` : '')
      };
    });

    res.json({
      success: true,
      jobs: jobsWithFormattedData
    });
  } catch (error) {
    console.error('Admin get jobs error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  }
};

module.exports = getAdminJobs;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-login.js ===
const pool = require('../../../api/config/db');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');

const adminLogin = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const { email, password } = req.body;

    if (!email || !password) {
      return res.status(400).json({
        success: false,
        message: 'Email and password are required'
      });
    }

    // Find admin by email
    const [admins] = await connection.execute(
      'SELECT * FROM admins WHERE email = ?',
      [email]
    );

    if (admins.length === 0) {
      return res.status(401).json({
        success: false,
        message: 'Invalid email or password'
      });
    }

    const admin = admins[0];

    // Verify password
    const isPasswordValid = await bcrypt.compare(password, admin.password_hash);
    if (!isPasswordValid) {
      return res.status(401).json({
        success: false,
        message: 'Invalid email or password'
      });
    }

    // Generate JWT token
    const token = jwt.sign(
      {
        sub: admin.admin_id,
        email: admin.email,
        role: 'admin',
        full_name: admin.full_name
      },
      process.env.JWT_SECRET,
      { expiresIn: '7d' }
    );

    // Set HTTP-only cookie
    res.cookie('token', token, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 7 * 24 * 60 * 60 * 1000 // 7 days
    });

    res.json({
      success: true,
      message: 'Admin login successful',
      user: {
        id: admin.admin_id,
        email: admin.email,
        full_name: admin.full_name,
        role: 'admin'
      }
    });

  } catch (error) {
    console.error('Admin login error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  } finally {
    if (connection) connection.release();
  }
};

module.exports = adminLogin;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-logout.js ===
const adminLogout = (req, res) => {
  res.clearCookie('token');
  res.json({
    success: true,
    message: 'Admin logged out successfully'
  });
};

module.exports = adminLogout;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-recruiters.js ===
const pool = require('../../config/db');

const getAdminRecruiters = async (req, res) => {
  try {
    const [recruiters] = await pool.execute(`
      SELECT 
        rp.user_id,
        rp.company_name,
        rp.company_website,
        rp.company_type,
        rp.address_line1,
        rp.address_line2,
        rp.city,
        rp.state,
        rp.country,
        rp.pincode,
        rp.status,
        rp.verification_notes,
        rp.created_at,
        rp.updated_at,
        u.email,
        u.username
      FROM recruiter_profiles rp
      LEFT JOIN users u ON rp.user_id = u.id
      ORDER BY rp.created_at DESC
    `);

    // Map status to verified for frontend compatibility
    const recruitersWithVerified = recruiters.map(recruiter => ({
      ...recruiter,
      verified: recruiter.status === 'approved' ? 1 : 0  // Add verified field (1 or 0)
    }));

    res.json({
      success: true,
      recruiters: recruitersWithVerified || []
    });
  } catch (error) {
    console.error('Admin get recruiters error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  }
};

module.exports = getAdminRecruiters;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-register.js ===
const pool = require('../../../api/config/db');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');

const adminRegister = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const { full_name, email, phone, password } = req.body;

    // Validation
    if (!full_name || !email || !password) {
      return res.status(400).json({
        success: false,
        message: 'Full name, email, and password are required'
      });
    }

    // Check if admin already exists
    const [existingAdmins] = await connection.execute(
      'SELECT admin_id FROM admins WHERE email = ?',
      [email]
    );

    if (existingAdmins.length > 0) {
      return res.status(409).json({
        success: false,
        message: 'Admin with this email already exists'
      });
    }

    // Hash password
    const saltRounds = 12;
    const password_hash = await bcrypt.hash(password, saltRounds);

    // Insert admin
    const [result] = await connection.execute(
      'INSERT INTO admins (full_name, email, phone, password_hash) VALUES (?, ?, ?, ?)',
      [full_name, email, phone || null, password_hash]
    );

    // Generate JWT token
    const token = jwt.sign(
      {
        sub: result.insertId,
        email: email,
        role: 'admin',
        full_name: full_name
      },
      process.env.JWT_SECRET,
      { expiresIn: '7d' }
    );

    // Set HTTP-only cookie
    res.cookie('token', token, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 7 * 24 * 60 * 60 * 1000 // 7 days
    });

    res.status(201).json({
      success: true,
      message: 'Admin registered successfully',
      admin: {
        admin_id: result.insertId,
        full_name,
        email,
        phone
      }
    });

  } catch (error) {
    console.error('Admin register error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  } finally {
    if (connection) connection.release();
  }
};

module.exports = adminRegister;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-update-job-status.js ===
const pool = require('../../config/db');

const updateJobStatus = async (req, res) => {
  try {
    const { jobId } = req.params;
    const { status } = req.body;
    
    // Validate status
    const validStatuses = ['draft', 'pending', 'approved', 'rejected', 'closed'];
    if (!validStatuses.includes(status)) {
      return res.status(400).json({
        success: false,
        message: `Invalid status. Must be one of: ${validStatuses.join(', ')}`
      });
    }

    await pool.execute(
      'UPDATE jobs SET status = ?, updated_at = NOW() WHERE id = ?',
      [status, jobId]
    );

    res.json({
      success: true,
      message: `Job status updated to ${status} successfully`
    });
  } catch (error) {
    console.error('Admin update job status error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  }
};

module.exports = updateJobStatus;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-users.js ===
const pool = require('../../config/db');

const getAdminUsers = async (req, res) => {
  try {
    const [users] = await pool.execute(`
      SELECT 
        up.user_id,
        up.full_name,
        up.phone,
        up.city,
        up.state,
        up.country,
        up.experience_years,
        up.highest_education,
        up.created_at,
        u.email,
        u.username
      FROM candidate_profiles up
      LEFT JOIN users u ON up.user_id = u.id
      ORDER BY up.created_at DESC
    `);
// Send response
    res.json({
      success: true,
      users: users || []
    });
  } catch (error) {
    console.error('Admin get users error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  }
};

module.exports = getAdminUsers;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\admin\admin-verify-recruiter.js ===
const pool = require('../../config/db');

const verifyRecruiter = async (req, res) => {
  try {
    const { recruiterId } = req.params;
    const { verified } = req.body; // 0 or 1

    if (typeof verified === 'undefined') {
      return res.status(400).json({
        success: false,
        message: 'verified field is required (0 or 1)'
      });
    }

    // Convert verified (0/1) to status
    const status = verified === 1 ? 'approved' : 'pending';
    
    await pool.execute(
      'UPDATE recruiter_profiles SET status = ? WHERE user_id = ?',
      [status, recruiterId]
    );

    res.json({
      success: true,
      message: `Recruiter ${verified === 1 ? 'verified' : 'unverified'} successfully`
    });
  } catch (error) {
    console.error('Admin verify recruiter error:', error);
    res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  }
};

module.exports = verifyRecruiter;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\candidate\candidate-get.js ===
const express = require('express');
const router = express.Router();
const pool = require('../../config/db');
const { requireAuth } = require('../../../middlewares/auth');

const getCandidateProfile = async (req, res) => {
  const connection = await pool.getConnection();
  try {
    const userId = req.user?.id;
    if (!userId) return res.status(401).json({ success: false, message: 'Unauthorized' });

    const [rows] = await connection.execute('SELECT * FROM candidate_profiles WHERE user_id = ?', [userId]);
    if (!rows || rows.length === 0) return res.status(404).json({ success: false, message: 'Profile not found' });

    res.json({ success: true, user: rows[0] });
  } catch (error) {
    console.error('GET profile error:', error);
    res.status(500).json({ success: false, message: 'Internal server error' });
  } finally {
    connection.release();
  }
};

module.exports = getCandidateProfile;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\candidate\candidate-put.js ===

const pool = require('../../config/db');
/**
 * Handler: Create or update user profile.
 * Exported as a const so you can attach it to a route elsewhere:
 *   router.put('/user', requireAuth, user);
 */
const candidateProfile = async (req, res) => {
  const connection = await pool.getConnection();

  try {
    // If you expect requireAuth to run before this handler, req.user should exist.
    // If not present, respond with 401 so caller knows to apply auth middleware.
    const authUserId = req.user?.id;
    if (!authUserId && !req.body?.user_id) {
      return res.status(401).json({
        success: false,
        message: 'Unauthorized: missing authenticated user. Apply requireAuth or send user_id in body.'
      });
    }

    const {
      user_id, // optional fallback if caller supplies it
      full_name,
      phone,
      city,
      state,
      country,
      experience_years,
      highest_education,
      resume_path,
      linkedin_url,
      portfolio_url
    } = req.body;

    const finalUserId = authUserId || user_id;
    if (!finalUserId) {
      return res.status(400).json({
        success: false,
        message: 'User ID is required (ensure authentication or provide user_id in request body).'
      });
    }

    if (!full_name || !phone) {
      return res.status(400).json({
        success: false,
        message: 'Full name and phone are required.'
      });
    }

    await connection.beginTransaction();

    // Check if profile exists
    const [existingProfiles] = await connection.execute(
      'SELECT user_id FROM candidate_profiles WHERE user_id = ?',
      [finalUserId]
    );

    const now = new Date();

    if (existingProfiles.length > 0) {
      // Update existing profile
      await connection.execute(
        `UPDATE candidate_profiles
         SET full_name = ?, phone = ?, city = ?, state = ?, country = ?,
             experience_years = ?, highest_education = ?, resume_path = ?,
             linkedin_url = ?, portfolio_url = ?, updated_at = ?
         WHERE user_id = ?`,
        [
          full_name,
          phone,
          city || null,
          state || null,
          country || null,
          experience_years || 0,
          highest_education || null,
          resume_path || null,
          linkedin_url || null,
          portfolio_url || null,
          now,
          finalUserId
        ]
      );

      await connection.commit();

      const [updatedProfiles] = await connection.execute(
        'SELECT * FROM candidate_profiles WHERE user_id = ?',
        [finalUserId]
      );

      return res.json({
        success: true,
        message: 'Profile updated successfully',
        user: updatedProfiles[0]
      });
    } else {
      // Create new profile
      await connection.execute(
        `INSERT INTO candidate_profiles
         (user_id, full_name, phone, city, state, country, experience_years,
          highest_education, resume_path, linkedin_url, portfolio_url, created_at, updated_at)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
        [
          finalUserId,
          full_name,
          phone,
          city || null,
          state || null,
          country || null,
          experience_years || 0,
          highest_education || null,
          resume_path || null,
          linkedin_url || null,
          portfolio_url || null,
          now,
          now
        ]
      );

      await connection.commit();

      const [newProfiles] = await connection.execute(
        'SELECT * FROM candidate_profiles WHERE user_id = ?',
        [finalUserId]
      );

      return res.status(201).json({
        success: true,
        message: 'Profile created successfully',
        user: newProfiles[0]
      });
    }
  } catch (error) {
    try { await connection.rollback(); } catch (e) { /* ignore rollback error */ }
    console.error('Profile handler error:', error);
    return res.status(500).json({
      success: false,
      message: 'Internal server error',
      // expose error.message only in development if you want
    });
  } finally {
    if (connection) connection.release();
  }
};

module.exports = candidateProfile;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\recruiter\get-recruiter.js ===
const pool = require("../../config/db");

async function getRecruiterProfile(req, res) {
  try {
    const userId = req.user?.id;
    if (!userId) {
      return res.status(401).json({
        success: false,
        message: "Unauthorized: User not authenticated."
      });
    }

    const [rows] = await pool.execute(
      `SELECT *
       FROM recruiter_profiles
       WHERE user_id = ?`,
      [userId]
    );

    if (rows.length === 0) {
      return res.status(404).json({
        success: false,
        message: "Recruiter profile not found."
      });
    }

    // Add verified field for frontend compatibility
    const recruiterData = rows[0];
    recruiterData.verified = recruiterData.status === 'approved' ? 1 : 0;

    return res.json({
      success: true,
      recruiter: recruiterData
    });

  } catch (err) {
    console.error("GET recruiter profile error:", err);
    return res.status(500).json({
      success: false,
      message: "Internal server error."
    });
  }
}

module.exports = getRecruiterProfile;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\profile\recruiter\recruiter-put.js ===
const pool = require('../../config/db');
const ALLOWED_COMPANY_TYPES = ['company', 'consultancy', 'startup'];
const ALLOWED_STATUSES = ['pending', 'approved', 'rejected'];

const recruiterProfile = async (req, res) => {
  let connection;
  try {
    connection = await pool.getConnection();

    const authUserId = req.user?.id;
    const {
      user_id,
      company_name,
      company_website,
      company_type,
      address_line1,
      address_line2,
      city,
      state,
      country,
      pincode,
      verified,  // Keep verified for frontend (0 or 1)
      verification_notes
    } = req.body;

    const finalUserId = authUserId || user_id;
    if (!finalUserId) {
      return res.status(401).json({
        success: false,
        message: 'Unauthorized: missing authenticated user.'
      });
    }

    if (!company_name) {
      return res.status(400).json({
        success: false,
        message: 'company_name is required.'
      });
    }

    if (company_type && !ALLOWED_COMPANY_TYPES.includes(company_type)) {
      return res.status(400).json({
        success: false,
        message: `company_type must be one of: ${ALLOWED_COMPANY_TYPES.join(', ')}.`
      });
    }

    // Convert verified (0/1) to status
    let statusValue = null;
    if (typeof verified !== 'undefined' && verified !== null) {
      // Convert verified number to status string
      if (verified === 1 || verified === '1' || verified === true) {
        statusValue = 'approved';
      } else if (verified === 0 || verified === '0' || verified === false) {
        statusValue = 'pending';
      }
    }

    await connection.beginTransaction();

    const [existing] = await connection.execute(
      'SELECT user_id FROM recruiter_profiles WHERE user_id = ?',
      [finalUserId]
    );

    const now = new Date();

    if (existing.length > 0) {
      // Update existing profile
      await connection.execute(
        `UPDATE recruiter_profiles
         SET company_name = ?, company_website = ?, company_type = ?, 
             address_line1 = ?, address_line2 = ?, city = ?, state = ?, country = ?, pincode = ?,
             status = COALESCE(?, status), verification_notes = ?, updated_at = ?
         WHERE user_id = ?`,
        [
          company_name,
          company_website || null,
          company_type || null,
          address_line1 || null,
          address_line2 || null,
          city || null,
          state || null,
          country || null,
          pincode || null,
          statusValue || null,
          verification_notes || null,
          now,
          finalUserId
        ]
      );

      await connection.commit();

      const [updatedRows] = await connection.execute(
        'SELECT * FROM recruiter_profiles WHERE user_id = ?',
        [finalUserId]
      );

      // Add verified field for frontend compatibility
      const recruiterData = updatedRows[0];
      if (recruiterData) {
        recruiterData.verified = recruiterData.status === 'approved' ? 1 : 0;
      }

      return res.json({
        success: true,
        message: 'Recruiter profile updated successfully',
        recruiter: recruiterData
      });
    } else {
      // Create new recruiter profile
      const defaultStatus = statusValue || 'pending';
      
      await connection.execute(
        `INSERT INTO recruiter_profiles
         (user_id, company_name, company_website, company_type,
          address_line1, address_line2, city, state, country, pincode,
          status, verification_notes, created_at, updated_at)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
        [
          finalUserId,
          company_name,
          company_website || null,
          company_type || null,
          address_line1 || null,
          address_line2 || null,
          city || null,
          state || null,
          country || null,
          pincode || null,
          defaultStatus,
          verification_notes || null,
          now,
          now
        ]
      );

      await connection.commit();

      const [newRows] = await connection.execute(
        'SELECT * FROM recruiter_profiles WHERE user_id = ?',
        [finalUserId]
      );

      // Add verified field for frontend compatibility
      const recruiterData = newRows[0];
      if (recruiterData) {
        recruiterData.verified = recruiterData.status === 'approved' ? 1 : 0;
      }

      return res.status(201).json({
        success: true,
        message: 'Recruiter profile created successfully',
        recruiter: recruiterData
      });
    }
  } catch (err) {
    if (connection) {
      try { await connection.rollback(); } catch (e) { /* ignore rollback error */ }
    }
    console.error('Recruiter profile handler error:', err);
    return res.status(500).json({
      success: false,
      message: 'Internal server error'
    });
  } finally {
    if (connection) connection.release();
  }
};

module.exports = recruiterProfile;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\recruiter\hire-jobs\create-job.js ===
const multer = require("multer");
const path = require("path");
const fs = require("fs");
const pool = require("../../config/db");

// ensure uploads dir exists
const UPLOAD_DIR = path.join(__dirname, "..", "..", "..", "uploads", "logos");
fs.mkdirSync(UPLOAD_DIR, { recursive: true });

// multer storage
const storage = multer.diskStorage({
  destination: (req, file, cb) => cb(null, UPLOAD_DIR),
  filename: (req, file, cb) => {
    const ext = path.extname(file.originalname);
    const name = `${Date.now()}-${Math.round(Math.random() * 1e9)}${ext}`;
    cb(null, name);
  },
});
const upload = multer({
  storage,
  limits: { fileSize: 5 * 1024 * 1024 }, // 5MB limit
  fileFilter: (req, file, cb) => {
    if (!file.mimetype.startsWith("image/")) return cb(new Error("Only image files allowed"), false);
    cb(null, true);
  },
});

async function createJobHandler(req, res) {
  // Apply multer middleware for single file upload
  const uploadMiddleware = upload.single("logo");
  uploadMiddleware(req, res, async (err) => {
    if (err) {
      return res.status(400).json({ ok: false, message: err.message });
    }
    try {
      // Get recruiter_id from authenticated user - use req.user.id from your auth middleware
      const recruiterId = req.user?.id;
      
      console.log("User object:", req.user); // Debug log
      console.log("Recruiter ID:", recruiterId); // Debug log
      
      if (!recruiterId) {
        return res.status(401).json({ ok: false, message: "Unauthorized - Please log in to post jobs" });
      }

      // fields from your frontend form (camelCase)
      const {
        title = "",
        company = "",
        jobType = "Full-time",
        city = "",
        locality = "",
        minExperience = null,
        maxExperience = null,
        salary = "",
        vacancies = "1",
        description = "",
        interviewAddress = "",
        contactEmail = "",
        contactPhone = "",
        skills = "", // Added skills here
      } = req.body;

      // simple validation
      const errors = [];
      if (!title.trim()) errors.push("title is required");
      if (!company.trim()) errors.push("company is required");
      if (!city.trim()) errors.push("city is required");
      if (!description.trim()) errors.push("description is required");
      if (!contactEmail.trim() && !contactPhone.trim()) errors.push("provide email or phone");

      if (errors.length) return res.status(400).json({ ok: false, errors });

      // prepare values to insert
      const logoPath = req.file ? path.posix.join("uploads", "logos", req.file.filename) : null;

      // convert numeric fields carefully
      const minExpNum = minExperience === null || minExperience === "" ? null : Number(minExperience);
      const maxExpNum = maxExperience === null || maxExperience === "" ? null : Number(maxExperience);
      const vacanciesNum = vacancies ? Math.max(1, parseInt(vacancies, 10) || 1) : 1;

      // Insert into DB (use placeholders)
      const sql = `
        INSERT INTO jobs
          (title, company, job_type, city, locality, min_experience, max_experience, salary, vacancies, description, interview_address, contact_email, contact_phone, logo_path, recruiter_id, posted_at)
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW())
      `;

      const params = [
        title,
        company,
        jobType,
        city,
        locality || null,
        minExpNum,
        maxExpNum,
        salary || null,
        vacanciesNum,
        description,
        interviewAddress || null,
        contactEmail || null,
        contactPhone || null,
        logoPath,
        recruiterId,
      ];

      const [result] = await pool.query(sql, params);
      const jobId = result.insertId;

      // Insert skills as tags if provided
      if (skills && typeof skills === 'string' && skills.trim()) {
        try {
          const skillList = skills.split(',').map(s => s.trim()).filter(Boolean);
          for (const skillName of skillList) {
            // Insert tag if not exists, get its ID
            const [tagRows] = await pool.query(
              `INSERT INTO job_tags (name) VALUES (?) ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id)`,
              [skillName]
            );
            const tagId = tagRows.insertId || (await pool.query(`SELECT id FROM job_tags WHERE name = ?`, [skillName]))[0][0].id;
            // Link job to tag
            await pool.query(`INSERT IGNORE INTO job_tag_map (job_id, tag_id) VALUES (?, ?)`, [jobId, tagId]);
          }
        } catch (e) {
          // if tag insertion fails, still return success (job was created)
          console.error('Error saving skills as tags:', e.message);
        }
      }

      return res.status(201).json({
        ok: true,
        id: jobId,
        message: "Job created successfully",
        logoPath,
      });
    } catch (err) {
      console.error("createJob error:", err);
      return res.status(500).json({ ok: false, message: err.message || "Internal Server Error" });
    }
  });
}

module.exports = createJobHandler;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\recruiter\hire-jobs\getJobApplicants.js ===
const pool = require("../../config/db");

async function getJobApplicants(req, res) {
  try {
    const recruiterId = req.user?.id;
    const jobId = req.params.jobId;
    
    if (!recruiterId) {
      return res.status(401).json({ ok: false, message: "Unauthorized" });
    }

    if (!jobId) {
      return res.status(400).json({ ok: false, message: "Job ID is required" });
    }

    // First verify the job belongs to this recruiter
    const [jobRows] = await pool.query(
      'SELECT id FROM jobs WHERE id = ? AND recruiter_id = ?',
      [jobId, recruiterId]
    );

    if (jobRows.length === 0) {
      return res.status(404).json({ ok: false, message: "Job not found or access denied" });
    }

    // Get applicants for this job
    const sql = `
      SELECT 
        ja.id as application_id,
        ja.status,
        ja.cover_letter,
        ja.resume_path,
        ja.applied_at,
        u.id as user_id,
        u.email,
        u.username,
        up.full_name,
        up.phone,
        up.city,
        up.state,
        up.country,
        up.experience_years,
        up.highest_education,
        up.linkedin_url,
        up.portfolio_url
      FROM job_applications ja
      INNER JOIN users u ON ja.user_id = u.id
      LEFT JOIN candidate_profiles up ON u.id = up.user_id
      WHERE ja.job_id = ?
      ORDER BY ja.applied_at DESC
    `;
    
    const [applicants] = await pool.query(sql, [jobId]);

    const result = applicants.map(app => ({
      applicationId: app.application_id,
      status: app.status,
      coverLetter: app.cover_letter,
      resumePath: app.resume_path,
      appliedAt: app.applied_at,
      user: {
        id: app.user_id,
        email: app.email,
        username: app.username,
        fullName: app.full_name,
        phone: app.phone,
        location: `${app.city || ''}${app.city && app.state ? ', ' : ''}${app.state || ''}`,
        country: app.country,
        experienceYears: app.experience_years,
        highestEducation: app.highest_education,
        linkedinUrl: app.linkedin_url,
        portfolioUrl: app.portfolio_url
      }
    }));

    res.json({ ok: true, applicants: result });
  } catch (err) {
    console.error('GET /api/recruiter/jobs/:jobId/applicants error:', err);
    res.status(500).json({ ok: false, message: 'Internal Server Error' });
  }
}

module.exports = getJobApplicants;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\recruiter\hire-jobs\getRecruiterJobs.js ===
const pool = require("../../config/db");

function parseSkills(skills) {
  if (!skills) return [];
  return skills.split(',').map(s => s.trim()).filter(Boolean);
}

async function getRecruiterJobs(req, res) {
  try {
    const recruiterId = req.user?.id;
    
    if (!recruiterId) {
      return res.status(401).json({ ok: false, message: "Unauthorized" });
    }

    const sql = `
      SELECT
        id,
        title,
        company,
        job_type,
        city,
        locality,
        min_experience,
        max_experience,
        salary,
        vacancies,
        description,
        logo_path,
        contact_email,
        contact_phone,
        interview_address,
        posted_at,
        created_at
      FROM jobs
      WHERE recruiter_id = ?
      ORDER BY created_at DESC
    `;
    
    const [rows] = await pool.query(sql, [recruiterId]);

    // Fetch tags from normalized tables
    let tagMap = {};
    if (Array.isArray(rows) && rows.length) {
      try {
        const ids = rows.map((r) => r.id);
        if (ids.length > 0) {
          const placeholders = ids.map(() => '?').join(',');
          const tagSql = `SELECT jtm.job_id, jt.name as tag FROM job_tag_map jtm JOIN job_tags jt ON jt.id = jtm.tag_id WHERE jtm.job_id IN (${placeholders})`;
          const [tagRows] = await pool.query(tagSql, ids);
          tagRows.forEach((tr) => {
            tagMap[tr.job_id] = tagMap[tr.job_id] || [];
            tagMap[tr.job_id].push(tr.tag);
          });
        }
      } catch (e) {
        console.error('Error fetching tags:', e.message);
      }
    }

    const jobs = rows.map(r => {
      let experience = 'Not specified';
      if (r.min_experience == null && r.max_experience == null) experience = 'Fresher';
      else if (r.min_experience != null && r.max_experience == null) experience = `${r.min_experience}+ yrs`;
      else if (r.min_experience == null && r.max_experience != null) experience = `Up to ${r.max_experience} yrs`;
      else experience = `${r.min_experience}-${r.max_experience} yrs`;

      return {
        id: r.id,
        title: r.title,
        company: r.company,
        type: r.job_type || 'Full-time',
        location: r.city + (r.locality ? `, ${r.locality}` : ''),
        tags: tagMap[r.id] || [],
        salary: r.salary || 'Not specified',
        vacancies: r.vacancies,
        description: r.description,
        logoPath: r.logo_path || null,
        contactEmail: r.contact_email,
        contactPhone: r.contact_phone,
        interviewAddress: r.interview_address,
        postedAt: r.posted_at,
        createdAt: r.created_at,
        experience,
      };
    });

    res.json({ ok: true, jobs });
  } catch (err) {
    console.error('GET /api/recruiter/jobs error:', err);
    res.status(500).json({ ok: false, message: 'Internal Server Error' });
  }
}

module.exports = getRecruiterJobs;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\api\recruiter\hire-jobs\getRecruiterJobStats.js ===
const pool = require("../../config/db");

async function getRecruiterJobStats(req, res) {
  try {
    const recruiterId = req.user?.id;
    
    if (!recruiterId) {
      return res.status(401).json({ ok: false, message: "Unauthorized" });
    }

    // Get jobs with application counts
    const sql = `
      SELECT 
        j.id,
        j.title,
        j.company,
        j.job_type,
        j.city,
        j.locality,
        j.vacancies,
        j.created_at,
        COUNT(ja.id) as application_count
      FROM jobs j
      LEFT JOIN job_applications ja ON j.id = ja.job_id
      WHERE j.recruiter_id = ?
      GROUP BY j.id
      ORDER BY j.created_at DESC
    `;
    
    const [rows] = await pool.query(sql, [recruiterId]);

    const jobs = rows.map(job => ({
      id: job.id,
      title: job.title,
      company: job.company,
      type: job.job_type,
      location: job.city + (job.locality ? `, ${job.locality}` : ''),
      vacancies: job.vacancies,
      applicationCount: job.application_count,
      createdAt: job.created_at
    }));

    res.json({ ok: true, jobs });
  } catch (err) {
    console.error('GET /api/recruiter/job-stats error:', err);
    res.status(500).json({ ok: false, message: 'Internal Server Error' });
  }
}

module.exports = getRecruiterJobStats;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\auth\admin\index.js ===
const express = require('express');
const router = express.Router();
const adminRegister = require('../../../api/profile/admin/admin-register');
const adminLogin = require('../../../api/profile/admin/admin-login');
const adminLogout = require('../../../api/profile/admin/admin-logout');
const { requireAdminAuth } = require('../../../middlewares/adminAuth');
const getAdminUsers = require('../../../api/profile/admin/admin-users');
const getAdminRecruiters = require('../../../api/profile/admin/admin-recruiters');
const getAdminJobs = require('../../../api/profile/admin/admin-jobs');
const verifyRecruiter = require('../../../api/profile/admin/admin-verify-recruiter');
const updateJobStatus = require('../../../api/profile/admin/admin-update-job-status');

// Admin Register
router.post('/register', adminRegister);

// Admin Sign In
router.post('/login', adminLogin);

// Admin Logout
router.post('/logout', adminLogout);
router.get('/users', requireAdminAuth, getAdminUsers);
router.get('/recruiters', requireAdminAuth, getAdminRecruiters);
router.get('/jobs', requireAdminAuth, getAdminJobs);
router.put('/recruiters/:recruiterId/verify', requireAdminAuth, verifyRecruiter);
router.put('/jobs/:jobId/status', requireAdminAuth, updateJobStatus);



module.exports = router;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\auth\candidate\index.js ===
const express = require('express');
const router = express.Router();
const logout = require('../../../api/auth/logout');
const updateProfile = require('../../../api/auth/update');
/**
 * Import Auth Handlers
 * ---------------------
 * These handlers contain the actual logic for signup and login.
 * They live in: src/api/auth/users/
 *
 * signUp  → Creates new user, hashes password, saves to DB, sets cookie.
 * signIn  → Validates credentials, checks DB, issues JWT cookie.
 */
const signUp = require('../../../api/auth/sign-up');
const signIn = require('../../../api/auth/sign-in');
const googleAuth = require('../../../api/auth/google-auth');

/**
 * Auth Middleware
 * ----------------
 * requireAuth  → Ensures that the incoming request has a valid JWT cookie.
 * authCheck    → Returns the decoded user data stored in req.user.
 */
const { requireAuth, authCheck } = require('../../../middlewares/auth');

/**
 * Route Mount Point
 * ------------------
 * This file is mounted at /api/auth in routes/router.js:
 * 
 *     app.use('/api/auth', index)
 *
 * So the final endpoints become:
 *   POST   /api/auth/signup
 *   POST   /api/auth/login
 *   GET    /api/auth/authcheck
 *   ( optional alias ) /api/auth/me
 */

// Create new user
router.post('/signup', signUp);

// Login user and issue JWT cookie
router.post('/login', signIn);

// Google OAuth authentication
router.post('/google', googleAuth);

// Validate token + return currently authenticated user
router.get('/authcheck', requireAuth, authCheck);

// Alias if you want cleaner endpoint:
router.get('/me', requireAuth, authCheck);
// Update profile (authenticated)
router.put('/me', requireAuth, updateProfile);
// Logout user by clearing the cookie
router.post('/logout', logout);

module.exports = router;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\auth\recruiter\hire-jobs\create-jobs\index.js ===
const express = require("express");
const router = express.Router();

const createJob = require("../../../../../api/recruiter/hire-jobs/create-job");
// POST /recruiter/hire-jobs - Create a new job posting
router.post("/", createJob);

module.exports = router;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\auth\recruiter\recruter-premier\index.js ===

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\jobs\index.js ===
const express = require("express");
const router = express.Router();

//  here are Import job controllers
const getjobs = require("../../api/jobs/get-jobs");
const getjobdetails = require("../../api/jobs/get-jobdetails");
const { postApplication, upload } = require("../../api/jobs/applications");
const getAppliedJobs = require("../../api/jobs/getapplied");
const removeSavedJob = require("../../api/jobs/savejobs/removeSavedJob");
const checkSavedJob = require("../../api/jobs/savejobs/checkSavedJob");
const saveJob = require("../../api/jobs/savejobs/savedJobs");
const getSavedJobs = require("../../api/jobs/savejobs/getSavedJobs");
const { requireAuth } = require("../../middlewares/auth");

// Apply auth middleware to protected routes
router.get("/applied-jobs", requireAuth, getAppliedJobs);
router.post("/apply", requireAuth, upload.single("resume"), postApplication);

// Saved jobs routes
router.post("/save/:job_id", requireAuth, saveJob);
router.delete("/save/:job_id", requireAuth, removeSavedJob);
router.get("/save/:job_id", requireAuth, checkSavedJob);
router.get("/saved-jobs", requireAuth, getSavedJobs);

// Public routes
router.get("/", getjobs);
router.get("/:id", getjobdetails);

module.exports = router;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\profile\candidate\index.js ===
const express = require('express');
const router = express.Router();
const user = require("../../../api/profile/candidate/candidate-put");
const getuser = require("../../../api/profile/candidate/candidate-get");
const { requireAuth } = require('../../../middlewares/auth');

// Ensure JSON payloads are parsed for profile routes
router.use(express.json());
router.get('/user', requireAuth, getuser);
router.put('/user', requireAuth, user);
module.exports = router;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\profile\recruiter\index.js ===
const express = require('express');
const router = express.Router();
const { requireAuth } = require('../../../middlewares/auth');
const recruiterProfile = require("../../../api/profile/recruiter/recruiter-put");
const getRecruiterProfile = require("../../../api/profile/recruiter/get-recruiter");
// GET /recruiter - Get recruiter profile
router.use(express.json());
router.get('/recruiter', requireAuth, getRecruiterProfile);
// PUT /recruiter - Update recruiter profile
router.use(express.json());
router.put('/recruiter', requireAuth, recruiterProfile);
module.exports = router;
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\controllers\recruiter\hire-jobs\index.js ===
const express = require('express');
const router = express.Router();
const { requireAuth } = require('../../../middlewares/auth');
const getRecruiterJobs = require('../../../api/recruiter/hire-jobs/getRecruiterJobs');
const getRecruiterJobStats = require("../../../api/recruiter/hire-jobs/getRecruiterJobStats");
const getJobApplicants = require("../../../api/recruiter/hire-jobs/getJobApplicants");
const createJob = require('../../../api/recruiter/hire-jobs/create-job');
// Apply authentication middleware
router.use(requireAuth);
// POST /api/recruiter/jobs/create
router.post('/create', createJob);
// GET /api/recruiter/jobs
router.get('/', getRecruiterJobs);
// GET /api/recruiter/jobs/stats
router.get('/stats', getRecruiterJobStats);
// GET /api/recruiter/jobs/:jobId/applicants
router.get('/:jobId/applicants', getJobApplicants);     
// GET /api/recruiter/jobs/stats/overview


module.exports = router;

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\middlewares\adminAuth.js ===
const jwt = require('jsonwebtoken');

function requireAdminAuth(req, res, next) {
  try {
    const token = req.cookies?.token;

    if (!token) {
      return res.status(401).json({ message: 'Unauthorized: No token provided' });
    }

    const payload = jwt.verify(token, process.env.JWT_SECRET);

    // Check if user is admin
    if (payload.role !== 'admin') {
      return res.status(403).json({ message: 'Forbidden: Admin access required' });
    }

    req.user = {
      id: payload.sub,
      email: payload.email,
      role: payload.role,
      full_name: payload.full_name,
      loginAt: payload.iat ? new Date(payload.iat * 1000).toISOString() : undefined,
    };

    return next();
  } catch (err) {
    return res.status(401).json({ message: 'Unauthorized: Invalid token' });
  }
}

module.exports = { requireAdminAuth };
--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\middlewares\auth.js ===

const jwt = require('jsonwebtoken');


function requireAuth(req, res, next) {
  try {
    // Extract token from cookies
    const token = req.cookies?.token;

    // If no token found, block access
    if (!token) return res.status(401).json({ message: 'Unauthorized' });

    // Verify token and extract payload
    const payload = jwt.verify(token, process.env.JWT_SECRET);

    // Attach essential user details to req.user for use in next handlers
    // Include token issuance time (iat) as loginAt so frontend can show login time
    req.user = {
      id: payload.sub,
      email: payload.email,
      role: payload.role,
      loginAt: payload.iat ? new Date(payload.iat * 1000).toISOString() : undefined,
    };

    return next(); // Move to the next middleware/controller
  } catch (err) {
    // Token expired or invalid
    return res.status(401).json({ message: 'Unauthorized' });
  }
}

/**
 * Handler: authCheck
 * -------------------
 * Purpose:
 *   - Return the currently authenticated user's data.
 *   - This handler must run after requireAuth middleware.
 *
 * Flow:
 *   1. Check if req.user exists.
 *   2. If not → return 401.
 *   3. Send user object in response.
 */
function authCheck(req, res) {
  if (!req.user) return res.status(401).json({ message: 'Unauthorized' });

  // Send user info to frontend
  return res.json({ user: req.user });
}

module.exports = { requireAuth, authCheck };

--- END OF FILE ---

=== FILE: C:\Users\CreativeStudio24\Desktop\Job-spark\server\src\routes\routes.js ===
const express = require('express');
const router = express.Router();

// Import all route modules
const recruiterJobRoutes = require('../controllers/recruiter/hire-jobs/index');
const jobsRouter = require('../controllers/jobs/index'); // This should point to jobs.js router
const profileRoutes = require("../controllers/profile/candidate/index");
const authRoutes = require('../controllers/auth/candidate/index');
const recruiter_profiles = require("../controllers/profile/recruiter/index");
const  requireAdminAuth  = require('../controllers/auth/admin/index');

// Auth routes
router.use('/auth', authRoutes);
// Admin Auth routes
router.use('/admin/auth', requireAdminAuth);

// Recruiter jobs
router.use('/recruiter/jobs', recruiterJobRoutes);

// Jobs routes - FIXED: This mounts at /api/jobs
router.use('/jobs', jobsRouter);

// Profile routes
router.use('/profile', profileRoutes);

// Recruiter Profiles - FIXED: Changed to avoid conflict
router.use('/recruiter-profile', recruiter_profiles);

module.exports = router;
--- END OF FILE ---


=== END OF MERGE (Total files: 96) ===
